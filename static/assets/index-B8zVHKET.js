var gg=r=>{throw TypeError(r)};var Jd=(r,e,t)=>e.has(r)||gg("Cannot "+t);var mt=(r,e,t)=>(Jd(r,e,"read from private field"),t?t.call(r):e.get(r)),dn=(r,e,t)=>e.has(r)?gg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),vs=(r,e,t,s)=>(Jd(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),hn=(r,e,t)=>(Jd(r,e,"access private method"),t);var yg=(r,e,t,s)=>({set _(n){vs(r,e,n,t)},get _(){return mt(r,e,s)}});function gw(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in r)){const a=Object.getOwnPropertyDescriptor(s,n);a&&Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $c(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function yw(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function s(){var n=!1;try{n=this instanceof s}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var n=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return r[s]}})}),t}var Zd={exports:{}},qa={},eh={exports:{}},qe={};var xg;function xw(){if(xg)return qe;xg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(_){return _===null||typeof _!="object"?null:(_=m&&_[m]||_["@@iterator"],typeof _=="function"?_:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,v={};function A(_,B,te){this.props=_,this.context=B,this.refs=v,this.updater=te||w}A.prototype.isReactComponent={},A.prototype.setState=function(_,B){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,B,"setState")},A.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function E(){}E.prototype=A.prototype;function D(_,B,te){this.props=_,this.context=B,this.refs=v,this.updater=te||w}var O=D.prototype=new E;O.constructor=D,C(O,A.prototype),O.isPureReactComponent=!0;var T=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(_,B,te){var ee,le={},ae=null,W=null;if(B!=null)for(ee in B.ref!==void 0&&(W=B.ref),B.key!==void 0&&(ae=""+B.key),B)k.call(B,ee)&&!R.hasOwnProperty(ee)&&(le[ee]=B[ee]);var ne=arguments.length-2;if(ne===1)le.children=te;else if(1<ne){for(var ce=Array(ne),me=0;me<ne;me++)ce[me]=arguments[me+2];le.children=ce}if(_&&_.defaultProps)for(ee in ne=_.defaultProps,ne)le[ee]===void 0&&(le[ee]=ne[ee]);return{$$typeof:r,type:_,key:ae,ref:W,props:le,_owner:j.current}}function M(_,B){return{$$typeof:r,type:_.type,key:B,ref:_.ref,props:_.props,_owner:_._owner}}function L(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function V(_){var B={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(te){return B[te]})}var X=/\/+/g;function U(_,B){return typeof _=="object"&&_!==null&&_.key!=null?V(""+_.key):B.toString(36)}function K(_,B,te,ee,le){var ae=typeof _;(ae==="undefined"||ae==="boolean")&&(_=null);var W=!1;if(_===null)W=!0;else switch(ae){case"string":case"number":W=!0;break;case"object":switch(_.$$typeof){case r:case e:W=!0}}if(W)return W=_,le=le(W),_=ee===""?"."+U(W,0):ee,T(le)?(te="",_!=null&&(te=_.replace(X,"$&/")+"/"),K(le,B,te,"",function(me){return me})):le!=null&&(L(le)&&(le=M(le,te+(!le.key||W&&W.key===le.key?"":(""+le.key).replace(X,"$&/")+"/")+_)),B.push(le)),1;if(W=0,ee=ee===""?".":ee+":",T(_))for(var ne=0;ne<_.length;ne++){ae=_[ne];var ce=ee+U(ae,ne);W+=K(ae,B,te,ce,le)}else if(ce=y(_),typeof ce=="function")for(_=ce.call(_),ne=0;!(ae=_.next()).done;)ae=ae.value,ce=ee+U(ae,ne++),W+=K(ae,B,te,ce,le);else if(ae==="object")throw B=String(_),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return W}function J(_,B,te){if(_==null)return _;var ee=[],le=0;return K(_,ee,"","",function(ae){return B.call(te,ae,le++)}),ee}function Q(_){if(_._status===-1){var B=_._result;B=B(),B.then(function(te){(_._status===0||_._status===-1)&&(_._status=1,_._result=te)},function(te){(_._status===0||_._status===-1)&&(_._status=2,_._result=te)}),_._status===-1&&(_._status=0,_._result=B)}if(_._status===1)return _._result.default;throw _._result}var b={current:null},q={transition:null},F={ReactCurrentDispatcher:b,ReactCurrentBatchConfig:q,ReactCurrentOwner:j};function N(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:J,forEach:function(_,B,te){J(_,function(){B.apply(this,arguments)},te)},count:function(_){var B=0;return J(_,function(){B++}),B},toArray:function(_){return J(_,function(B){return B})||[]},only:function(_){if(!L(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},qe.Component=A,qe.Fragment=t,qe.Profiler=n,qe.PureComponent=D,qe.StrictMode=s,qe.Suspense=d,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,qe.act=N,qe.cloneElement=function(_,B,te){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var ee=C({},_.props),le=_.key,ae=_.ref,W=_._owner;if(B!=null){if(B.ref!==void 0&&(ae=B.ref,W=j.current),B.key!==void 0&&(le=""+B.key),_.type&&_.type.defaultProps)var ne=_.type.defaultProps;for(ce in B)k.call(B,ce)&&!R.hasOwnProperty(ce)&&(ee[ce]=B[ce]===void 0&&ne!==void 0?ne[ce]:B[ce])}var ce=arguments.length-2;if(ce===1)ee.children=te;else if(1<ce){ne=Array(ce);for(var me=0;me<ce;me++)ne[me]=arguments[me+2];ee.children=ne}return{$$typeof:r,type:_.type,key:le,ref:ae,props:ee,_owner:W}},qe.createContext=function(_){return _={$$typeof:l,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:a,_context:_},_.Consumer=_},qe.createElement=I,qe.createFactory=function(_){var B=I.bind(null,_);return B.type=_,B},qe.createRef=function(){return{current:null}},qe.forwardRef=function(_){return{$$typeof:u,render:_}},qe.isValidElement=L,qe.lazy=function(_){return{$$typeof:p,_payload:{_status:-1,_result:_},_init:Q}},qe.memo=function(_,B){return{$$typeof:f,type:_,compare:B===void 0?null:B}},qe.startTransition=function(_){var B=q.transition;q.transition={};try{_()}finally{q.transition=B}},qe.unstable_act=N,qe.useCallback=function(_,B){return b.current.useCallback(_,B)},qe.useContext=function(_){return b.current.useContext(_)},qe.useDebugValue=function(){},qe.useDeferredValue=function(_){return b.current.useDeferredValue(_)},qe.useEffect=function(_,B){return b.current.useEffect(_,B)},qe.useId=function(){return b.current.useId()},qe.useImperativeHandle=function(_,B,te){return b.current.useImperativeHandle(_,B,te)},qe.useInsertionEffect=function(_,B){return b.current.useInsertionEffect(_,B)},qe.useLayoutEffect=function(_,B){return b.current.useLayoutEffect(_,B)},qe.useMemo=function(_,B){return b.current.useMemo(_,B)},qe.useReducer=function(_,B,te){return b.current.useReducer(_,B,te)},qe.useRef=function(_){return b.current.useRef(_)},qe.useState=function(_){return b.current.useState(_)},qe.useSyncExternalStore=function(_,B,te){return b.current.useSyncExternalStore(_,B,te)},qe.useTransition=function(){return b.current.useTransition()},qe.version="18.3.1",qe}var vg;function nn(){return vg||(vg=1,eh.exports=xw()),eh.exports}var bg;function vw(){if(bg)return qa;bg=1;var r=nn(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,m={},y=null,w=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)s.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:w,props:m,_owner:n.current}}return qa.Fragment=t,qa.jsx=l,qa.jsxs=l,qa}var wg;function bw(){return wg||(wg=1,Zd.exports=vw()),Zd.exports}var c=bw(),H=nn();const Hc=$c(H),ww=gw({__proto__:null,default:Hc},[H]);var nc={},th={exports:{}},bs={},sh={exports:{}},nh={};var Sg;function Sw(){return Sg||(Sg=1,(function(r){function e(q,F){var N=q.length;q.push(F);e:for(;0<N;){var _=N-1>>>1,B=q[_];if(0<n(B,F))q[_]=F,q[N]=B,N=_;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var F=q[0],N=q.pop();if(N!==F){q[0]=N;e:for(var _=0,B=q.length,te=B>>>1;_<te;){var ee=2*(_+1)-1,le=q[ee],ae=ee+1,W=q[ae];if(0>n(le,N))ae<B&&0>n(W,le)?(q[_]=W,q[ae]=N,_=ae):(q[_]=le,q[ee]=N,_=ee);else if(ae<B&&0>n(W,N))q[_]=W,q[ae]=N,_=ae;else break e}}return F}function n(q,F){var N=q.sortIndex-F.sortIndex;return N!==0?N:q.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,y=3,w=!1,C=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(q){for(var F=t(f);F!==null;){if(F.callback===null)s(f);else if(F.startTime<=q)s(f),F.sortIndex=F.expirationTime,e(d,F);else break;F=t(f)}}function T(q){if(v=!1,O(q),!C)if(t(d)!==null)C=!0,Q(k);else{var F=t(f);F!==null&&b(T,F.startTime-q)}}function k(q,F){C=!1,v&&(v=!1,E(I),I=-1),w=!0;var N=y;try{for(O(F),m=t(d);m!==null&&(!(m.expirationTime>F)||q&&!V());){var _=m.callback;if(typeof _=="function"){m.callback=null,y=m.priorityLevel;var B=_(m.expirationTime<=F);F=r.unstable_now(),typeof B=="function"?m.callback=B:m===t(d)&&s(d),O(F)}else s(d);m=t(d)}if(m!==null)var te=!0;else{var ee=t(f);ee!==null&&b(T,ee.startTime-F),te=!1}return te}finally{m=null,y=N,w=!1}}var j=!1,R=null,I=-1,M=5,L=-1;function V(){return!(r.unstable_now()-L<M)}function X(){if(R!==null){var q=r.unstable_now();L=q;var F=!0;try{F=R(!0,q)}finally{F?U():(j=!1,R=null)}}else j=!1}var U;if(typeof D=="function")U=function(){D(X)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=X,U=function(){J.postMessage(null)}}else U=function(){A(X,0)};function Q(q){R=q,j||(j=!0,U())}function b(q,F){I=A(function(){q(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_continueExecution=function(){C||w||(C=!0,Q(k))},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(q){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var N=y;y=F;try{return q()}finally{y=N}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(q,F){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var N=y;y=q;try{return F()}finally{y=N}},r.unstable_scheduleCallback=function(q,F,N){var _=r.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?_+N:_):N=_,q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=N+B,q={id:p++,callback:F,priorityLevel:q,startTime:N,expirationTime:B,sortIndex:-1},N>_?(q.sortIndex=N,e(f,q),t(d)===null&&q===t(f)&&(v?(E(I),I=-1):v=!0,b(T,N-_))):(q.sortIndex=B,e(d,q),C||w||(C=!0,Q(k))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var F=y;return function(){var N=y;y=F;try{return q.apply(this,arguments)}finally{y=N}}}})(nh)),nh}var Cg;function Cw(){return Cg||(Cg=1,sh.exports=Sw()),sh.exports}var Ag;function Aw(){if(Ag)return bs;Ag=1;var r=nn(),e=Cw();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,n={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(n[i]=o,i=0;i<o.length;i++)s.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function w(i,o,h,g){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,h,g){if(o===null||typeof o>"u"||w(i,o,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v(i,o,h,g,x,S,P){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=i,this.type=o,this.sanitizeURL=S,this.removeEmptyString=P}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new v(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new v(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new v(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new v(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new v(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new v(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(E,D);A[o]=new v(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(E,D);A[o]=new v(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(E,D);A[o]=new v(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,o,h,g){var x=A.hasOwnProperty(o)?A[o]:null;(x!==null?x.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,h,x,g)&&(h=null),g||x===null?y(o)&&(h===null?i.removeAttribute(o):i.setAttribute(o,""+h)):x.mustUseProperty?i[x.propertyName]=h===null?x.type===3?!1:"":h:(o=x.attributeName,g=x.attributeNamespace,h===null?i.removeAttribute(o):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,g?i.setAttributeNS(g,o,h):i.setAttribute(o,h))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),j=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),q=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var N=Object.assign,_;function B(i){if(_===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);_=o&&o[1]||""}return`
`+_+i}var te=!1;function ee(i,o){if(!i||te)return"";te=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(re){var g=re}Reflect.construct(i,[],o)}else{try{o.call()}catch(re){g=re}i.call(o.prototype)}else{try{throw Error()}catch(re){g=re}i()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var x=re.stack.split(`
`),S=g.stack.split(`
`),P=x.length-1,z=S.length-1;1<=P&&0<=z&&x[P]!==S[z];)z--;for(;1<=P&&0<=z;P--,z--)if(x[P]!==S[z]){if(P!==1||z!==1)do if(P--,z--,0>z||x[P]!==S[z]){var G=`
`+x[P].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=P&&0<=z);break}}}finally{te=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?B(i):""}function le(i){switch(i.tag){case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return i=ee(i.type,!1),i;case 11:return i=ee(i.type.render,!1),i;case 1:return i=ee(i.type,!0),i;default:return""}}function ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case j:return"Portal";case M:return"Profiler";case I:return"StrictMode";case U:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case X:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case J:return o=i.displayName||null,o!==null?o:ae(i.type)||"Memo";case Q:o=i._payload,i=i._init;try{return ae(i(o))}catch{}}return null}function W(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ne(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ce(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function me(i){var o=ce(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),g=""+i[o];if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,S=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(P){g=""+P,S.call(this,P)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ie(i){i._valueTracker||(i._valueTracker=me(i))}function Fe(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var h=o.getValue(),g="";return i&&(g=ce(i)?i.checked?"true":"false":i.value),i=g,i!==h?(o.setValue(i),!0):!1}function ye(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ve(i,o){var h=o.checked;return N({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function _e(i,o){var h=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;h=ne(o.value!=null?o.value:h),i._wrapperState={initialChecked:g,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Be(i,o){o=o.checked,o!=null&&O(i,"checked",o,!1)}function Pe(i,o){Be(i,o);var h=ne(o.value),g=o.type;if(h!=null)g==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?et(i,o.type,h):o.hasOwnProperty("defaultValue")&&et(i,o.type,ne(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Qe(i,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,h||o===i.value||(i.value=o),i.defaultValue=o}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function et(i,o,h){(o!=="number"||ye(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var nt=Array.isArray;function tt(i,o,h,g){if(i=i.options,o){o={};for(var x=0;x<h.length;x++)o["$"+h[x]]=!0;for(h=0;h<i.length;h++)x=o.hasOwnProperty("$"+i[h].value),i[h].selected!==x&&(i[h].selected=x),x&&g&&(i[h].defaultSelected=!0)}else{for(h=""+ne(h),o=null,x=0;x<i.length;x++){if(i[x].value===h){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function Ht(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return N({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ns(i,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(t(92));if(nt(h)){if(1<h.length)throw Error(t(93));h=h[0]}o=h}o==null&&(o=""),h=o}i._wrapperState={initialValue:ne(h)}}function Ws(i,o){var h=ne(o.value),g=ne(o.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),o.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),g!=null&&(i.defaultValue=""+g)}function os(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function qs(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?qs(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ct,Qt=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,g,x){MSApp.execUnsafeLocalFunction(function(){return i(o,h,g,x)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ct=Ct||document.createElement("div"),Ct.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ct.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function fs(i,o){if(o){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=o;return}}i.textContent=o}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(i){pe.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Cn[o]=Cn[i]})});function Ge(i,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||Cn.hasOwnProperty(i)&&Cn[i]?(""+o).trim():o+"px"}function ut(i,o){i=i.style;for(var h in o)if(o.hasOwnProperty(h)){var g=h.indexOf("--")===0,x=Ge(h,o[h],g);h==="float"&&(h="cssFloat"),g?i.setProperty(h,x):i[h]=x}}var Vt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(i,o){if(o){if(Vt[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ri(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $n=null;function Hn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ho=null,An=null,Nn=null;function fu(i){if(i=Pa(i)){if(typeof Ho!="function")throw Error(t(280));var o=i.stateNode;o&&(o=yl(o),Ho(i.stateNode,i.type,o))}}function ia(i){An?Nn?Nn.push(i):Nn=[i]:An=i}function aa(){if(An){var i=An,o=Nn;if(Nn=An=null,fu(i),o)for(i=0;i<o.length;i++)fu(o[i])}}function pu(i,o){return i(o)}function oa(){}var ii=!1;function la(i,o,h){if(ii)return i(o,h);ii=!0;try{return pu(i,o,h)}finally{ii=!1,(An!==null||Nn!==null)&&(oa(),aa())}}function Vn(i,o){var h=i.stateNode;if(h===null)return null;var g=yl(h);if(g===null)return null;h=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,o,typeof h));return h}var ai=!1;if(u)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){ai=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{ai=!1}function ca(i,o,h,g,x,S,P,z,G){var re=Array.prototype.slice.call(arguments,3);try{o.apply(h,re)}catch(de){this.onError(de)}}var Ar=!1,Nr=null,Er=!1,ua=null,Vo={onError:function(i){Ar=!0,Nr=i}};function Wo(i,o,h,g,x,S,P,z,G){Ar=!1,Nr=null,ca.apply(Vo,arguments)}function mu(i,o,h,g,x,S,P,z,G){if(Wo.apply(this,arguments),Ar){if(Ar){var re=Nr;Ar=!1,Nr=null}else throw Error(t(198));Er||(Er=!0,ua=re)}}function En(i){var o=i,h=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(h=o.return),i=o.return;while(i)}return o.tag===3?h:null}function qo(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function da(i){if(En(i)!==i)throw Error(t(188))}function gu(i){var o=i.alternate;if(!o){if(o=En(i),o===null)throw Error(t(188));return o!==i?null:i}for(var h=i,g=o;;){var x=h.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===h)return da(x),i;if(S===g)return da(x),o;S=S.sibling}throw Error(t(188))}if(h.return!==g.return)h=x,g=S;else{for(var P=!1,z=x.child;z;){if(z===h){P=!0,h=x,g=S;break}if(z===g){P=!0,g=x,h=S;break}z=z.sibling}if(!P){for(z=S.child;z;){if(z===h){P=!0,h=S,g=x;break}if(z===g){P=!0,g=S,h=x;break}z=z.sibling}if(!P)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:o}function Go(i){return i=gu(i),i!==null?Ko(i):null}function Ko(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ko(i);if(o!==null)return o;i=i.sibling}return null}var Xo=e.unstable_scheduleCallback,Yo=e.unstable_cancelCallback,yu=e.unstable_shouldYield,Qo=e.unstable_requestPaint,ft=e.unstable_now,Jo=e.unstable_getCurrentPriorityLevel,oi=e.unstable_ImmediatePriority,ha=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,xu=e.unstable_LowPriority,$=e.unstable_IdlePriority,oe=null,ge=null;function De(i){if(ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}}var Ae=Math.clz32?Math.clz32:_n,Wt=Math.log,Mt=Math.LN2;function _n(i){return i>>>=0,i===0?32:31-(Wt(i)/Mt|0)|0}var Zo=64,el=4194304;function fa(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function tl(i,o){var h=i.pendingLanes;if(h===0)return 0;var g=0,x=i.suspendedLanes,S=i.pingedLanes,P=h&268435455;if(P!==0){var z=P&~x;z!==0?g=fa(z):(S&=P,S!==0&&(g=fa(S)))}else P=h&~x,P!==0?g=fa(P):S!==0&&(g=fa(S));if(g===0)return 0;if(o!==0&&o!==g&&(o&x)===0&&(x=g&-g,S=o&-o,x>=S||x===16&&(S&4194240)!==0))return o;if((g&4)!==0&&(g|=h&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=g;0<o;)h=31-Ae(o),x=1<<h,g|=i[h],o&=~x;return g}function Ob(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Db(i,o){for(var h=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,S=i.pendingLanes;0<S;){var P=31-Ae(S),z=1<<P,G=x[P];G===-1?((z&h)===0||(z&g)!==0)&&(x[P]=Ob(z,o)):G<=o&&(i.expiredLanes|=z),S&=~z}}function vu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Gf(){var i=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),i}function bu(i){for(var o=[],h=0;31>h;h++)o.push(i);return o}function pa(i,o,h){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Ae(o),i[o]=h}function Ib(i,o){var h=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<h;){var x=31-Ae(h),S=1<<x;o[x]=0,g[x]=-1,i[x]=-1,h&=~S}}function wu(i,o){var h=i.entangledLanes|=o;for(i=i.entanglements;h;){var g=31-Ae(h),x=1<<g;x&o|i[g]&o&&(i[g]|=o),h&=~x}}var st=0;function Kf(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Xf,Su,Yf,Qf,Jf,Cu=!1,sl=[],qn=null,Gn=null,Kn=null,ma=new Map,ga=new Map,Xn=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zf(i,o){switch(i){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":ma.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(o.pointerId)}}function ya(i,o,h,g,x,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},o!==null&&(o=Pa(o),o!==null&&Su(o)),i):(i.eventSystemFlags|=g,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function Bb(i,o,h,g,x){switch(o){case"focusin":return qn=ya(qn,i,o,h,g,x),!0;case"dragenter":return Gn=ya(Gn,i,o,h,g,x),!0;case"mouseover":return Kn=ya(Kn,i,o,h,g,x),!0;case"pointerover":var S=x.pointerId;return ma.set(S,ya(ma.get(S)||null,i,o,h,g,x)),!0;case"gotpointercapture":return S=x.pointerId,ga.set(S,ya(ga.get(S)||null,i,o,h,g,x)),!0}return!1}function ep(i){var o=kr(i.target);if(o!==null){var h=En(o);if(h!==null){if(o=h.tag,o===13){if(o=qo(h),o!==null){i.blockedOn=o,Jf(i.priority,function(){Yf(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var h=Nu(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);$n=g,h.target.dispatchEvent(g),$n=null}else return o=Pa(h),o!==null&&Su(o),i.blockedOn=h,!1;o.shift()}return!0}function tp(i,o,h){nl(i)&&h.delete(o)}function Ub(){Cu=!1,qn!==null&&nl(qn)&&(qn=null),Gn!==null&&nl(Gn)&&(Gn=null),Kn!==null&&nl(Kn)&&(Kn=null),ma.forEach(tp),ga.forEach(tp)}function xa(i,o){i.blockedOn===o&&(i.blockedOn=null,Cu||(Cu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ub)))}function va(i){function o(x){return xa(x,i)}if(0<sl.length){xa(sl[0],i);for(var h=1;h<sl.length;h++){var g=sl[h];g.blockedOn===i&&(g.blockedOn=null)}}for(qn!==null&&xa(qn,i),Gn!==null&&xa(Gn,i),Kn!==null&&xa(Kn,i),ma.forEach(o),ga.forEach(o),h=0;h<Xn.length;h++)g=Xn[h],g.blockedOn===i&&(g.blockedOn=null);for(;0<Xn.length&&(h=Xn[0],h.blockedOn===null);)ep(h),h.blockedOn===null&&Xn.shift()}var li=T.ReactCurrentBatchConfig,rl=!0;function zb(i,o,h,g){var x=st,S=li.transition;li.transition=null;try{st=1,Au(i,o,h,g)}finally{st=x,li.transition=S}}function $b(i,o,h,g){var x=st,S=li.transition;li.transition=null;try{st=4,Au(i,o,h,g)}finally{st=x,li.transition=S}}function Au(i,o,h,g){if(rl){var x=Nu(i,o,h,g);if(x===null)$u(i,o,g,il,h),Zf(i,g);else if(Bb(x,i,o,h,g))g.stopPropagation();else if(Zf(i,g),o&4&&-1<Fb.indexOf(i)){for(;x!==null;){var S=Pa(x);if(S!==null&&Xf(S),S=Nu(i,o,h,g),S===null&&$u(i,o,g,il,h),S===x)break;x=S}x!==null&&g.stopPropagation()}else $u(i,o,g,null,h)}}var il=null;function Nu(i,o,h,g){if(il=null,i=Hn(g),i=kr(i),i!==null)if(o=En(i),o===null)i=null;else if(h=o.tag,h===13){if(i=qo(o),i!==null)return i;i=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return il=i,null}function sp(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jo()){case oi:return 1;case ha:return 4;case kn:case xu:return 16;case $:return 536870912;default:return 16}default:return 16}}var Yn=null,Eu=null,al=null;function np(){if(al)return al;var i,o=Eu,h=o.length,g,x="value"in Yn?Yn.value:Yn.textContent,S=x.length;for(i=0;i<h&&o[i]===x[i];i++);var P=h-i;for(g=1;g<=P&&o[h-g]===x[S-g];g++);return al=x.slice(i,1<g?1-g:void 0)}function ol(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ll(){return!0}function rp(){return!1}function Es(i){function o(h,g,x,S,P){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=P,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(h=i[z],this[z]=h?h(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ll:rp,this.isPropagationStopped=rp,this}return N(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),o}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=Es(ci),ba=N({},ci,{view:0,detail:0}),Hb=Es(ba),_u,ju,wa,cl=N({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wa&&(wa&&i.type==="mousemove"?(_u=i.screenX-wa.screenX,ju=i.screenY-wa.screenY):ju=_u=0,wa=i),_u)},movementY:function(i){return"movementY"in i?i.movementY:ju}}),ip=Es(cl),Vb=N({},cl,{dataTransfer:0}),Wb=Es(Vb),qb=N({},ba,{relatedTarget:0}),Tu=Es(qb),Gb=N({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Kb=Es(Gb),Xb=N({},ci,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yb=Es(Xb),Qb=N({},ci,{data:0}),ap=Es(Qb),Jb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=e0[i])?!!o[i]:!1}function Pu(){return t0}var s0=N({},ba,{key:function(i){if(i.key){var o=Jb[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ol(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zb[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(i){return i.type==="keypress"?ol(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ol(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),n0=Es(s0),r0=N({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=Es(r0),i0=N({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),a0=Es(i0),o0=N({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),l0=Es(o0),c0=N({},cl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),u0=Es(c0),d0=[9,13,27,32],Ru=u&&"CompositionEvent"in window,Sa=null;u&&"documentMode"in document&&(Sa=document.documentMode);var h0=u&&"TextEvent"in window&&!Sa,lp=u&&(!Ru||Sa&&8<Sa&&11>=Sa),cp=" ",up=!1;function dp(i,o){switch(i){case"keyup":return d0.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ui=!1;function f0(i,o){switch(i){case"compositionend":return hp(o);case"keypress":return o.which!==32?null:(up=!0,cp);case"textInput":return i=o.data,i===cp&&up?null:i;default:return null}}function p0(i,o){if(ui)return i==="compositionend"||!Ru&&dp(i,o)?(i=np(),al=Eu=Yn=null,ui=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return lp&&o.locale!=="ko"?null:o.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!m0[i.type]:o==="textarea"}function pp(i,o,h,g){ia(g),o=pl(o,"onChange"),0<o.length&&(h=new ku("onChange","change",null,h,g),i.push({event:h,listeners:o}))}var Ca=null,Aa=null;function g0(i){Rp(i,0)}function ul(i){var o=mi(i);if(Fe(o))return i}function y0(i,o){if(i==="change")return o}var mp=!1;if(u){var Lu;if(u){var Mu="oninput"in document;if(!Mu){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Mu=typeof gp.oninput=="function"}Lu=Mu}else Lu=!1;mp=Lu&&(!document.documentMode||9<document.documentMode)}function yp(){Ca&&(Ca.detachEvent("onpropertychange",xp),Aa=Ca=null)}function xp(i){if(i.propertyName==="value"&&ul(Aa)){var o=[];pp(o,Aa,i,Hn(i)),la(g0,o)}}function x0(i,o,h){i==="focusin"?(yp(),Ca=o,Aa=h,Ca.attachEvent("onpropertychange",xp)):i==="focusout"&&yp()}function v0(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ul(Aa)}function b0(i,o){if(i==="click")return ul(o)}function w0(i,o){if(i==="input"||i==="change")return ul(o)}function S0(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Gs=typeof Object.is=="function"?Object.is:S0;function Na(i,o){if(Gs(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var h=Object.keys(i),g=Object.keys(o);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!d.call(o,x)||!Gs(i[x],o[x]))return!1}return!0}function vp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function bp(i,o){var h=vp(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=o&&g>=o)return{node:h,offset:o-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=vp(h)}}function wp(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?wp(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Sp(){for(var i=window,o=ye();o instanceof i.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)i=o.contentWindow;else break;o=ye(i.document)}return o}function Ou(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function C0(i){var o=Sp(),h=i.focusedElem,g=i.selectionRange;if(o!==h&&h&&h.ownerDocument&&wp(h.ownerDocument.documentElement,h)){if(g!==null&&Ou(h)){if(o=g.start,i=g.end,i===void 0&&(i=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(i,h.value.length);else if(i=(o=h.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var x=h.textContent.length,S=Math.min(g.start,x);g=g.end===void 0?S:Math.min(g.end,x),!i.extend&&S>g&&(x=g,g=S,S=x),x=bp(h,S);var P=bp(h,g);x&&P&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),i.removeAllRanges(),S>g?(i.addRange(o),i.extend(P.node,P.offset)):(o.setEnd(P.node,P.offset),i.addRange(o)))}}for(o=[],i=h;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)i=o[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var A0=u&&"documentMode"in document&&11>=document.documentMode,di=null,Du=null,Ea=null,Iu=!1;function Cp(i,o,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Iu||di==null||di!==ye(g)||(g=di,"selectionStart"in g&&Ou(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ea&&Na(Ea,g)||(Ea=g,g=pl(Du,"onSelect"),0<g.length&&(o=new ku("onSelect","select",null,o,h),i.push({event:o,listeners:g}),o.target=di)))}function dl(i,o){var h={};return h[i.toLowerCase()]=o.toLowerCase(),h["Webkit"+i]="webkit"+o,h["Moz"+i]="moz"+o,h}var hi={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},Fu={},Ap={};u&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function hl(i){if(Fu[i])return Fu[i];if(!hi[i])return i;var o=hi[i],h;for(h in o)if(o.hasOwnProperty(h)&&h in Ap)return Fu[i]=o[h];return i}var Np=hl("animationend"),Ep=hl("animationiteration"),kp=hl("animationstart"),_p=hl("transitionend"),jp=new Map,Tp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(i,o){jp.set(i,o),a(o,[i])}for(var Bu=0;Bu<Tp.length;Bu++){var Uu=Tp[Bu],N0=Uu.toLowerCase(),E0=Uu[0].toUpperCase()+Uu.slice(1);Qn(N0,"on"+E0)}Qn(Np,"onAnimationEnd"),Qn(Ep,"onAnimationIteration"),Qn(kp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(_p,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function Pp(i,o,h){var g=i.type||"unknown-event";i.currentTarget=h,mu(g,o,void 0,i),i.currentTarget=null}function Rp(i,o){o=(o&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],x=g.event;g=g.listeners;e:{var S=void 0;if(o)for(var P=g.length-1;0<=P;P--){var z=g[P],G=z.instance,re=z.currentTarget;if(z=z.listener,G!==S&&x.isPropagationStopped())break e;Pp(x,z,re),S=G}else for(P=0;P<g.length;P++){if(z=g[P],G=z.instance,re=z.currentTarget,z=z.listener,G!==S&&x.isPropagationStopped())break e;Pp(x,z,re),S=G}}}if(Er)throw i=ua,Er=!1,ua=null,i}function dt(i,o){var h=o[Ku];h===void 0&&(h=o[Ku]=new Set);var g=i+"__bubble";h.has(g)||(Lp(o,i,2,!1),h.add(g))}function zu(i,o,h){var g=0;o&&(g|=4),Lp(h,i,g,o)}var fl="_reactListening"+Math.random().toString(36).slice(2);function _a(i){if(!i[fl]){i[fl]=!0,s.forEach(function(h){h!=="selectionchange"&&(k0.has(h)||zu(h,!1,i),zu(h,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[fl]||(o[fl]=!0,zu("selectionchange",!1,o))}}function Lp(i,o,h,g){switch(sp(o)){case 1:var x=zb;break;case 4:x=$b;break;default:x=Au}h=x.bind(null,o,h,i),x=void 0,!ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(o,h,{capture:!0,passive:x}):i.addEventListener(o,h,!0):x!==void 0?i.addEventListener(o,h,{passive:x}):i.addEventListener(o,h,!1)}function $u(i,o,h,g,x){var S=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var z=g.stateNode.containerInfo;if(z===x||z.nodeType===8&&z.parentNode===x)break;if(P===4)for(P=g.return;P!==null;){var G=P.tag;if((G===3||G===4)&&(G=P.stateNode.containerInfo,G===x||G.nodeType===8&&G.parentNode===x))return;P=P.return}for(;z!==null;){if(P=kr(z),P===null)return;if(G=P.tag,G===5||G===6){g=S=P;continue e}z=z.parentNode}}g=g.return}la(function(){var re=S,de=Hn(h),he=[];e:{var ue=jp.get(i);if(ue!==void 0){var be=ku,Ne=i;switch(i){case"keypress":if(ol(h)===0)break e;case"keydown":case"keyup":be=n0;break;case"focusin":Ne="focus",be=Tu;break;case"focusout":Ne="blur",be=Tu;break;case"beforeblur":case"afterblur":be=Tu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=a0;break;case Np:case Ep:case kp:be=Kb;break;case _p:be=l0;break;case"scroll":be=Hb;break;case"wheel":be=u0;break;case"copy":case"cut":case"paste":be=Yb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=op}var Ee=(o&4)!==0,Et=!Ee&&i==="scroll",Z=Ee?ue!==null?ue+"Capture":null:ue;Ee=[];for(var Y=re,se;Y!==null;){se=Y;var fe=se.stateNode;if(se.tag===5&&fe!==null&&(se=fe,Z!==null&&(fe=Vn(Y,Z),fe!=null&&Ee.push(ja(Y,fe,se)))),Et)break;Y=Y.return}0<Ee.length&&(ue=new be(ue,Ne,null,h,de),he.push({event:ue,listeners:Ee}))}}if((o&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",be=i==="mouseout"||i==="pointerout",ue&&h!==$n&&(Ne=h.relatedTarget||h.fromElement)&&(kr(Ne)||Ne[jn]))break e;if((be||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,be?(Ne=h.relatedTarget||h.toElement,be=re,Ne=Ne?kr(Ne):null,Ne!==null&&(Et=En(Ne),Ne!==Et||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(be=null,Ne=re),be!==Ne)){if(Ee=ip,fe="onMouseLeave",Z="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=op,fe="onPointerLeave",Z="onPointerEnter",Y="pointer"),Et=be==null?ue:mi(be),se=Ne==null?ue:mi(Ne),ue=new Ee(fe,Y+"leave",be,h,de),ue.target=Et,ue.relatedTarget=se,fe=null,kr(de)===re&&(Ee=new Ee(Z,Y+"enter",Ne,h,de),Ee.target=se,Ee.relatedTarget=Et,fe=Ee),Et=fe,be&&Ne)t:{for(Ee=be,Z=Ne,Y=0,se=Ee;se;se=fi(se))Y++;for(se=0,fe=Z;fe;fe=fi(fe))se++;for(;0<Y-se;)Ee=fi(Ee),Y--;for(;0<se-Y;)Z=fi(Z),se--;for(;Y--;){if(Ee===Z||Z!==null&&Ee===Z.alternate)break t;Ee=fi(Ee),Z=fi(Z)}Ee=null}else Ee=null;be!==null&&Mp(he,ue,be,Ee,!1),Ne!==null&&Et!==null&&Mp(he,Et,Ne,Ee,!0)}}e:{if(ue=re?mi(re):window,be=ue.nodeName&&ue.nodeName.toLowerCase(),be==="select"||be==="input"&&ue.type==="file")var ke=y0;else if(fp(ue))if(mp)ke=w0;else{ke=v0;var Re=x0}else(be=ue.nodeName)&&be.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(ke=b0);if(ke&&(ke=ke(i,re))){pp(he,ke,h,de);break e}Re&&Re(i,ue,re),i==="focusout"&&(Re=ue._wrapperState)&&Re.controlled&&ue.type==="number"&&et(ue,"number",ue.value)}switch(Re=re?mi(re):window,i){case"focusin":(fp(Re)||Re.contentEditable==="true")&&(di=Re,Du=re,Ea=null);break;case"focusout":Ea=Du=di=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,Cp(he,h,de);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":Cp(he,h,de)}var Le;if(Ru)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ui?dp(i,h)&&(Ue="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Ue="onCompositionStart");Ue&&(lp&&h.locale!=="ko"&&(ui||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ui&&(Le=np()):(Yn=de,Eu="value"in Yn?Yn.value:Yn.textContent,ui=!0)),Re=pl(re,Ue),0<Re.length&&(Ue=new ap(Ue,i,null,h,de),he.push({event:Ue,listeners:Re}),Le?Ue.data=Le:(Le=hp(h),Le!==null&&(Ue.data=Le)))),(Le=h0?f0(i,h):p0(i,h))&&(re=pl(re,"onBeforeInput"),0<re.length&&(de=new ap("onBeforeInput","beforeinput",null,h,de),he.push({event:de,listeners:re}),de.data=Le))}Rp(he,o)})}function ja(i,o,h){return{instance:i,listener:o,currentTarget:h}}function pl(i,o){for(var h=o+"Capture",g=[];i!==null;){var x=i,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=Vn(i,h),S!=null&&g.unshift(ja(i,S,x)),S=Vn(i,o),S!=null&&g.push(ja(i,S,x))),i=i.return}return g}function fi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Mp(i,o,h,g,x){for(var S=o._reactName,P=[];h!==null&&h!==g;){var z=h,G=z.alternate,re=z.stateNode;if(G!==null&&G===g)break;z.tag===5&&re!==null&&(z=re,x?(G=Vn(h,S),G!=null&&P.unshift(ja(h,G,z))):x||(G=Vn(h,S),G!=null&&P.push(ja(h,G,z)))),h=h.return}P.length!==0&&i.push({event:o,listeners:P})}var _0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function Op(i){return(typeof i=="string"?i:""+i).replace(_0,`
`).replace(j0,"")}function ml(i,o,h){if(o=Op(o),Op(i)!==o&&h)throw Error(t(425))}function gl(){}var Hu=null,Vu=null;function Wu(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var qu=typeof setTimeout=="function"?setTimeout:void 0,T0=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(i){return Dp.resolve(null).then(i).catch(R0)}:qu;function R0(i){setTimeout(function(){throw i})}function Gu(i,o){var h=o,g=0;do{var x=h.nextSibling;if(i.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(g===0){i.removeChild(x),va(o);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=x}while(h);va(o)}function Jn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ip(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return i;o--}else h==="/$"&&o++}i=i.previousSibling}return null}var pi=Math.random().toString(36).slice(2),on="__reactFiber$"+pi,Ta="__reactProps$"+pi,jn="__reactContainer$"+pi,Ku="__reactEvents$"+pi,L0="__reactListeners$"+pi,M0="__reactHandles$"+pi;function kr(i){var o=i[on];if(o)return o;for(var h=i.parentNode;h;){if(o=h[jn]||h[on]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(i=Ip(i);i!==null;){if(h=i[on])return h;i=Ip(i)}return o}i=h,h=i.parentNode}return null}function Pa(i){return i=i[on]||i[jn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function mi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function yl(i){return i[Ta]||null}var Xu=[],gi=-1;function Zn(i){return{current:i}}function ht(i){0>gi||(i.current=Xu[gi],Xu[gi]=null,gi--)}function lt(i,o){gi++,Xu[gi]=i.current,i.current=o}var er={},Jt=Zn(er),ps=Zn(!1),_r=er;function yi(i,o){var h=i.type.contextTypes;if(!h)return er;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in h)x[S]=o[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=x),x}function ms(i){return i=i.childContextTypes,i!=null}function xl(){ht(ps),ht(Jt)}function Fp(i,o,h){if(Jt.current!==er)throw Error(t(168));lt(Jt,o),lt(ps,h)}function Bp(i,o,h){var g=i.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var x in g)if(!(x in o))throw Error(t(108,W(i)||"Unknown",x));return N({},h,g)}function vl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||er,_r=Jt.current,lt(Jt,i),lt(ps,ps.current),!0}function Up(i,o,h){var g=i.stateNode;if(!g)throw Error(t(169));h?(i=Bp(i,o,_r),g.__reactInternalMemoizedMergedChildContext=i,ht(ps),ht(Jt),lt(Jt,i)):ht(ps),lt(ps,h)}var Tn=null,bl=!1,Yu=!1;function zp(i){Tn===null?Tn=[i]:Tn.push(i)}function O0(i){bl=!0,zp(i)}function tr(){if(!Yu&&Tn!==null){Yu=!0;var i=0,o=st;try{var h=Tn;for(st=1;i<h.length;i++){var g=h[i];do g=g(!0);while(g!==null)}Tn=null,bl=!1}catch(x){throw Tn!==null&&(Tn=Tn.slice(i+1)),Xo(oi,tr),x}finally{st=o,Yu=!1}}return null}var xi=[],vi=0,wl=null,Sl=0,Ms=[],Os=0,jr=null,Pn=1,Rn="";function Tr(i,o){xi[vi++]=Sl,xi[vi++]=wl,wl=i,Sl=o}function $p(i,o,h){Ms[Os++]=Pn,Ms[Os++]=Rn,Ms[Os++]=jr,jr=i;var g=Pn;i=Rn;var x=32-Ae(g)-1;g&=~(1<<x),h+=1;var S=32-Ae(o)+x;if(30<S){var P=x-x%5;S=(g&(1<<P)-1).toString(32),g>>=P,x-=P,Pn=1<<32-Ae(o)+x|h<<x|g,Rn=S+i}else Pn=1<<S|h<<x|g,Rn=i}function Qu(i){i.return!==null&&(Tr(i,1),$p(i,1,0))}function Ju(i){for(;i===wl;)wl=xi[--vi],xi[vi]=null,Sl=xi[--vi],xi[vi]=null;for(;i===jr;)jr=Ms[--Os],Ms[Os]=null,Rn=Ms[--Os],Ms[Os]=null,Pn=Ms[--Os],Ms[Os]=null}var ks=null,_s=null,pt=!1,Ks=null;function Hp(i,o){var h=Bs(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=i,o=i.deletions,o===null?(i.deletions=[h],i.flags|=16):o.push(h)}function Vp(i,o){switch(i.tag){case 5:var h=i.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,ks=i,_s=Jn(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,ks=i,_s=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=jr!==null?{id:Pn,overflow:Rn}:null,i.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=Bs(18,null,null,0),h.stateNode=o,h.return=i,i.child=h,ks=i,_s=null,!0):!1;default:return!1}}function Zu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ed(i){if(pt){var o=_s;if(o){var h=o;if(!Vp(i,o)){if(Zu(i))throw Error(t(418));o=Jn(h.nextSibling);var g=ks;o&&Vp(i,o)?Hp(g,h):(i.flags=i.flags&-4097|2,pt=!1,ks=i)}}else{if(Zu(i))throw Error(t(418));i.flags=i.flags&-4097|2,pt=!1,ks=i}}}function Wp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ks=i}function Cl(i){if(i!==ks)return!1;if(!pt)return Wp(i),pt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Wu(i.type,i.memoizedProps)),o&&(o=_s)){if(Zu(i))throw qp(),Error(t(418));for(;o;)Hp(i,o),o=Jn(o.nextSibling)}if(Wp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(o===0){_s=Jn(i.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}i=i.nextSibling}_s=null}}else _s=ks?Jn(i.stateNode.nextSibling):null;return!0}function qp(){for(var i=_s;i;)i=Jn(i.nextSibling)}function bi(){_s=ks=null,pt=!1}function td(i){Ks===null?Ks=[i]:Ks.push(i)}var D0=T.ReactCurrentBatchConfig;function Ra(i,o,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,i));var x=g,S=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(P){var z=x.refs;P===null?delete z[S]:z[S]=P},o._stringRef=S,o)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function Al(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Gp(i){var o=i._init;return o(i._payload)}function Kp(i){function o(Z,Y){if(i){var se=Z.deletions;se===null?(Z.deletions=[Y],Z.flags|=16):se.push(Y)}}function h(Z,Y){if(!i)return null;for(;Y!==null;)o(Z,Y),Y=Y.sibling;return null}function g(Z,Y){for(Z=new Map;Y!==null;)Y.key!==null?Z.set(Y.key,Y):Z.set(Y.index,Y),Y=Y.sibling;return Z}function x(Z,Y){return Z=cr(Z,Y),Z.index=0,Z.sibling=null,Z}function S(Z,Y,se){return Z.index=se,i?(se=Z.alternate,se!==null?(se=se.index,se<Y?(Z.flags|=2,Y):se):(Z.flags|=2,Y)):(Z.flags|=1048576,Y)}function P(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function z(Z,Y,se,fe){return Y===null||Y.tag!==6?(Y=qd(se,Z.mode,fe),Y.return=Z,Y):(Y=x(Y,se),Y.return=Z,Y)}function G(Z,Y,se,fe){var ke=se.type;return ke===R?de(Z,Y,se.props.children,fe,se.key):Y!==null&&(Y.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Q&&Gp(ke)===Y.type)?(fe=x(Y,se.props),fe.ref=Ra(Z,Y,se),fe.return=Z,fe):(fe=Kl(se.type,se.key,se.props,null,Z.mode,fe),fe.ref=Ra(Z,Y,se),fe.return=Z,fe)}function re(Z,Y,se,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==se.containerInfo||Y.stateNode.implementation!==se.implementation?(Y=Gd(se,Z.mode,fe),Y.return=Z,Y):(Y=x(Y,se.children||[]),Y.return=Z,Y)}function de(Z,Y,se,fe,ke){return Y===null||Y.tag!==7?(Y=Fr(se,Z.mode,fe,ke),Y.return=Z,Y):(Y=x(Y,se),Y.return=Z,Y)}function he(Z,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=qd(""+Y,Z.mode,se),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:return se=Kl(Y.type,Y.key,Y.props,null,Z.mode,se),se.ref=Ra(Z,null,Y),se.return=Z,se;case j:return Y=Gd(Y,Z.mode,se),Y.return=Z,Y;case Q:var fe=Y._init;return he(Z,fe(Y._payload),se)}if(nt(Y)||F(Y))return Y=Fr(Y,Z.mode,se,null),Y.return=Z,Y;Al(Z,Y)}return null}function ue(Z,Y,se,fe){var ke=Y!==null?Y.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return ke!==null?null:z(Z,Y,""+se,fe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case k:return se.key===ke?G(Z,Y,se,fe):null;case j:return se.key===ke?re(Z,Y,se,fe):null;case Q:return ke=se._init,ue(Z,Y,ke(se._payload),fe)}if(nt(se)||F(se))return ke!==null?null:de(Z,Y,se,fe,null);Al(Z,se)}return null}function be(Z,Y,se,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Z=Z.get(se)||null,z(Y,Z,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case k:return Z=Z.get(fe.key===null?se:fe.key)||null,G(Y,Z,fe,ke);case j:return Z=Z.get(fe.key===null?se:fe.key)||null,re(Y,Z,fe,ke);case Q:var Re=fe._init;return be(Z,Y,se,Re(fe._payload),ke)}if(nt(fe)||F(fe))return Z=Z.get(se)||null,de(Y,Z,fe,ke,null);Al(Y,fe)}return null}function Ne(Z,Y,se,fe){for(var ke=null,Re=null,Le=Y,Ue=Y=0,Bt=null;Le!==null&&Ue<se.length;Ue++){Le.index>Ue?(Bt=Le,Le=null):Bt=Le.sibling;var Ze=ue(Z,Le,se[Ue],fe);if(Ze===null){Le===null&&(Le=Bt);break}i&&Le&&Ze.alternate===null&&o(Z,Le),Y=S(Ze,Y,Ue),Re===null?ke=Ze:Re.sibling=Ze,Re=Ze,Le=Bt}if(Ue===se.length)return h(Z,Le),pt&&Tr(Z,Ue),ke;if(Le===null){for(;Ue<se.length;Ue++)Le=he(Z,se[Ue],fe),Le!==null&&(Y=S(Le,Y,Ue),Re===null?ke=Le:Re.sibling=Le,Re=Le);return pt&&Tr(Z,Ue),ke}for(Le=g(Z,Le);Ue<se.length;Ue++)Bt=be(Le,Z,Ue,se[Ue],fe),Bt!==null&&(i&&Bt.alternate!==null&&Le.delete(Bt.key===null?Ue:Bt.key),Y=S(Bt,Y,Ue),Re===null?ke=Bt:Re.sibling=Bt,Re=Bt);return i&&Le.forEach(function(ur){return o(Z,ur)}),pt&&Tr(Z,Ue),ke}function Ee(Z,Y,se,fe){var ke=F(se);if(typeof ke!="function")throw Error(t(150));if(se=ke.call(se),se==null)throw Error(t(151));for(var Re=ke=null,Le=Y,Ue=Y=0,Bt=null,Ze=se.next();Le!==null&&!Ze.done;Ue++,Ze=se.next()){Le.index>Ue?(Bt=Le,Le=null):Bt=Le.sibling;var ur=ue(Z,Le,Ze.value,fe);if(ur===null){Le===null&&(Le=Bt);break}i&&Le&&ur.alternate===null&&o(Z,Le),Y=S(ur,Y,Ue),Re===null?ke=ur:Re.sibling=ur,Re=ur,Le=Bt}if(Ze.done)return h(Z,Le),pt&&Tr(Z,Ue),ke;if(Le===null){for(;!Ze.done;Ue++,Ze=se.next())Ze=he(Z,Ze.value,fe),Ze!==null&&(Y=S(Ze,Y,Ue),Re===null?ke=Ze:Re.sibling=Ze,Re=Ze);return pt&&Tr(Z,Ue),ke}for(Le=g(Z,Le);!Ze.done;Ue++,Ze=se.next())Ze=be(Le,Z,Ue,Ze.value,fe),Ze!==null&&(i&&Ze.alternate!==null&&Le.delete(Ze.key===null?Ue:Ze.key),Y=S(Ze,Y,Ue),Re===null?ke=Ze:Re.sibling=Ze,Re=Ze);return i&&Le.forEach(function(mw){return o(Z,mw)}),pt&&Tr(Z,Ue),ke}function Et(Z,Y,se,fe){if(typeof se=="object"&&se!==null&&se.type===R&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case k:e:{for(var ke=se.key,Re=Y;Re!==null;){if(Re.key===ke){if(ke=se.type,ke===R){if(Re.tag===7){h(Z,Re.sibling),Y=x(Re,se.props.children),Y.return=Z,Z=Y;break e}}else if(Re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Q&&Gp(ke)===Re.type){h(Z,Re.sibling),Y=x(Re,se.props),Y.ref=Ra(Z,Re,se),Y.return=Z,Z=Y;break e}h(Z,Re);break}else o(Z,Re);Re=Re.sibling}se.type===R?(Y=Fr(se.props.children,Z.mode,fe,se.key),Y.return=Z,Z=Y):(fe=Kl(se.type,se.key,se.props,null,Z.mode,fe),fe.ref=Ra(Z,Y,se),fe.return=Z,Z=fe)}return P(Z);case j:e:{for(Re=se.key;Y!==null;){if(Y.key===Re)if(Y.tag===4&&Y.stateNode.containerInfo===se.containerInfo&&Y.stateNode.implementation===se.implementation){h(Z,Y.sibling),Y=x(Y,se.children||[]),Y.return=Z,Z=Y;break e}else{h(Z,Y);break}else o(Z,Y);Y=Y.sibling}Y=Gd(se,Z.mode,fe),Y.return=Z,Z=Y}return P(Z);case Q:return Re=se._init,Et(Z,Y,Re(se._payload),fe)}if(nt(se))return Ne(Z,Y,se,fe);if(F(se))return Ee(Z,Y,se,fe);Al(Z,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,Y!==null&&Y.tag===6?(h(Z,Y.sibling),Y=x(Y,se),Y.return=Z,Z=Y):(h(Z,Y),Y=qd(se,Z.mode,fe),Y.return=Z,Z=Y),P(Z)):h(Z,Y)}return Et}var wi=Kp(!0),Xp=Kp(!1),Nl=Zn(null),El=null,Si=null,sd=null;function nd(){sd=Si=El=null}function rd(i){var o=Nl.current;ht(Nl),i._currentValue=o}function id(i,o,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),i===h)break;i=i.return}}function Ci(i,o){El=i,sd=Si=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(gs=!0),i.firstContext=null)}function Ds(i){var o=i._currentValue;if(sd!==i)if(i={context:i,memoizedValue:o,next:null},Si===null){if(El===null)throw Error(t(308));Si=i,El.dependencies={lanes:0,firstContext:i}}else Si=Si.next=i;return o}var Pr=null;function ad(i){Pr===null?Pr=[i]:Pr.push(i)}function Yp(i,o,h,g){var x=o.interleaved;return x===null?(h.next=h,ad(o)):(h.next=x.next,x.next=h),o.interleaved=h,Ln(i,g)}function Ln(i,o){i.lanes|=o;var h=i.alternate;for(h!==null&&(h.lanes|=o),h=i,i=i.return;i!==null;)i.childLanes|=o,h=i.alternate,h!==null&&(h.childLanes|=o),h=i,i=i.return;return h.tag===3?h.stateNode:null}var sr=!1;function od(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Mn(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function nr(i,o,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Je&2)!==0){var x=g.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),g.pending=o,Ln(i,h)}return x=g.interleaved,x===null?(o.next=o,ad(g)):(o.next=x.next,x.next=o),g.interleaved=o,Ln(i,h)}function kl(i,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var g=o.lanes;g&=i.pendingLanes,h|=g,o.lanes=h,wu(i,h)}}function Jp(i,o){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?x=S=P:S=S.next=P,h=h.next}while(h!==null);S===null?x=S=o:S=S.next=o}else x=S=o;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=o:i.next=o,h.lastBaseUpdate=o}function _l(i,o,h,g){var x=i.updateQueue;sr=!1;var S=x.firstBaseUpdate,P=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var G=z,re=G.next;G.next=null,P===null?S=re:P.next=re,P=G;var de=i.alternate;de!==null&&(de=de.updateQueue,z=de.lastBaseUpdate,z!==P&&(z===null?de.firstBaseUpdate=re:z.next=re,de.lastBaseUpdate=G))}if(S!==null){var he=x.baseState;P=0,de=re=G=null,z=S;do{var ue=z.lane,be=z.eventTime;if((g&ue)===ue){de!==null&&(de=de.next={eventTime:be,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ne=i,Ee=z;switch(ue=o,be=h,Ee.tag){case 1:if(Ne=Ee.payload,typeof Ne=="function"){he=Ne.call(be,he,ue);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ee.payload,ue=typeof Ne=="function"?Ne.call(be,he,ue):Ne,ue==null)break e;he=N({},he,ue);break e;case 2:sr=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,ue=x.effects,ue===null?x.effects=[z]:ue.push(z))}else be={eventTime:be,lane:ue,tag:z.tag,payload:z.payload,callback:z.callback,next:null},de===null?(re=de=be,G=he):de=de.next=be,P|=ue;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;ue=z,z=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);if(de===null&&(G=he),x.baseState=G,x.firstBaseUpdate=re,x.lastBaseUpdate=de,o=x.shared.interleaved,o!==null){x=o;do P|=x.lane,x=x.next;while(x!==o)}else S===null&&(x.shared.lanes=0);Mr|=P,i.lanes=P,i.memoizedState=he}}function Zp(i,o,h){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var g=i[o],x=g.callback;if(x!==null){if(g.callback=null,g=h,typeof x!="function")throw Error(t(191,x));x.call(g)}}}var La={},ln=Zn(La),Ma=Zn(La),Oa=Zn(La);function Rr(i){if(i===La)throw Error(t(174));return i}function ld(i,o){switch(lt(Oa,o),lt(Ma,i),lt(ln,La),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ot(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ot(o,i)}ht(ln),lt(ln,o)}function Ai(){ht(ln),ht(Ma),ht(Oa)}function em(i){Rr(Oa.current);var o=Rr(ln.current),h=ot(o,i.type);o!==h&&(lt(Ma,i),lt(ln,h))}function cd(i){Ma.current===i&&(ht(ln),ht(Ma))}var xt=Zn(0);function jl(i){for(var o=i;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ud=[];function dd(){for(var i=0;i<ud.length;i++)ud[i]._workInProgressVersionPrimary=null;ud.length=0}var Tl=T.ReactCurrentDispatcher,hd=T.ReactCurrentBatchConfig,Lr=0,vt=null,Ot=null,It=null,Pl=!1,Da=!1,Ia=0,I0=0;function Zt(){throw Error(t(321))}function fd(i,o){if(o===null)return!1;for(var h=0;h<o.length&&h<i.length;h++)if(!Gs(i[h],o[h]))return!1;return!0}function pd(i,o,h,g,x,S){if(Lr=S,vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Tl.current=i===null||i.memoizedState===null?z0:$0,i=h(g,x),Da){S=0;do{if(Da=!1,Ia=0,25<=S)throw Error(t(301));S+=1,It=Ot=null,o.updateQueue=null,Tl.current=H0,i=h(g,x)}while(Da)}if(Tl.current=Ml,o=Ot!==null&&Ot.next!==null,Lr=0,It=Ot=vt=null,Pl=!1,o)throw Error(t(300));return i}function md(){var i=Ia!==0;return Ia=0,i}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?vt.memoizedState=It=i:It=It.next=i,It}function Is(){if(Ot===null){var i=vt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var o=It===null?vt.memoizedState:It.next;if(o!==null)It=o,Ot=i;else{if(i===null)throw Error(t(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},It===null?vt.memoizedState=It=i:It=It.next=i}return It}function Fa(i,o){return typeof o=="function"?o(i):o}function gd(i){var o=Is(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=Ot,x=g.baseQueue,S=h.pending;if(S!==null){if(x!==null){var P=x.next;x.next=S.next,S.next=P}g.baseQueue=x=S,h.pending=null}if(x!==null){S=x.next,g=g.baseState;var z=P=null,G=null,re=S;do{var de=re.lane;if((Lr&de)===de)G!==null&&(G=G.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:i(g,re.action);else{var he={lane:de,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};G===null?(z=G=he,P=g):G=G.next=he,vt.lanes|=de,Mr|=de}re=re.next}while(re!==null&&re!==S);G===null?P=g:G.next=z,Gs(g,o.memoizedState)||(gs=!0),o.memoizedState=g,o.baseState=P,o.baseQueue=G,h.lastRenderedState=g}if(i=h.interleaved,i!==null){x=i;do S=x.lane,vt.lanes|=S,Mr|=S,x=x.next;while(x!==i)}else x===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function yd(i){var o=Is(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=h.dispatch,x=h.pending,S=o.memoizedState;if(x!==null){h.pending=null;var P=x=x.next;do S=i(S,P.action),P=P.next;while(P!==x);Gs(S,o.memoizedState)||(gs=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),h.lastRenderedState=S}return[S,g]}function tm(){}function sm(i,o){var h=vt,g=Is(),x=o(),S=!Gs(g.memoizedState,x);if(S&&(g.memoizedState=x,gs=!0),g=g.queue,xd(im.bind(null,h,g,i),[i]),g.getSnapshot!==o||S||It!==null&&It.memoizedState.tag&1){if(h.flags|=2048,Ba(9,rm.bind(null,h,g,x,o),void 0,null),Ft===null)throw Error(t(349));(Lr&30)!==0||nm(h,o,x)}return x}function nm(i,o,h){i.flags|=16384,i={getSnapshot:o,value:h},o=vt.updateQueue,o===null?(o={lastEffect:null,stores:null},vt.updateQueue=o,o.stores=[i]):(h=o.stores,h===null?o.stores=[i]:h.push(i))}function rm(i,o,h,g){o.value=h,o.getSnapshot=g,am(o)&&om(i)}function im(i,o,h){return h(function(){am(o)&&om(i)})}function am(i){var o=i.getSnapshot;i=i.value;try{var h=o();return!Gs(i,h)}catch{return!0}}function om(i){var o=Ln(i,1);o!==null&&Js(o,i,1,-1)}function lm(i){var o=cn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:i},o.queue=i,i=i.dispatch=U0.bind(null,vt,i),[o.memoizedState,i]}function Ba(i,o,h,g){return i={tag:i,create:o,destroy:h,deps:g,next:null},o=vt.updateQueue,o===null?(o={lastEffect:null,stores:null},vt.updateQueue=o,o.lastEffect=i.next=i):(h=o.lastEffect,h===null?o.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,o.lastEffect=i)),i}function cm(){return Is().memoizedState}function Rl(i,o,h,g){var x=cn();vt.flags|=i,x.memoizedState=Ba(1|o,h,void 0,g===void 0?null:g)}function Ll(i,o,h,g){var x=Is();g=g===void 0?null:g;var S=void 0;if(Ot!==null){var P=Ot.memoizedState;if(S=P.destroy,g!==null&&fd(g,P.deps)){x.memoizedState=Ba(o,h,S,g);return}}vt.flags|=i,x.memoizedState=Ba(1|o,h,S,g)}function um(i,o){return Rl(8390656,8,i,o)}function xd(i,o){return Ll(2048,8,i,o)}function dm(i,o){return Ll(4,2,i,o)}function hm(i,o){return Ll(4,4,i,o)}function fm(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function pm(i,o,h){return h=h!=null?h.concat([i]):null,Ll(4,4,fm.bind(null,o,i),h)}function vd(){}function mm(i,o){var h=Is();o=o===void 0?null:o;var g=h.memoizedState;return g!==null&&o!==null&&fd(o,g[1])?g[0]:(h.memoizedState=[i,o],i)}function gm(i,o){var h=Is();o=o===void 0?null:o;var g=h.memoizedState;return g!==null&&o!==null&&fd(o,g[1])?g[0]:(i=i(),h.memoizedState=[i,o],i)}function ym(i,o,h){return(Lr&21)===0?(i.baseState&&(i.baseState=!1,gs=!0),i.memoizedState=h):(Gs(h,o)||(h=Gf(),vt.lanes|=h,Mr|=h,i.baseState=!0),o)}function F0(i,o){var h=st;st=h!==0&&4>h?h:4,i(!0);var g=hd.transition;hd.transition={};try{i(!1),o()}finally{st=h,hd.transition=g}}function xm(){return Is().memoizedState}function B0(i,o,h){var g=or(i);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},vm(i))bm(o,h);else if(h=Yp(i,o,h,g),h!==null){var x=cs();Js(h,i,g,x),wm(h,o,g)}}function U0(i,o,h){var g=or(i),x={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(vm(i))bm(o,x);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var P=o.lastRenderedState,z=S(P,h);if(x.hasEagerState=!0,x.eagerState=z,Gs(z,P)){var G=o.interleaved;G===null?(x.next=x,ad(o)):(x.next=G.next,G.next=x),o.interleaved=x;return}}catch{}finally{}h=Yp(i,o,x,g),h!==null&&(x=cs(),Js(h,i,g,x),wm(h,o,g))}}function vm(i){var o=i.alternate;return i===vt||o!==null&&o===vt}function bm(i,o){Da=Pl=!0;var h=i.pending;h===null?o.next=o:(o.next=h.next,h.next=o),i.pending=o}function wm(i,o,h){if((h&4194240)!==0){var g=o.lanes;g&=i.pendingLanes,h|=g,o.lanes=h,wu(i,h)}}var Ml={readContext:Ds,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},z0={readContext:Ds,useCallback:function(i,o){return cn().memoizedState=[i,o===void 0?null:o],i},useContext:Ds,useEffect:um,useImperativeHandle:function(i,o,h){return h=h!=null?h.concat([i]):null,Rl(4194308,4,fm.bind(null,o,i),h)},useLayoutEffect:function(i,o){return Rl(4194308,4,i,o)},useInsertionEffect:function(i,o){return Rl(4,2,i,o)},useMemo:function(i,o){var h=cn();return o=o===void 0?null:o,i=i(),h.memoizedState=[i,o],i},useReducer:function(i,o,h){var g=cn();return o=h!==void 0?h(o):o,g.memoizedState=g.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},g.queue=i,i=i.dispatch=B0.bind(null,vt,i),[g.memoizedState,i]},useRef:function(i){var o=cn();return i={current:i},o.memoizedState=i},useState:lm,useDebugValue:vd,useDeferredValue:function(i){return cn().memoizedState=i},useTransition:function(){var i=lm(!1),o=i[0];return i=F0.bind(null,i[1]),cn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,h){var g=vt,x=cn();if(pt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=o(),Ft===null)throw Error(t(349));(Lr&30)!==0||nm(g,o,h)}x.memoizedState=h;var S={value:h,getSnapshot:o};return x.queue=S,um(im.bind(null,g,S,i),[i]),g.flags|=2048,Ba(9,rm.bind(null,g,S,h,o),void 0,null),h},useId:function(){var i=cn(),o=Ft.identifierPrefix;if(pt){var h=Rn,g=Pn;h=(g&~(1<<32-Ae(g)-1)).toString(32)+h,o=":"+o+"R"+h,h=Ia++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=I0++,o=":"+o+"r"+h.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},$0={readContext:Ds,useCallback:mm,useContext:Ds,useEffect:xd,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:hm,useMemo:gm,useReducer:gd,useRef:cm,useState:function(){return gd(Fa)},useDebugValue:vd,useDeferredValue:function(i){var o=Is();return ym(o,Ot.memoizedState,i)},useTransition:function(){var i=gd(Fa)[0],o=Is().memoizedState;return[i,o]},useMutableSource:tm,useSyncExternalStore:sm,useId:xm,unstable_isNewReconciler:!1},H0={readContext:Ds,useCallback:mm,useContext:Ds,useEffect:xd,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:hm,useMemo:gm,useReducer:yd,useRef:cm,useState:function(){return yd(Fa)},useDebugValue:vd,useDeferredValue:function(i){var o=Is();return Ot===null?o.memoizedState=i:ym(o,Ot.memoizedState,i)},useTransition:function(){var i=yd(Fa)[0],o=Is().memoizedState;return[i,o]},useMutableSource:tm,useSyncExternalStore:sm,useId:xm,unstable_isNewReconciler:!1};function Xs(i,o){if(i&&i.defaultProps){o=N({},o),i=i.defaultProps;for(var h in i)o[h]===void 0&&(o[h]=i[h]);return o}return o}function bd(i,o,h,g){o=i.memoizedState,h=h(g,o),h=h==null?o:N({},o,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var Ol={isMounted:function(i){return(i=i._reactInternals)?En(i)===i:!1},enqueueSetState:function(i,o,h){i=i._reactInternals;var g=cs(),x=or(i),S=Mn(g,x);S.payload=o,h!=null&&(S.callback=h),o=nr(i,S,x),o!==null&&(Js(o,i,x,g),kl(o,i,x))},enqueueReplaceState:function(i,o,h){i=i._reactInternals;var g=cs(),x=or(i),S=Mn(g,x);S.tag=1,S.payload=o,h!=null&&(S.callback=h),o=nr(i,S,x),o!==null&&(Js(o,i,x,g),kl(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var h=cs(),g=or(i),x=Mn(h,g);x.tag=2,o!=null&&(x.callback=o),o=nr(i,x,g),o!==null&&(Js(o,i,g,h),kl(o,i,g))}};function Sm(i,o,h,g,x,S,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,P):o.prototype&&o.prototype.isPureReactComponent?!Na(h,g)||!Na(x,S):!0}function Cm(i,o,h){var g=!1,x=er,S=o.contextType;return typeof S=="object"&&S!==null?S=Ds(S):(x=ms(o)?_r:Jt.current,g=o.contextTypes,S=(g=g!=null)?yi(i,x):er),o=new o(h,S),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ol,i.stateNode=o,o._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=S),o}function Am(i,o,h,g){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,g),o.state!==i&&Ol.enqueueReplaceState(o,o.state,null)}function wd(i,o,h,g){var x=i.stateNode;x.props=h,x.state=i.memoizedState,x.refs={},od(i);var S=o.contextType;typeof S=="object"&&S!==null?x.context=Ds(S):(S=ms(o)?_r:Jt.current,x.context=yi(i,S)),x.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(bd(i,o,S,h),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&Ol.enqueueReplaceState(x,x.state,null),_l(i,h,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Ni(i,o){try{var h="",g=o;do h+=le(g),g=g.return;while(g);var x=h}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:o,stack:x,digest:null}}function Sd(i,o,h){return{value:i,source:null,stack:h??null,digest:o??null}}function Cd(i,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var V0=typeof WeakMap=="function"?WeakMap:Map;function Nm(i,o,h){h=Mn(-1,h),h.tag=3,h.payload={element:null};var g=o.value;return h.callback=function(){$l||($l=!0,Fd=g),Cd(i,o)},h}function Em(i,o,h){h=Mn(-1,h),h.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=o.value;h.payload=function(){return g(x)},h.callback=function(){Cd(i,o)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){Cd(i,o),typeof g!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var P=o.stack;this.componentDidCatch(o.value,{componentStack:P!==null?P:""})}),h}function km(i,o,h){var g=i.pingCache;if(g===null){g=i.pingCache=new V0;var x=new Set;g.set(o,x)}else x=g.get(o),x===void 0&&(x=new Set,g.set(o,x));x.has(h)||(x.add(h),i=rw.bind(null,i,o,h),o.then(i,i))}function _m(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function jm(i,o,h,g,x){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=Mn(-1,1),o.tag=2,nr(h,o,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var W0=T.ReactCurrentOwner,gs=!1;function ls(i,o,h,g){o.child=i===null?Xp(o,null,h,g):wi(o,i.child,h,g)}function Tm(i,o,h,g,x){h=h.render;var S=o.ref;return Ci(o,x),g=pd(i,o,h,g,S,x),h=md(),i!==null&&!gs?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,On(i,o,x)):(pt&&h&&Qu(o),o.flags|=1,ls(i,o,g,x),o.child)}function Pm(i,o,h,g,x){if(i===null){var S=h.type;return typeof S=="function"&&!Wd(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=S,Rm(i,o,S,g,x)):(i=Kl(h.type,null,g,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,(i.lanes&x)===0){var P=S.memoizedProps;if(h=h.compare,h=h!==null?h:Na,h(P,g)&&i.ref===o.ref)return On(i,o,x)}return o.flags|=1,i=cr(S,g),i.ref=o.ref,i.return=o,o.child=i}function Rm(i,o,h,g,x){if(i!==null){var S=i.memoizedProps;if(Na(S,g)&&i.ref===o.ref)if(gs=!1,o.pendingProps=g=S,(i.lanes&x)!==0)(i.flags&131072)!==0&&(gs=!0);else return o.lanes=i.lanes,On(i,o,x)}return Ad(i,o,h,g,x)}function Lm(i,o,h){var g=o.pendingProps,x=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(ki,js),js|=h;else{if((h&1073741824)===0)return i=S!==null?S.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,lt(ki,js),js|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:h,lt(ki,js),js|=g}else S!==null?(g=S.baseLanes|h,o.memoizedState=null):g=h,lt(ki,js),js|=g;return ls(i,o,x,h),o.child}function Mm(i,o){var h=o.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function Ad(i,o,h,g,x){var S=ms(h)?_r:Jt.current;return S=yi(o,S),Ci(o,x),h=pd(i,o,h,g,S,x),g=md(),i!==null&&!gs?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,On(i,o,x)):(pt&&g&&Qu(o),o.flags|=1,ls(i,o,h,x),o.child)}function Om(i,o,h,g,x){if(ms(h)){var S=!0;vl(o)}else S=!1;if(Ci(o,x),o.stateNode===null)Il(i,o),Cm(o,h,g),wd(o,h,g,x),g=!0;else if(i===null){var P=o.stateNode,z=o.memoizedProps;P.props=z;var G=P.context,re=h.contextType;typeof re=="object"&&re!==null?re=Ds(re):(re=ms(h)?_r:Jt.current,re=yi(o,re));var de=h.getDerivedStateFromProps,he=typeof de=="function"||typeof P.getSnapshotBeforeUpdate=="function";he||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==g||G!==re)&&Am(o,P,g,re),sr=!1;var ue=o.memoizedState;P.state=ue,_l(o,g,P,x),G=o.memoizedState,z!==g||ue!==G||ps.current||sr?(typeof de=="function"&&(bd(o,h,de,g),G=o.memoizedState),(z=sr||Sm(o,h,z,g,ue,G,re))?(he||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(o.flags|=4194308)):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=G),P.props=g,P.state=G,P.context=re,g=z):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{P=o.stateNode,Qp(i,o),z=o.memoizedProps,re=o.type===o.elementType?z:Xs(o.type,z),P.props=re,he=o.pendingProps,ue=P.context,G=h.contextType,typeof G=="object"&&G!==null?G=Ds(G):(G=ms(h)?_r:Jt.current,G=yi(o,G));var be=h.getDerivedStateFromProps;(de=typeof be=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==he||ue!==G)&&Am(o,P,g,G),sr=!1,ue=o.memoizedState,P.state=ue,_l(o,g,P,x);var Ne=o.memoizedState;z!==he||ue!==Ne||ps.current||sr?(typeof be=="function"&&(bd(o,h,be,g),Ne=o.memoizedState),(re=sr||Sm(o,h,re,g,ue,Ne,G)||!1)?(de||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,Ne,G),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,Ne,G)),typeof P.componentDidUpdate=="function"&&(o.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof P.componentDidUpdate!="function"||z===i.memoizedProps&&ue===i.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ue===i.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Ne),P.props=g,P.state=Ne,P.context=G,g=re):(typeof P.componentDidUpdate!="function"||z===i.memoizedProps&&ue===i.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ue===i.memoizedState||(o.flags|=1024),g=!1)}return Nd(i,o,h,g,S,x)}function Nd(i,o,h,g,x,S){Mm(i,o);var P=(o.flags&128)!==0;if(!g&&!P)return x&&Up(o,h,!1),On(i,o,S);g=o.stateNode,W0.current=o;var z=P&&typeof h.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,i!==null&&P?(o.child=wi(o,i.child,null,S),o.child=wi(o,null,z,S)):ls(i,o,z,S),o.memoizedState=g.state,x&&Up(o,h,!0),o.child}function Dm(i){var o=i.stateNode;o.pendingContext?Fp(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Fp(i,o.context,!1),ld(i,o.containerInfo)}function Im(i,o,h,g,x){return bi(),td(x),o.flags|=256,ls(i,o,h,g),o.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function kd(i){return{baseLanes:i,cachePool:null,transitions:null}}function Fm(i,o,h){var g=o.pendingProps,x=xt.current,S=!1,P=(o.flags&128)!==0,z;if((z=P)||(z=i!==null&&i.memoizedState===null?!1:(x&2)!==0),z?(S=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),lt(xt,x&1),i===null)return ed(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(P=g.children,i=g.fallback,S?(g=o.mode,S=o.child,P={mode:"hidden",children:P},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=P):S=Xl(P,g,0,null),i=Fr(i,g,h,null),S.return=o,i.return=o,S.sibling=i,o.child=S,o.child.memoizedState=kd(h),o.memoizedState=Ed,i):_d(o,P));if(x=i.memoizedState,x!==null&&(z=x.dehydrated,z!==null))return q0(i,o,P,g,z,x,h);if(S){S=g.fallback,P=o.mode,x=i.child,z=x.sibling;var G={mode:"hidden",children:g.children};return(P&1)===0&&o.child!==x?(g=o.child,g.childLanes=0,g.pendingProps=G,o.deletions=null):(g=cr(x,G),g.subtreeFlags=x.subtreeFlags&14680064),z!==null?S=cr(z,S):(S=Fr(S,P,h,null),S.flags|=2),S.return=o,g.return=o,g.sibling=S,o.child=g,g=S,S=o.child,P=i.child.memoizedState,P=P===null?kd(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},S.memoizedState=P,S.childLanes=i.childLanes&~h,o.memoizedState=Ed,g}return S=i.child,i=S.sibling,g=cr(S,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=h),g.return=o,g.sibling=null,i!==null&&(h=o.deletions,h===null?(o.deletions=[i],o.flags|=16):h.push(i)),o.child=g,o.memoizedState=null,g}function _d(i,o){return o=Xl({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Dl(i,o,h,g){return g!==null&&td(g),wi(o,i.child,null,h),i=_d(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function q0(i,o,h,g,x,S,P){if(h)return o.flags&256?(o.flags&=-257,g=Sd(Error(t(422))),Dl(i,o,P,g)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(S=g.fallback,x=o.mode,g=Xl({mode:"visible",children:g.children},x,0,null),S=Fr(S,x,P,null),S.flags|=2,g.return=o,S.return=o,g.sibling=S,o.child=g,(o.mode&1)!==0&&wi(o,i.child,null,P),o.child.memoizedState=kd(P),o.memoizedState=Ed,S);if((o.mode&1)===0)return Dl(i,o,P,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var z=g.dgst;return g=z,S=Error(t(419)),g=Sd(S,g,void 0),Dl(i,o,P,g)}if(z=(P&i.childLanes)!==0,gs||z){if(g=Ft,g!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|P))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,Ln(i,x),Js(g,i,x,-1))}return Vd(),g=Sd(Error(t(421))),Dl(i,o,P,g)}return x.data==="$?"?(o.flags|=128,o.child=i.child,o=iw.bind(null,i),x._reactRetry=o,null):(i=S.treeContext,_s=Jn(x.nextSibling),ks=o,pt=!0,Ks=null,i!==null&&(Ms[Os++]=Pn,Ms[Os++]=Rn,Ms[Os++]=jr,Pn=i.id,Rn=i.overflow,jr=o),o=_d(o,g.children),o.flags|=4096,o)}function Bm(i,o,h){i.lanes|=o;var g=i.alternate;g!==null&&(g.lanes|=o),id(i.return,o,h)}function jd(i,o,h,g,x){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=x)}function Um(i,o,h){var g=o.pendingProps,x=g.revealOrder,S=g.tail;if(ls(i,o,g.children,h),g=xt.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bm(i,h,o);else if(i.tag===19)Bm(i,h,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(lt(xt,g),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(h=o.child,x=null;h!==null;)i=h.alternate,i!==null&&jl(i)===null&&(x=h),h=h.sibling;h=x,h===null?(x=o.child,o.child=null):(x=h.sibling,h.sibling=null),jd(o,!1,x,h,S);break;case"backwards":for(h=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&jl(i)===null){o.child=x;break}i=x.sibling,x.sibling=h,h=x,x=i}jd(o,!0,h,null,S);break;case"together":jd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Il(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function On(i,o,h){if(i!==null&&(o.dependencies=i.dependencies),Mr|=o.lanes,(h&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,h=cr(i,i.pendingProps),o.child=h,h.return=o;i.sibling!==null;)i=i.sibling,h=h.sibling=cr(i,i.pendingProps),h.return=o;h.sibling=null}return o.child}function G0(i,o,h){switch(o.tag){case 3:Dm(o),bi();break;case 5:em(o);break;case 1:ms(o.type)&&vl(o);break;case 4:ld(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,x=o.memoizedProps.value;lt(Nl,g._currentValue),g._currentValue=x;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(lt(xt,xt.current&1),o.flags|=128,null):(h&o.child.childLanes)!==0?Fm(i,o,h):(lt(xt,xt.current&1),i=On(i,o,h),i!==null?i.sibling:null);lt(xt,xt.current&1);break;case 19:if(g=(h&o.childLanes)!==0,(i.flags&128)!==0){if(g)return Um(i,o,h);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),lt(xt,xt.current),g)break;return null;case 22:case 23:return o.lanes=0,Lm(i,o,h)}return On(i,o,h)}var zm,Td,$m,Hm;zm=function(i,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Td=function(){},$m=function(i,o,h,g){var x=i.memoizedProps;if(x!==g){i=o.stateNode,Rr(ln.current);var S=null;switch(h){case"input":x=ve(i,x),g=ve(i,g),S=[];break;case"select":x=N({},x,{value:void 0}),g=N({},g,{value:void 0}),S=[];break;case"textarea":x=Ht(i,x),g=Ht(i,g),S=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=gl)}an(h,g);var P;h=null;for(re in x)if(!g.hasOwnProperty(re)&&x.hasOwnProperty(re)&&x[re]!=null)if(re==="style"){var z=x[re];for(P in z)z.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(n.hasOwnProperty(re)?S||(S=[]):(S=S||[]).push(re,null));for(re in g){var G=g[re];if(z=x?.[re],g.hasOwnProperty(re)&&G!==z&&(G!=null||z!=null))if(re==="style")if(z){for(P in z)!z.hasOwnProperty(P)||G&&G.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in G)G.hasOwnProperty(P)&&z[P]!==G[P]&&(h||(h={}),h[P]=G[P])}else h||(S||(S=[]),S.push(re,h)),h=G;else re==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,z=z?z.__html:void 0,G!=null&&z!==G&&(S=S||[]).push(re,G)):re==="children"?typeof G!="string"&&typeof G!="number"||(S=S||[]).push(re,""+G):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(n.hasOwnProperty(re)?(G!=null&&re==="onScroll"&&dt("scroll",i),S||z===G||(S=[])):(S=S||[]).push(re,G))}h&&(S=S||[]).push("style",h);var re=S;(o.updateQueue=re)&&(o.flags|=4)}},Hm=function(i,o,h,g){h!==g&&(o.flags|=4)};function Ua(i,o){if(!pt)switch(i.tailMode){case"hidden":o=i.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function es(i){var o=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(o)for(var x=i.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=h,o}function K0(i,o,h){var g=o.pendingProps;switch(Ju(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(o),null;case 1:return ms(o.type)&&xl(),es(o),null;case 3:return g=o.stateNode,Ai(),ht(ps),ht(Jt),dd(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Cl(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ks!==null&&(zd(Ks),Ks=null))),Td(i,o),es(o),null;case 5:cd(o);var x=Rr(Oa.current);if(h=o.type,i!==null&&o.stateNode!=null)$m(i,o,h,g,x),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(t(166));return es(o),null}if(i=Rr(ln.current),Cl(o)){g=o.stateNode,h=o.type;var S=o.memoizedProps;switch(g[on]=o,g[Ta]=S,i=(o.mode&1)!==0,h){case"dialog":dt("cancel",g),dt("close",g);break;case"iframe":case"object":case"embed":dt("load",g);break;case"video":case"audio":for(x=0;x<ka.length;x++)dt(ka[x],g);break;case"source":dt("error",g);break;case"img":case"image":case"link":dt("error",g),dt("load",g);break;case"details":dt("toggle",g);break;case"input":_e(g,S),dt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},dt("invalid",g);break;case"textarea":Ns(g,S),dt("invalid",g)}an(h,S),x=null;for(var P in S)if(S.hasOwnProperty(P)){var z=S[P];P==="children"?typeof z=="string"?g.textContent!==z&&(S.suppressHydrationWarning!==!0&&ml(g.textContent,z,i),x=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(S.suppressHydrationWarning!==!0&&ml(g.textContent,z,i),x=["children",""+z]):n.hasOwnProperty(P)&&z!=null&&P==="onScroll"&&dt("scroll",g)}switch(h){case"input":Ie(g),Qe(g,S,!0);break;case"textarea":Ie(g),os(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=gl)}g=x,o.updateQueue=g,g!==null&&(o.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=qs(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=P.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=P.createElement(h,{is:g.is}):(i=P.createElement(h),h==="select"&&(P=i,g.multiple?P.multiple=!0:g.size&&(P.size=g.size))):i=P.createElementNS(i,h),i[on]=o,i[Ta]=g,zm(i,o,!1,!1),o.stateNode=i;e:{switch(P=ri(h,g),h){case"dialog":dt("cancel",i),dt("close",i),x=g;break;case"iframe":case"object":case"embed":dt("load",i),x=g;break;case"video":case"audio":for(x=0;x<ka.length;x++)dt(ka[x],i);x=g;break;case"source":dt("error",i),x=g;break;case"img":case"image":case"link":dt("error",i),dt("load",i),x=g;break;case"details":dt("toggle",i),x=g;break;case"input":_e(i,g),x=ve(i,g),dt("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=N({},g,{value:void 0}),dt("invalid",i);break;case"textarea":Ns(i,g),x=Ht(i,g),dt("invalid",i);break;default:x=g}an(h,x),z=x;for(S in z)if(z.hasOwnProperty(S)){var G=z[S];S==="style"?ut(i,G):S==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Qt(i,G)):S==="children"?typeof G=="string"?(h!=="textarea"||G!=="")&&fs(i,G):typeof G=="number"&&fs(i,""+G):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(n.hasOwnProperty(S)?G!=null&&S==="onScroll"&&dt("scroll",i):G!=null&&O(i,S,G,P))}switch(h){case"input":Ie(i),Qe(i,g,!1);break;case"textarea":Ie(i),os(i);break;case"option":g.value!=null&&i.setAttribute("value",""+ne(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?tt(i,!!g.multiple,S,!1):g.defaultValue!=null&&tt(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=gl)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return es(o),null;case 6:if(i&&o.stateNode!=null)Hm(i,o,i.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(t(166));if(h=Rr(Oa.current),Rr(ln.current),Cl(o)){if(g=o.stateNode,h=o.memoizedProps,g[on]=o,(S=g.nodeValue!==h)&&(i=ks,i!==null))switch(i.tag){case 3:ml(g.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ml(g.nodeValue,h,(i.mode&1)!==0)}S&&(o.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[on]=o,o.stateNode=g}return es(o),null;case 13:if(ht(xt),g=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(pt&&_s!==null&&(o.mode&1)!==0&&(o.flags&128)===0)qp(),bi(),o.flags|=98560,S=!1;else if(S=Cl(o),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(t(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[on]=o}else bi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;es(o),S=!1}else Ks!==null&&(zd(Ks),Ks=null),S=!0;if(!S)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=h,o):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(xt.current&1)!==0?Dt===0&&(Dt=3):Vd())),o.updateQueue!==null&&(o.flags|=4),es(o),null);case 4:return Ai(),Td(i,o),i===null&&_a(o.stateNode.containerInfo),es(o),null;case 10:return rd(o.type._context),es(o),null;case 17:return ms(o.type)&&xl(),es(o),null;case 19:if(ht(xt),S=o.memoizedState,S===null)return es(o),null;if(g=(o.flags&128)!==0,P=S.rendering,P===null)if(g)Ua(S,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(P=jl(i),P!==null){for(o.flags|=128,Ua(S,!1),g=P.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=h,h=o.child;h!==null;)S=h,i=g,S.flags&=14680066,P=S.alternate,P===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=P.childLanes,S.lanes=P.lanes,S.child=P.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=P.memoizedProps,S.memoizedState=P.memoizedState,S.updateQueue=P.updateQueue,S.type=P.type,i=P.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return lt(xt,xt.current&1|2),o.child}i=i.sibling}S.tail!==null&&ft()>_i&&(o.flags|=128,g=!0,Ua(S,!1),o.lanes=4194304)}else{if(!g)if(i=jl(P),i!==null){if(o.flags|=128,g=!0,h=i.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),Ua(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!pt)return es(o),null}else 2*ft()-S.renderingStartTime>_i&&h!==1073741824&&(o.flags|=128,g=!0,Ua(S,!1),o.lanes=4194304);S.isBackwards?(P.sibling=o.child,o.child=P):(h=S.last,h!==null?h.sibling=P:o.child=P,S.last=P)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=ft(),o.sibling=null,h=xt.current,lt(xt,g?h&1|2:h&1),o):(es(o),null);case 22:case 23:return Hd(),g=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(js&1073741824)!==0&&(es(o),o.subtreeFlags&6&&(o.flags|=8192)):es(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function X0(i,o){switch(Ju(o),o.tag){case 1:return ms(o.type)&&xl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ai(),ht(ps),ht(Jt),dd(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return cd(o),null;case 13:if(ht(xt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));bi()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ht(xt),null;case 4:return Ai(),null;case 10:return rd(o.type._context),null;case 22:case 23:return Hd(),null;case 24:return null;default:return null}}var Fl=!1,ts=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ei(i,o){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){At(i,o,g)}else h.current=null}function Pd(i,o,h){try{h()}catch(g){At(i,o,g)}}var Vm=!1;function Q0(i,o){if(Hu=rl,i=Sp(),Ou(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var P=0,z=-1,G=-1,re=0,de=0,he=i,ue=null;t:for(;;){for(var be;he!==h||x!==0&&he.nodeType!==3||(z=P+x),he!==S||g!==0&&he.nodeType!==3||(G=P+g),he.nodeType===3&&(P+=he.nodeValue.length),(be=he.firstChild)!==null;)ue=he,he=be;for(;;){if(he===i)break t;if(ue===h&&++re===x&&(z=P),ue===S&&++de===g&&(G=P),(be=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=be}h=z===-1||G===-1?null:{start:z,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(Vu={focusedElem:i,selectionRange:h},rl=!1,we=o;we!==null;)if(o=we,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,we=i;else for(;we!==null;){o=we;try{var Ne=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Ee=Ne.memoizedProps,Et=Ne.memoizedState,Z=o.stateNode,Y=Z.getSnapshotBeforeUpdate(o.elementType===o.type?Ee:Xs(o.type,Ee),Et);Z.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var se=o.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){At(o,o.return,fe)}if(i=o.sibling,i!==null){i.return=o.return,we=i;break}we=o.return}return Ne=Vm,Vm=!1,Ne}function za(i,o,h){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var S=x.destroy;x.destroy=void 0,S!==void 0&&Pd(o,h,S)}x=x.next}while(x!==g)}}function Bl(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&i)===i){var g=h.create;h.destroy=g()}h=h.next}while(h!==o)}}function Rd(i){var o=i.ref;if(o!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof o=="function"?o(i):o.current=i}}function Wm(i){var o=i.alternate;o!==null&&(i.alternate=null,Wm(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[on],delete o[Ta],delete o[Ku],delete o[L0],delete o[M0])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function qm(i){return i.tag===5||i.tag===3||i.tag===4}function Gm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ld(i,o,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(i,o):h.insertBefore(i,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(i,h)):(o=h,o.appendChild(i)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=gl));else if(g!==4&&(i=i.child,i!==null))for(Ld(i,o,h),i=i.sibling;i!==null;)Ld(i,o,h),i=i.sibling}function Md(i,o,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?h.insertBefore(i,o):h.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Md(i,o,h),i=i.sibling;i!==null;)Md(i,o,h),i=i.sibling}var qt=null,Ys=!1;function rr(i,o,h){for(h=h.child;h!==null;)Km(i,o,h),h=h.sibling}function Km(i,o,h){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(oe,h)}catch{}switch(h.tag){case 5:ts||Ei(h,o);case 6:var g=qt,x=Ys;qt=null,rr(i,o,h),qt=g,Ys=x,qt!==null&&(Ys?(i=qt,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):qt.removeChild(h.stateNode));break;case 18:qt!==null&&(Ys?(i=qt,h=h.stateNode,i.nodeType===8?Gu(i.parentNode,h):i.nodeType===1&&Gu(i,h),va(i)):Gu(qt,h.stateNode));break;case 4:g=qt,x=Ys,qt=h.stateNode.containerInfo,Ys=!0,rr(i,o,h),qt=g,Ys=x;break;case 0:case 11:case 14:case 15:if(!ts&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var S=x,P=S.destroy;S=S.tag,P!==void 0&&((S&2)!==0||(S&4)!==0)&&Pd(h,o,P),x=x.next}while(x!==g)}rr(i,o,h);break;case 1:if(!ts&&(Ei(h,o),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(z){At(h,o,z)}rr(i,o,h);break;case 21:rr(i,o,h);break;case 22:h.mode&1?(ts=(g=ts)||h.memoizedState!==null,rr(i,o,h),ts=g):rr(i,o,h);break;default:rr(i,o,h)}}function Xm(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new Y0),o.forEach(function(g){var x=aw.bind(null,i,g);h.has(g)||(h.add(g),g.then(x,x))})}}function Qs(i,o){var h=o.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];try{var S=i,P=o,z=P;e:for(;z!==null;){switch(z.tag){case 5:qt=z.stateNode,Ys=!1;break e;case 3:qt=z.stateNode.containerInfo,Ys=!0;break e;case 4:qt=z.stateNode.containerInfo,Ys=!0;break e}z=z.return}if(qt===null)throw Error(t(160));Km(S,P,x),qt=null,Ys=!1;var G=x.alternate;G!==null&&(G.return=null),x.return=null}catch(re){At(x,o,re)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ym(o,i),o=o.sibling}function Ym(i,o){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qs(o,i),un(i),g&4){try{za(3,i,i.return),Bl(3,i)}catch(Ee){At(i,i.return,Ee)}try{za(5,i,i.return)}catch(Ee){At(i,i.return,Ee)}}break;case 1:Qs(o,i),un(i),g&512&&h!==null&&Ei(h,h.return);break;case 5:if(Qs(o,i),un(i),g&512&&h!==null&&Ei(h,h.return),i.flags&32){var x=i.stateNode;try{fs(x,"")}catch(Ee){At(i,i.return,Ee)}}if(g&4&&(x=i.stateNode,x!=null)){var S=i.memoizedProps,P=h!==null?h.memoizedProps:S,z=i.type,G=i.updateQueue;if(i.updateQueue=null,G!==null)try{z==="input"&&S.type==="radio"&&S.name!=null&&Be(x,S),ri(z,P);var re=ri(z,S);for(P=0;P<G.length;P+=2){var de=G[P],he=G[P+1];de==="style"?ut(x,he):de==="dangerouslySetInnerHTML"?Qt(x,he):de==="children"?fs(x,he):O(x,de,he,re)}switch(z){case"input":Pe(x,S);break;case"textarea":Ws(x,S);break;case"select":var ue=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var be=S.value;be!=null?tt(x,!!S.multiple,be,!1):ue!==!!S.multiple&&(S.defaultValue!=null?tt(x,!!S.multiple,S.defaultValue,!0):tt(x,!!S.multiple,S.multiple?[]:"",!1))}x[Ta]=S}catch(Ee){At(i,i.return,Ee)}}break;case 6:if(Qs(o,i),un(i),g&4){if(i.stateNode===null)throw Error(t(162));x=i.stateNode,S=i.memoizedProps;try{x.nodeValue=S}catch(Ee){At(i,i.return,Ee)}}break;case 3:if(Qs(o,i),un(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{va(o.containerInfo)}catch(Ee){At(i,i.return,Ee)}break;case 4:Qs(o,i),un(i);break;case 13:Qs(o,i),un(i),x=i.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Id=ft())),g&4&&Xm(i);break;case 22:if(de=h!==null&&h.memoizedState!==null,i.mode&1?(ts=(re=ts)||de,Qs(o,i),ts=re):Qs(o,i),un(i),g&8192){if(re=i.memoizedState!==null,(i.stateNode.isHidden=re)&&!de&&(i.mode&1)!==0)for(we=i,de=i.child;de!==null;){for(he=we=de;we!==null;){switch(ue=we,be=ue.child,ue.tag){case 0:case 11:case 14:case 15:za(4,ue,ue.return);break;case 1:Ei(ue,ue.return);var Ne=ue.stateNode;if(typeof Ne.componentWillUnmount=="function"){g=ue,h=ue.return;try{o=g,Ne.props=o.memoizedProps,Ne.state=o.memoizedState,Ne.componentWillUnmount()}catch(Ee){At(g,h,Ee)}}break;case 5:Ei(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Zm(he);continue}}be!==null?(be.return=ue,we=be):Zm(he)}de=de.sibling}e:for(de=null,he=i;;){if(he.tag===5){if(de===null){de=he;try{x=he.stateNode,re?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(z=he.stateNode,G=he.memoizedProps.style,P=G!=null&&G.hasOwnProperty("display")?G.display:null,z.style.display=Ge("display",P))}catch(Ee){At(i,i.return,Ee)}}}else if(he.tag===6){if(de===null)try{he.stateNode.nodeValue=re?"":he.memoizedProps}catch(Ee){At(i,i.return,Ee)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;de===he&&(de=null),he=he.return}de===he&&(de=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Qs(o,i),un(i),g&4&&Xm(i);break;case 21:break;default:Qs(o,i),un(i)}}function un(i){var o=i.flags;if(o&2){try{e:{for(var h=i.return;h!==null;){if(qm(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(fs(x,""),g.flags&=-33);var S=Gm(i);Md(i,S,x);break;case 3:case 4:var P=g.stateNode.containerInfo,z=Gm(i);Ld(i,z,P);break;default:throw Error(t(161))}}catch(G){At(i,i.return,G)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function J0(i,o,h){we=i,Qm(i)}function Qm(i,o,h){for(var g=(i.mode&1)!==0;we!==null;){var x=we,S=x.child;if(x.tag===22&&g){var P=x.memoizedState!==null||Fl;if(!P){var z=x.alternate,G=z!==null&&z.memoizedState!==null||ts;z=Fl;var re=ts;if(Fl=P,(ts=G)&&!re)for(we=x;we!==null;)P=we,G=P.child,P.tag===22&&P.memoizedState!==null?eg(x):G!==null?(G.return=P,we=G):eg(x);for(;S!==null;)we=S,Qm(S),S=S.sibling;we=x,Fl=z,ts=re}Jm(i)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,we=S):Jm(i)}}function Jm(i){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var h=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:ts||Bl(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!ts)if(h===null)g.componentDidMount();else{var x=o.elementType===o.type?h.memoizedProps:Xs(o.type,h.memoizedProps);g.componentDidUpdate(x,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&Zp(o,S,g);break;case 3:var P=o.updateQueue;if(P!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}Zp(o,P,h)}break;case 5:var z=o.stateNode;if(h===null&&o.flags&4){h=z;var G=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&h.focus();break;case"img":G.src&&(h.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var re=o.alternate;if(re!==null){var de=re.memoizedState;if(de!==null){var he=de.dehydrated;he!==null&&va(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ts||o.flags&512&&Rd(o)}catch(ue){At(o,o.return,ue)}}if(o===i){we=null;break}if(h=o.sibling,h!==null){h.return=o.return,we=h;break}we=o.return}}function Zm(i){for(;we!==null;){var o=we;if(o===i){we=null;break}var h=o.sibling;if(h!==null){h.return=o.return,we=h;break}we=o.return}}function eg(i){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{Bl(4,o)}catch(G){At(o,h,G)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var x=o.return;try{g.componentDidMount()}catch(G){At(o,x,G)}}var S=o.return;try{Rd(o)}catch(G){At(o,S,G)}break;case 5:var P=o.return;try{Rd(o)}catch(G){At(o,P,G)}}}catch(G){At(o,o.return,G)}if(o===i){we=null;break}var z=o.sibling;if(z!==null){z.return=o.return,we=z;break}we=o.return}}var Z0=Math.ceil,Ul=T.ReactCurrentDispatcher,Od=T.ReactCurrentOwner,Fs=T.ReactCurrentBatchConfig,Je=0,Ft=null,Pt=null,Gt=0,js=0,ki=Zn(0),Dt=0,$a=null,Mr=0,zl=0,Dd=0,Ha=null,ys=null,Id=0,_i=1/0,Dn=null,$l=!1,Fd=null,ir=null,Hl=!1,ar=null,Vl=0,Va=0,Bd=null,Wl=-1,ql=0;function cs(){return(Je&6)!==0?ft():Wl!==-1?Wl:Wl=ft()}function or(i){return(i.mode&1)===0?1:(Je&2)!==0&&Gt!==0?Gt&-Gt:D0.transition!==null?(ql===0&&(ql=Gf()),ql):(i=st,i!==0||(i=window.event,i=i===void 0?16:sp(i.type)),i)}function Js(i,o,h,g){if(50<Va)throw Va=0,Bd=null,Error(t(185));pa(i,h,g),((Je&2)===0||i!==Ft)&&(i===Ft&&((Je&2)===0&&(zl|=h),Dt===4&&lr(i,Gt)),xs(i,g),h===1&&Je===0&&(o.mode&1)===0&&(_i=ft()+500,bl&&tr()))}function xs(i,o){var h=i.callbackNode;Db(i,o);var g=tl(i,i===Ft?Gt:0);if(g===0)h!==null&&Yo(h),i.callbackNode=null,i.callbackPriority=0;else if(o=g&-g,i.callbackPriority!==o){if(h!=null&&Yo(h),o===1)i.tag===0?O0(sg.bind(null,i)):zp(sg.bind(null,i)),P0(function(){(Je&6)===0&&tr()}),h=null;else{switch(Kf(g)){case 1:h=oi;break;case 4:h=ha;break;case 16:h=kn;break;case 536870912:h=$;break;default:h=kn}h=ug(h,tg.bind(null,i))}i.callbackPriority=o,i.callbackNode=h}}function tg(i,o){if(Wl=-1,ql=0,(Je&6)!==0)throw Error(t(327));var h=i.callbackNode;if(ji()&&i.callbackNode!==h)return null;var g=tl(i,i===Ft?Gt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||o)o=Gl(i,g);else{o=g;var x=Je;Je|=2;var S=rg();(Ft!==i||Gt!==o)&&(Dn=null,_i=ft()+500,Dr(i,o));do try{sw();break}catch(z){ng(i,z)}while(!0);nd(),Ul.current=S,Je=x,Pt!==null?o=0:(Ft=null,Gt=0,o=Dt)}if(o!==0){if(o===2&&(x=vu(i),x!==0&&(g=x,o=Ud(i,x))),o===1)throw h=$a,Dr(i,0),lr(i,g),xs(i,ft()),h;if(o===6)lr(i,g);else{if(x=i.current.alternate,(g&30)===0&&!ew(x)&&(o=Gl(i,g),o===2&&(S=vu(i),S!==0&&(g=S,o=Ud(i,S))),o===1))throw h=$a,Dr(i,0),lr(i,g),xs(i,ft()),h;switch(i.finishedWork=x,i.finishedLanes=g,o){case 0:case 1:throw Error(t(345));case 2:Ir(i,ys,Dn);break;case 3:if(lr(i,g),(g&130023424)===g&&(o=Id+500-ft(),10<o)){if(tl(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){cs(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=qu(Ir.bind(null,i,ys,Dn),o);break}Ir(i,ys,Dn);break;case 4:if(lr(i,g),(g&4194240)===g)break;for(o=i.eventTimes,x=-1;0<g;){var P=31-Ae(g);S=1<<P,P=o[P],P>x&&(x=P),g&=~S}if(g=x,g=ft()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Z0(g/1960))-g,10<g){i.timeoutHandle=qu(Ir.bind(null,i,ys,Dn),g);break}Ir(i,ys,Dn);break;case 5:Ir(i,ys,Dn);break;default:throw Error(t(329))}}}return xs(i,ft()),i.callbackNode===h?tg.bind(null,i):null}function Ud(i,o){var h=Ha;return i.current.memoizedState.isDehydrated&&(Dr(i,o).flags|=256),i=Gl(i,o),i!==2&&(o=ys,ys=h,o!==null&&zd(o)),i}function zd(i){ys===null?ys=i:ys.push.apply(ys,i)}function ew(i){for(var o=i;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var x=h[g],S=x.getSnapshot;x=x.value;try{if(!Gs(S(),x))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function lr(i,o){for(o&=~Dd,o&=~zl,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var h=31-Ae(o),g=1<<h;i[h]=-1,o&=~g}}function sg(i){if((Je&6)!==0)throw Error(t(327));ji();var o=tl(i,0);if((o&1)===0)return xs(i,ft()),null;var h=Gl(i,o);if(i.tag!==0&&h===2){var g=vu(i);g!==0&&(o=g,h=Ud(i,g))}if(h===1)throw h=$a,Dr(i,0),lr(i,o),xs(i,ft()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ir(i,ys,Dn),xs(i,ft()),null}function $d(i,o){var h=Je;Je|=1;try{return i(o)}finally{Je=h,Je===0&&(_i=ft()+500,bl&&tr())}}function Or(i){ar!==null&&ar.tag===0&&(Je&6)===0&&ji();var o=Je;Je|=1;var h=Fs.transition,g=st;try{if(Fs.transition=null,st=1,i)return i()}finally{st=g,Fs.transition=h,Je=o,(Je&6)===0&&tr()}}function Hd(){js=ki.current,ht(ki)}function Dr(i,o){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,T0(h)),Pt!==null)for(h=Pt.return;h!==null;){var g=h;switch(Ju(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&xl();break;case 3:Ai(),ht(ps),ht(Jt),dd();break;case 5:cd(g);break;case 4:Ai();break;case 13:ht(xt);break;case 19:ht(xt);break;case 10:rd(g.type._context);break;case 22:case 23:Hd()}h=h.return}if(Ft=i,Pt=i=cr(i.current,null),Gt=js=o,Dt=0,$a=null,Dd=zl=Mr=0,ys=Ha=null,Pr!==null){for(o=0;o<Pr.length;o++)if(h=Pr[o],g=h.interleaved,g!==null){h.interleaved=null;var x=g.next,S=h.pending;if(S!==null){var P=S.next;S.next=x,g.next=P}h.pending=g}Pr=null}return i}function ng(i,o){do{var h=Pt;try{if(nd(),Tl.current=Ml,Pl){for(var g=vt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Pl=!1}if(Lr=0,It=Ot=vt=null,Da=!1,Ia=0,Od.current=null,h===null||h.return===null){Dt=1,$a=o,Pt=null;break}e:{var S=i,P=h.return,z=h,G=o;if(o=Gt,z.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var re=G,de=z,he=de.tag;if((de.mode&1)===0&&(he===0||he===11||he===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=_m(P);if(be!==null){be.flags&=-257,jm(be,P,z,S,o),be.mode&1&&km(S,re,o),o=be,G=re;var Ne=o.updateQueue;if(Ne===null){var Ee=new Set;Ee.add(G),o.updateQueue=Ee}else Ne.add(G);break e}else{if((o&1)===0){km(S,re,o),Vd();break e}G=Error(t(426))}}else if(pt&&z.mode&1){var Et=_m(P);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),jm(Et,P,z,S,o),td(Ni(G,z));break e}}S=G=Ni(G,z),Dt!==4&&(Dt=2),Ha===null?Ha=[S]:Ha.push(S),S=P;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var Z=Nm(S,G,o);Jp(S,Z);break e;case 1:z=G;var Y=S.type,se=S.stateNode;if((S.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(ir===null||!ir.has(se)))){S.flags|=65536,o&=-o,S.lanes|=o;var fe=Em(S,z,o);Jp(S,fe);break e}}S=S.return}while(S!==null)}ag(h)}catch(ke){o=ke,Pt===h&&h!==null&&(Pt=h=h.return);continue}break}while(!0)}function rg(){var i=Ul.current;return Ul.current=Ml,i===null?Ml:i}function Vd(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||(Mr&268435455)===0&&(zl&268435455)===0||lr(Ft,Gt)}function Gl(i,o){var h=Je;Je|=2;var g=rg();(Ft!==i||Gt!==o)&&(Dn=null,Dr(i,o));do try{tw();break}catch(x){ng(i,x)}while(!0);if(nd(),Je=h,Ul.current=g,Pt!==null)throw Error(t(261));return Ft=null,Gt=0,Dt}function tw(){for(;Pt!==null;)ig(Pt)}function sw(){for(;Pt!==null&&!yu();)ig(Pt)}function ig(i){var o=cg(i.alternate,i,js);i.memoizedProps=i.pendingProps,o===null?ag(i):Pt=o,Od.current=null}function ag(i){var o=i;do{var h=o.alternate;if(i=o.return,(o.flags&32768)===0){if(h=K0(h,o,js),h!==null){Pt=h;return}}else{if(h=X0(h,o),h!==null){h.flags&=32767,Pt=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Dt=6,Pt=null;return}}if(o=o.sibling,o!==null){Pt=o;return}Pt=o=i}while(o!==null);Dt===0&&(Dt=5)}function Ir(i,o,h){var g=st,x=Fs.transition;try{Fs.transition=null,st=1,nw(i,o,h,g)}finally{Fs.transition=x,st=g}return null}function nw(i,o,h,g){do ji();while(ar!==null);if((Je&6)!==0)throw Error(t(327));h=i.finishedWork;var x=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var S=h.lanes|h.childLanes;if(Ib(i,S),i===Ft&&(Pt=Ft=null,Gt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Hl||(Hl=!0,ug(kn,function(){return ji(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=Fs.transition,Fs.transition=null;var P=st;st=1;var z=Je;Je|=4,Od.current=null,Q0(i,h),Ym(h,i),C0(Vu),rl=!!Hu,Vu=Hu=null,i.current=h,J0(h),Qo(),Je=z,st=P,Fs.transition=S}else i.current=h;if(Hl&&(Hl=!1,ar=i,Vl=x),S=i.pendingLanes,S===0&&(ir=null),De(h.stateNode),xs(i,ft()),o!==null)for(g=i.onRecoverableError,h=0;h<o.length;h++)x=o[h],g(x.value,{componentStack:x.stack,digest:x.digest});if($l)throw $l=!1,i=Fd,Fd=null,i;return(Vl&1)!==0&&i.tag!==0&&ji(),S=i.pendingLanes,(S&1)!==0?i===Bd?Va++:(Va=0,Bd=i):Va=0,tr(),null}function ji(){if(ar!==null){var i=Kf(Vl),o=Fs.transition,h=st;try{if(Fs.transition=null,st=16>i?16:i,ar===null)var g=!1;else{if(i=ar,ar=null,Vl=0,(Je&6)!==0)throw Error(t(331));var x=Je;for(Je|=4,we=i.current;we!==null;){var S=we,P=S.child;if((we.flags&16)!==0){var z=S.deletions;if(z!==null){for(var G=0;G<z.length;G++){var re=z[G];for(we=re;we!==null;){var de=we;switch(de.tag){case 0:case 11:case 15:za(8,de,S)}var he=de.child;if(he!==null)he.return=de,we=he;else for(;we!==null;){de=we;var ue=de.sibling,be=de.return;if(Wm(de),de===re){we=null;break}if(ue!==null){ue.return=be,we=ue;break}we=be}}}var Ne=S.alternate;if(Ne!==null){var Ee=Ne.child;if(Ee!==null){Ne.child=null;do{var Et=Ee.sibling;Ee.sibling=null,Ee=Et}while(Ee!==null)}}we=S}}if((S.subtreeFlags&2064)!==0&&P!==null)P.return=S,we=P;else e:for(;we!==null;){if(S=we,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:za(9,S,S.return)}var Z=S.sibling;if(Z!==null){Z.return=S.return,we=Z;break e}we=S.return}}var Y=i.current;for(we=Y;we!==null;){P=we;var se=P.child;if((P.subtreeFlags&2064)!==0&&se!==null)se.return=P,we=se;else e:for(P=Y;we!==null;){if(z=we,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Bl(9,z)}}catch(ke){At(z,z.return,ke)}if(z===P){we=null;break e}var fe=z.sibling;if(fe!==null){fe.return=z.return,we=fe;break e}we=z.return}}if(Je=x,tr(),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(oe,i)}catch{}g=!0}return g}finally{st=h,Fs.transition=o}}return!1}function og(i,o,h){o=Ni(h,o),o=Nm(i,o,1),i=nr(i,o,1),o=cs(),i!==null&&(pa(i,1,o),xs(i,o))}function At(i,o,h){if(i.tag===3)og(i,i,h);else for(;o!==null;){if(o.tag===3){og(o,i,h);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ir===null||!ir.has(g))){i=Ni(h,i),i=Em(o,i,1),o=nr(o,i,1),i=cs(),o!==null&&(pa(o,1,i),xs(o,i));break}}o=o.return}}function rw(i,o,h){var g=i.pingCache;g!==null&&g.delete(o),o=cs(),i.pingedLanes|=i.suspendedLanes&h,Ft===i&&(Gt&h)===h&&(Dt===4||Dt===3&&(Gt&130023424)===Gt&&500>ft()-Id?Dr(i,0):Dd|=h),xs(i,o)}function lg(i,o){o===0&&((i.mode&1)===0?o=1:(o=el,el<<=1,(el&130023424)===0&&(el=4194304)));var h=cs();i=Ln(i,o),i!==null&&(pa(i,o,h),xs(i,h))}function iw(i){var o=i.memoizedState,h=0;o!==null&&(h=o.retryLane),lg(i,h)}function aw(i,o){var h=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(o),lg(i,h)}var cg;cg=function(i,o,h){if(i!==null)if(i.memoizedProps!==o.pendingProps||ps.current)gs=!0;else{if((i.lanes&h)===0&&(o.flags&128)===0)return gs=!1,G0(i,o,h);gs=(i.flags&131072)!==0}else gs=!1,pt&&(o.flags&1048576)!==0&&$p(o,Sl,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;Il(i,o),i=o.pendingProps;var x=yi(o,Jt.current);Ci(o,h),x=pd(null,o,g,i,x,h);var S=md();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ms(g)?(S=!0,vl(o)):S=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,od(o),x.updater=Ol,o.stateNode=x,x._reactInternals=o,wd(o,g,i,h),o=Nd(null,o,g,!0,S,h)):(o.tag=0,pt&&S&&Qu(o),ls(null,o,x,h),o=o.child),o;case 16:g=o.elementType;e:{switch(Il(i,o),i=o.pendingProps,x=g._init,g=x(g._payload),o.type=g,x=o.tag=lw(g),i=Xs(g,i),x){case 0:o=Ad(null,o,g,i,h);break e;case 1:o=Om(null,o,g,i,h);break e;case 11:o=Tm(null,o,g,i,h);break e;case 14:o=Pm(null,o,g,Xs(g.type,i),h);break e}throw Error(t(306,g,""))}return o;case 0:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Xs(g,x),Ad(i,o,g,x,h);case 1:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Xs(g,x),Om(i,o,g,x,h);case 3:e:{if(Dm(o),i===null)throw Error(t(387));g=o.pendingProps,S=o.memoizedState,x=S.element,Qp(i,o),_l(o,g,null,h);var P=o.memoizedState;if(g=P.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){x=Ni(Error(t(423)),o),o=Im(i,o,g,h,x);break e}else if(g!==x){x=Ni(Error(t(424)),o),o=Im(i,o,g,h,x);break e}else for(_s=Jn(o.stateNode.containerInfo.firstChild),ks=o,pt=!0,Ks=null,h=Xp(o,null,g,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(bi(),g===x){o=On(i,o,h);break e}ls(i,o,g,h)}o=o.child}return o;case 5:return em(o),i===null&&ed(o),g=o.type,x=o.pendingProps,S=i!==null?i.memoizedProps:null,P=x.children,Wu(g,x)?P=null:S!==null&&Wu(g,S)&&(o.flags|=32),Mm(i,o),ls(i,o,P,h),o.child;case 6:return i===null&&ed(o),null;case 13:return Fm(i,o,h);case 4:return ld(o,o.stateNode.containerInfo),g=o.pendingProps,i===null?o.child=wi(o,null,g,h):ls(i,o,g,h),o.child;case 11:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Xs(g,x),Tm(i,o,g,x,h);case 7:return ls(i,o,o.pendingProps,h),o.child;case 8:return ls(i,o,o.pendingProps.children,h),o.child;case 12:return ls(i,o,o.pendingProps.children,h),o.child;case 10:e:{if(g=o.type._context,x=o.pendingProps,S=o.memoizedProps,P=x.value,lt(Nl,g._currentValue),g._currentValue=P,S!==null)if(Gs(S.value,P)){if(S.children===x.children&&!ps.current){o=On(i,o,h);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var z=S.dependencies;if(z!==null){P=S.child;for(var G=z.firstContext;G!==null;){if(G.context===g){if(S.tag===1){G=Mn(-1,h&-h),G.tag=2;var re=S.updateQueue;if(re!==null){re=re.shared;var de=re.pending;de===null?G.next=G:(G.next=de.next,de.next=G),re.pending=G}}S.lanes|=h,G=S.alternate,G!==null&&(G.lanes|=h),id(S.return,h,o),z.lanes|=h;break}G=G.next}}else if(S.tag===10)P=S.type===o.type?null:S.child;else if(S.tag===18){if(P=S.return,P===null)throw Error(t(341));P.lanes|=h,z=P.alternate,z!==null&&(z.lanes|=h),id(P,h,o),P=S.sibling}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===o){P=null;break}if(S=P.sibling,S!==null){S.return=P.return,P=S;break}P=P.return}S=P}ls(i,o,x.children,h),o=o.child}return o;case 9:return x=o.type,g=o.pendingProps.children,Ci(o,h),x=Ds(x),g=g(x),o.flags|=1,ls(i,o,g,h),o.child;case 14:return g=o.type,x=Xs(g,o.pendingProps),x=Xs(g.type,x),Pm(i,o,g,x,h);case 15:return Rm(i,o,o.type,o.pendingProps,h);case 17:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Xs(g,x),Il(i,o),o.tag=1,ms(g)?(i=!0,vl(o)):i=!1,Ci(o,h),Cm(o,g,x),wd(o,g,x,h),Nd(null,o,g,!0,i,h);case 19:return Um(i,o,h);case 22:return Lm(i,o,h)}throw Error(t(156,o.tag))};function ug(i,o){return Xo(i,o)}function ow(i,o,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(i,o,h,g){return new ow(i,o,h,g)}function Wd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lw(i){if(typeof i=="function")return Wd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===X)return 11;if(i===J)return 14}return 2}function cr(i,o){var h=i.alternate;return h===null?(h=Bs(i.tag,o,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=o,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,o=i.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function Kl(i,o,h,g,x,S){var P=2;if(g=i,typeof i=="function")Wd(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case R:return Fr(h.children,x,S,o);case I:P=8,x|=8;break;case M:return i=Bs(12,h,o,x|2),i.elementType=M,i.lanes=S,i;case U:return i=Bs(13,h,o,x),i.elementType=U,i.lanes=S,i;case K:return i=Bs(19,h,o,x),i.elementType=K,i.lanes=S,i;case b:return Xl(h,x,S,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:P=10;break e;case V:P=9;break e;case X:P=11;break e;case J:P=14;break e;case Q:P=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Bs(P,h,o,x),o.elementType=i,o.type=g,o.lanes=S,o}function Fr(i,o,h,g){return i=Bs(7,i,g,o),i.lanes=h,i}function Xl(i,o,h,g){return i=Bs(22,i,g,o),i.elementType=b,i.lanes=h,i.stateNode={isHidden:!1},i}function qd(i,o,h){return i=Bs(6,i,null,o),i.lanes=h,i}function Gd(i,o,h){return o=Bs(4,i.children!==null?i.children:[],i.key,o),o.lanes=h,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function cw(i,o,h,g,x){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bu(0),this.expirationTimes=bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Kd(i,o,h,g,x,S,P,z,G){return i=new cw(i,o,h,z,G),o===1?(o=1,S===!0&&(o|=8)):o=0,S=Bs(3,null,null,o),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(S),i}function uw(i,o,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:i,containerInfo:o,implementation:h}}function dg(i){if(!i)return er;i=i._reactInternals;e:{if(En(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ms(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(ms(h))return Bp(i,h,o)}return o}function hg(i,o,h,g,x,S,P,z,G){return i=Kd(h,g,!0,i,x,S,P,z,G),i.context=dg(null),h=i.current,g=cs(),x=or(h),S=Mn(g,x),S.callback=o??null,nr(h,S,x),i.current.lanes=x,pa(i,x,g),xs(i,g),i}function Yl(i,o,h,g){var x=o.current,S=cs(),P=or(x);return h=dg(h),o.context===null?o.context=h:o.pendingContext=h,o=Mn(S,P),o.payload={element:i},g=g===void 0?null:g,g!==null&&(o.callback=g),i=nr(x,o,P),i!==null&&(Js(i,x,P,S),kl(i,x,P)),P}function Ql(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function fg(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<o?h:o}}function Xd(i,o){fg(i,o),(i=i.alternate)&&fg(i,o)}function dw(){return null}var pg=typeof reportError=="function"?reportError:function(i){console.error(i)};function Yd(i){this._internalRoot=i}Jl.prototype.render=Yd.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Yl(i,o,null,null)},Jl.prototype.unmount=Yd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Or(function(){Yl(null,i,null,null)}),o[jn]=null}};function Jl(i){this._internalRoot=i}Jl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Qf();i={blockedOn:null,target:i,priority:o};for(var h=0;h<Xn.length&&o!==0&&o<Xn[h].priority;h++);Xn.splice(h,0,i),h===0&&ep(i)}};function Qd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function mg(){}function hw(i,o,h,g,x){if(x){if(typeof g=="function"){var S=g;g=function(){var re=Ql(P);S.call(re)}}var P=hg(o,g,i,0,null,!1,!1,"",mg);return i._reactRootContainer=P,i[jn]=P.current,_a(i.nodeType===8?i.parentNode:i),Or(),P}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var z=g;g=function(){var re=Ql(G);z.call(re)}}var G=Kd(i,0,!1,null,null,!1,!1,"",mg);return i._reactRootContainer=G,i[jn]=G.current,_a(i.nodeType===8?i.parentNode:i),Or(function(){Yl(o,G,h,g)}),G}function ec(i,o,h,g,x){var S=h._reactRootContainer;if(S){var P=S;if(typeof x=="function"){var z=x;x=function(){var G=Ql(P);z.call(G)}}Yl(o,P,i,x)}else P=hw(h,o,i,x,g);return Ql(P)}Xf=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var h=fa(o.pendingLanes);h!==0&&(wu(o,h|1),xs(o,ft()),(Je&6)===0&&(_i=ft()+500,tr()))}break;case 13:Or(function(){var g=Ln(i,1);if(g!==null){var x=cs();Js(g,i,1,x)}}),Xd(i,1)}},Su=function(i){if(i.tag===13){var o=Ln(i,134217728);if(o!==null){var h=cs();Js(o,i,134217728,h)}Xd(i,134217728)}},Yf=function(i){if(i.tag===13){var o=or(i),h=Ln(i,o);if(h!==null){var g=cs();Js(h,i,o,g)}Xd(i,o)}},Qf=function(){return st},Jf=function(i,o){var h=st;try{return st=i,o()}finally{st=h}},Ho=function(i,o,h){switch(o){case"input":if(Pe(i,h),o=h.name,h.type==="radio"&&o!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var g=h[o];if(g!==i&&g.form===i.form){var x=yl(g);if(!x)throw Error(t(90));Fe(g),Pe(g,x)}}}break;case"textarea":Ws(i,h);break;case"select":o=h.value,o!=null&&tt(i,!!h.multiple,o,!1)}},pu=$d,oa=Or;var fw={usingClientEntryPoint:!1,Events:[Pa,mi,yl,ia,aa,$d]},Wa={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pw={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Go(i),i===null?null:i.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||dw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{oe=tc.inject(pw),ge=tc}catch{}}return bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fw,bs.createPortal=function(i,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(o))throw Error(t(200));return uw(i,o,null,h)},bs.createRoot=function(i,o){if(!Qd(i))throw Error(t(299));var h=!1,g="",x=pg;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Kd(i,1,!1,null,null,h,!1,g,x),i[jn]=o.current,_a(i.nodeType===8?i.parentNode:i),new Yd(o)},bs.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Go(o),i=i===null?null:i.stateNode,i},bs.flushSync=function(i){return Or(i)},bs.hydrate=function(i,o,h){if(!Zl(o))throw Error(t(200));return ec(null,i,o,!0,h)},bs.hydrateRoot=function(i,o,h){if(!Qd(i))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,x=!1,S="",P=pg;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),o=hg(o,null,i,1,h??null,x,!1,S,P),i[jn]=o.current,_a(i),g)for(i=0;i<g.length;i++)h=g[i],x=h._getVersion,x=x(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,x]:o.mutableSourceEagerHydrationData.push(h,x);return new Jl(o)},bs.render=function(i,o,h){if(!Zl(o))throw Error(t(200));return ec(null,i,o,!1,h)},bs.unmountComponentAtNode=function(i){if(!Zl(i))throw Error(t(40));return i._reactRootContainer?(Or(function(){ec(null,null,i,!1,function(){i._reactRootContainer=null,i[jn]=null})}),!0):!1},bs.unstable_batchedUpdates=$d,bs.unstable_renderSubtreeIntoContainer=function(i,o,h,g){if(!Zl(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ec(i,o,h,!1,g)},bs.version="18.3.1-next-f1338f8080-20240426",bs}var Ng;function Nx(){if(Ng)return th.exports;Ng=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),th.exports=Aw(),th.exports}var Eg;function Nw(){if(Eg)return nc;Eg=1;var r=Nx();return nc.createRoot=r.createRoot,nc.hydrateRoot=r.hydrateRoot,nc}var Ew=Nw();const kw=$c(Ew);Nx();function po(){return po=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},po.apply(this,arguments)}var gr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(gr||(gr={}));const kg="popstate";function _w(r){r===void 0&&(r={});function e(s,n){let{pathname:a,search:l,hash:u}=s.location;return Th("",{pathname:a,search:l,hash:u},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(s,n){return typeof n=="string"?n:Ac(n)}return Tw(e,t,null,r)}function Tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cf(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jw(){return Math.random().toString(36).substr(2,8)}function _g(r,e){return{usr:r.state,key:r.key,idx:e}}function Th(r,e,t,s){return t===void 0&&(t=null),po({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Xi(e):e,{state:t,key:e&&e.key||s||jw()})}function Ac(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Xi(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function Tw(r,e,t,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:a=!1}=s,l=n.history,u=gr.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(po({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=gr.Pop;let A=p(),E=A==null?null:A-f;f=A,d&&d({action:u,location:v.location,delta:E})}function y(A,E){u=gr.Push;let D=Th(v.location,A,E);f=p()+1;let O=_g(D,f),T=v.createHref(D);try{l.pushState(O,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;n.location.assign(T)}a&&d&&d({action:u,location:v.location,delta:1})}function w(A,E){u=gr.Replace;let D=Th(v.location,A,E);f=p();let O=_g(D,f),T=v.createHref(D);l.replaceState(O,"",T),a&&d&&d({action:u,location:v.location,delta:0})}function C(A){let E=n.location.origin!=="null"?n.location.origin:n.location.href,D=typeof A=="string"?A:Ac(A);return D=D.replace(/ $/,"%20"),Tt(E,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,E)}let v={get action(){return u},get location(){return r(n,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(kg,m),d=A,()=>{n.removeEventListener(kg,m),d=null}},createHref(A){return e(n,A)},createURL:C,encodeLocation(A){let E=C(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:w,go(A){return l.go(A)}};return v}var jg;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(jg||(jg={}));function Pw(r,e,t){return t===void 0&&(t="/"),Rw(r,e,t)}function Rw(r,e,t,s){let n=typeof e=="string"?Xi(e):e,a=uf(n.pathname||"/",t);if(a==null)return null;let l=Ex(r);Lw(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=Ww(a);u=$w(l[d],f)}return u}function Ex(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let n=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Tt(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let f=xr([s,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Tt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Ex(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:Uw(f,a.index),routesMeta:p})};return r.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))n(a,l);else for(let d of kx(a.path))n(a,l,d)}),e}function kx(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,n=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return n?[a,""]:[a];let l=kx(s.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),n&&u.push(...l),u.map(d=>r.startsWith("/")&&d===""?"/":d)}function Lw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:zw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const Mw=/^:[\w-]+$/,Ow=3,Dw=2,Iw=1,Fw=10,Bw=-2,Tg=r=>r==="*";function Uw(r,e){let t=r.split("/"),s=t.length;return t.some(Tg)&&(s+=Bw),e&&(s+=Dw),t.filter(n=>!Tg(n)).reduce((n,a)=>n+(Mw.test(a)?Ow:a===""?Iw:Fw),s)}function zw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,n)=>s===e[n])?r[r.length-1]-e[e.length-1]:0}function $w(r,e,t){let{routesMeta:s}=r,n={},a="/",l=[];for(let u=0;u<s.length;++u){let d=s[u],f=u===s.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=Hw({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!m)return null;Object.assign(n,m.params),l.push({params:n,pathname:xr([a,m.pathname]),pathnameBase:Yw(xr([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=xr([a,m.pathnameBase]))}return l}function Hw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Vw(r.path,r.caseSensitive,r.end),n=e.match(t);if(!n)return null;let a=n[0],l=a.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:s.reduce((f,p,m)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let v=u[m]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const C=u[m];return w&&!C?f[y]=void 0:f[y]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:r}}function Vw(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),cf(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],n="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(s.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),n+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":r!==""&&r!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),s]}function Ww(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cf(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function uf(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}const qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gw=r=>qw.test(r);function Kw(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:n=""}=typeof r=="string"?Xi(r):r,a;if(t)if(Gw(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),cf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+t))}t.startsWith("/")?a=Pg(t.substring(1),"/"):a=Pg(t,e)}else a=e;return{pathname:a,search:Qw(s),hash:Jw(n)}}function Pg(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function rh(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function df(r,e){let t=Xw(r);return e?t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function hf(r,e,t,s){s===void 0&&(s=!1);let n;typeof r=="string"?n=Xi(r):(n=po({},r),Tt(!n.pathname||!n.pathname.includes("?"),rh("?","pathname","search",n)),Tt(!n.pathname||!n.pathname.includes("#"),rh("#","pathname","hash",n)),Tt(!n.search||!n.search.includes("#"),rh("#","search","hash",n)));let a=r===""||n.pathname==="",l=a?"/":n.pathname,u;if(l==null)u=t;else{let m=e.length-1;if(!s&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;n.pathname=y.join("/")}u=m>=0?e[m]:"/"}let d=Kw(n,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const xr=r=>r.join("/").replace(/\/\/+/g,"/"),Yw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Qw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Jw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Zw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const _x=["post","put","patch","delete"];new Set(_x);const e1=["get",..._x];new Set(e1);function mo(){return mo=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},mo.apply(this,arguments)}const ff=H.createContext(null),t1=H.createContext(null),wr=H.createContext(null),Vc=H.createContext(null),Sr=H.createContext({outlet:null,matches:[],isDataRoute:!1}),jx=H.createContext(null);function s1(r,e){let{relative:t}=e===void 0?{}:e;Yi()||Tt(!1);let{basename:s,navigator:n}=H.useContext(wr),{hash:a,pathname:l,search:u}=Px(r,{relative:t}),d=l;return s!=="/"&&(d=l==="/"?s:xr([s,l])),n.createHref({pathname:d,search:u,hash:a})}function Yi(){return H.useContext(Vc)!=null}function Qi(){return Yi()||Tt(!1),H.useContext(Vc).location}function Tx(r){H.useContext(wr).static||H.useLayoutEffect(r)}function Ji(){let{isDataRoute:r}=H.useContext(Sr);return r?m1():n1()}function n1(){Yi()||Tt(!1);let r=H.useContext(ff),{basename:e,future:t,navigator:s}=H.useContext(wr),{matches:n}=H.useContext(Sr),{pathname:a}=Qi(),l=JSON.stringify(df(n,t.v7_relativeSplatPath)),u=H.useRef(!1);return Tx(()=>{u.current=!0}),H.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){s.go(f);return}let m=hf(f,JSON.parse(l),a,p.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xr([e,m.pathname])),(p.replace?s.replace:s.push)(m,p.state,p)},[e,s,l,a,r])}function Px(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=H.useContext(wr),{matches:n}=H.useContext(Sr),{pathname:a}=Qi(),l=JSON.stringify(df(n,s.v7_relativeSplatPath));return H.useMemo(()=>hf(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function r1(r,e){return i1(r,e)}function i1(r,e,t,s){Yi()||Tt(!1);let{navigator:n}=H.useContext(wr),{matches:a}=H.useContext(Sr),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Qi(),p;if(e){var m;let A=typeof e=="string"?Xi(e):e;d==="/"||(m=A.pathname)!=null&&m.startsWith(d)||Tt(!1),p=A}else p=f;let y=p.pathname||"/",w=y;if(d!=="/"){let A=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=Pw(r,{pathname:w}),v=u1(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:xr([d,n.encodeLocation?n.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:xr([d,n.encodeLocation?n.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,s);return e&&v?H.createElement(Vc.Provider,{value:{location:mo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:gr.Pop}},v):v}function a1(){let r=p1(),e=Zw(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:n},t):null,null)}const o1=H.createElement(a1,null);class l1 extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?H.createElement(Sr.Provider,{value:this.props.routeContext},H.createElement(jx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c1(r){let{routeContext:e,match:t,children:s}=r,n=H.useContext(ff);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Sr.Provider,{value:e},s)}function u1(r,e,t,s){var n;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,u=(n=t)==null?void 0:n.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);p>=0||Tt(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(t&&s&&s.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:w}=t,C=m.route.loader&&y[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||C){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,y)=>{let w,C=!1,v=null,A=null;t&&(w=u&&m.route.id?u[m.route.id]:void 0,v=m.route.errorElement||o1,d&&(f<0&&y===0?(g1("route-fallback"),C=!0,A=null):f===y&&(C=!0,A=m.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,y+1)),D=()=>{let O;return w?O=v:C?O=A:m.route.Component?O=H.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=p,H.createElement(c1,{match:m,routeContext:{outlet:p,matches:E,isDataRoute:t!=null},children:O})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?H.createElement(l1,{location:t.location,revalidation:t.revalidation,component:v,error:w,children:D(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):D()},null)}var Rx=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Rx||{}),Lx=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Lx||{});function d1(r){let e=H.useContext(ff);return e||Tt(!1),e}function h1(r){let e=H.useContext(t1);return e||Tt(!1),e}function f1(r){let e=H.useContext(Sr);return e||Tt(!1),e}function Mx(r){let e=f1(),t=e.matches[e.matches.length-1];return t.route.id||Tt(!1),t.route.id}function p1(){var r;let e=H.useContext(jx),t=h1(),s=Mx();return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function m1(){let{router:r}=d1(Rx.UseNavigateStable),e=Mx(Lx.UseNavigateStable),t=H.useRef(!1);return Tx(()=>{t.current=!0}),H.useCallback(function(n,a){a===void 0&&(a={}),t.current&&(typeof n=="number"?r.navigate(n):r.navigate(n,mo({fromRouteId:e},a)))},[r,e])}const Rg={};function g1(r,e,t){Rg[r]||(Rg[r]=!0)}function y1(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function hr(r){let{to:e,replace:t,state:s,relative:n}=r;Yi()||Tt(!1);let{future:a,static:l}=H.useContext(wr),{matches:u}=H.useContext(Sr),{pathname:d}=Qi(),f=Ji(),p=hf(e,df(u,a.v7_relativeSplatPath),d,n==="path"),m=JSON.stringify(p);return H.useEffect(()=>f(JSON.parse(m),{replace:t,state:s,relative:n}),[f,m,n,t,s]),null}function us(r){Tt(!1)}function x1(r){let{basename:e="/",children:t=null,location:s,navigationType:n=gr.Pop,navigator:a,static:l=!1,future:u}=r;Yi()&&Tt(!1);let d=e.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:d,navigator:a,static:l,future:mo({v7_relativeSplatPath:!1},u)}),[d,u,a,l]);typeof s=="string"&&(s=Xi(s));let{pathname:p="/",search:m="",hash:y="",state:w=null,key:C="default"}=s,v=H.useMemo(()=>{let A=uf(p,d);return A==null?null:{location:{pathname:A,search:m,hash:y,state:w,key:C},navigationType:n}},[d,p,m,y,w,C,n]);return v==null?null:H.createElement(wr.Provider,{value:f},H.createElement(Vc.Provider,{children:t,value:v}))}function v1(r){let{children:e,location:t}=r;return r1(Ph(e),t)}new Promise(()=>{});function Ph(r,e){e===void 0&&(e=[]);let t=[];return H.Children.forEach(r,(s,n)=>{if(!H.isValidElement(s))return;let a=[...e,n];if(s.type===H.Fragment){t.push.apply(t,Ph(s.props.children,a));return}s.type!==us&&Tt(!1),!s.props.index||!s.props.children||Tt(!1);let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Ph(s.props.children,a)),t.push(l)}),t}function Rh(){return Rh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Rh.apply(this,arguments)}function b1(r,e){if(r==null)return{};var t={},s=Object.keys(r),n,a;for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}function w1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function S1(r,e){return r.button===0&&(!e||e==="_self")&&!w1(r)}const C1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A1="6";try{window.__reactRouterVersion=A1}catch{}const N1="startTransition",Lg=ww[N1];function E1(r){let{basename:e,children:t,future:s,window:n}=r,a=H.useRef();a.current==null&&(a.current=_w({window:n,v5Compat:!0}));let l=a.current,[u,d]=H.useState({action:l.action,location:l.location}),{v7_startTransition:f}=s||{},p=H.useCallback(m=>{f&&Lg?Lg(()=>d(m)):d(m)},[d,f]);return H.useLayoutEffect(()=>l.listen(p),[l,p]),H.useEffect(()=>y1(s),[s]),H.createElement(x1,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:s})}const k1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=H.forwardRef(function(e,t){let{onClick:s,relative:n,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m}=e,y=b1(e,C1),{basename:w}=H.useContext(wr),C,v=!1;if(typeof f=="string"&&_1.test(f)&&(C=f,k1))try{let O=new URL(window.location.href),T=f.startsWith("//")?new URL(O.protocol+f):new URL(f),k=uf(T.pathname,w);T.origin===O.origin&&k!=null?f=k+T.search+T.hash:v=!0}catch{}let A=s1(f,{relative:n}),E=j1(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:n,viewTransition:m});function D(O){s&&s(O),O.defaultPrevented||E(O)}return H.createElement("a",Rh({},y,{href:C||A,onClick:v||a?s:D,ref:t,target:d}))});var Mg;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Mg||(Mg={}));var Og;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Og||(Og={}));function j1(r,e){let{target:t,replace:s,state:n,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,d=Ji(),f=Qi(),p=Px(r,{relative:l});return H.useCallback(m=>{if(S1(m,t)){m.preventDefault();let y=s!==void 0?s:Ac(f)===Ac(p);d(r,{replace:y,state:n,preventScrollReset:a,relative:l,viewTransition:u})}},[f,d,p,s,n,t,r,a,l,u])}function Ox(r,e){return function(){return r.apply(e,arguments)}}const{toString:T1}=Object.prototype,{getPrototypeOf:pf}=Object,{iterator:Wc,toStringTag:Dx}=Symbol,qc=(r=>e=>{const t=T1.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),rn=r=>(r=r.toLowerCase(),e=>qc(e)===r),Gc=r=>e=>typeof e===r,{isArray:Zi}=Array,Vi=Gc("undefined");function Eo(r){return r!==null&&!Vi(r)&&r.constructor!==null&&!Vi(r.constructor)&&Cs(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Ix=rn("ArrayBuffer");function P1(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Ix(r.buffer),e}const R1=Gc("string"),Cs=Gc("function"),Fx=Gc("number"),ko=r=>r!==null&&typeof r=="object",L1=r=>r===!0||r===!1,yc=r=>{if(qc(r)!=="object")return!1;const e=pf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Dx in r)&&!(Wc in r)},M1=r=>{if(!ko(r)||Eo(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},O1=rn("Date"),D1=rn("File"),I1=rn("Blob"),F1=rn("FileList"),B1=r=>ko(r)&&Cs(r.pipe),U1=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Cs(r.append)&&((e=qc(r))==="formdata"||e==="object"&&Cs(r.toString)&&r.toString()==="[object FormData]"))},z1=rn("URLSearchParams"),[$1,H1,V1,W1]=["ReadableStream","Request","Response","Headers"].map(rn),q1=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _o(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,n;if(typeof r!="object"&&(r=[r]),Zi(r))for(s=0,n=r.length;s<n;s++)e.call(null,r[s],s,r);else{if(Eo(r))return;const a=t?Object.getOwnPropertyNames(r):Object.keys(r),l=a.length;let u;for(s=0;s<l;s++)u=a[s],e.call(null,r[u],u,r)}}function Bx(r,e){if(Eo(r))return null;e=e.toLowerCase();const t=Object.keys(r);let s=t.length,n;for(;s-- >0;)if(n=t[s],e===n.toLowerCase())return n;return null}const Wr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ux=r=>!Vi(r)&&r!==Wr;function Lh(){const{caseless:r,skipUndefined:e}=Ux(this)&&this||{},t={},s=(n,a)=>{const l=r&&Bx(t,a)||a;yc(t[l])&&yc(n)?t[l]=Lh(t[l],n):yc(n)?t[l]=Lh({},n):Zi(n)?t[l]=n.slice():(!e||!Vi(n))&&(t[l]=n)};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&_o(arguments[n],s);return t}const G1=(r,e,t,{allOwnKeys:s}={})=>(_o(e,(n,a)=>{t&&Cs(n)?r[a]=Ox(n,t):r[a]=n},{allOwnKeys:s}),r),K1=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),X1=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Y1=(r,e,t,s)=>{let n,a,l;const u={};if(e=e||{},r==null)return e;do{for(n=Object.getOwnPropertyNames(r),a=n.length;a-- >0;)l=n[a],(!s||s(l,r,e))&&!u[l]&&(e[l]=r[l],u[l]=!0);r=t!==!1&&pf(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Q1=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},J1=r=>{if(!r)return null;if(Zi(r))return r;let e=r.length;if(!Fx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Z1=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&pf(Uint8Array)),eS=(r,e)=>{const s=(r&&r[Wc]).call(r);let n;for(;(n=s.next())&&!n.done;){const a=n.value;e.call(r,a[0],a[1])}},tS=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},sS=rn("HTMLFormElement"),nS=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,n){return s.toUpperCase()+n}),Dg=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),rS=rn("RegExp"),zx=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};_o(t,(n,a)=>{let l;(l=e(n,a,r))!==!1&&(s[a]=l||n)}),Object.defineProperties(r,s)},iS=r=>{zx(r,(e,t)=>{if(Cs(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(Cs(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},aS=(r,e)=>{const t={},s=n=>{n.forEach(a=>{t[a]=!0})};return Zi(r)?s(r):s(String(r).split(e)),t},oS=()=>{},lS=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function cS(r){return!!(r&&Cs(r.append)&&r[Dx]==="FormData"&&r[Wc])}const uS=r=>{const e=new Array(10),t=(s,n)=>{if(ko(s)){if(e.indexOf(s)>=0)return;if(Eo(s))return s;if(!("toJSON"in s)){e[n]=s;const a=Zi(s)?[]:{};return _o(s,(l,u)=>{const d=t(l,n+1);!Vi(d)&&(a[u]=d)}),e[n]=void 0,a}}return s};return t(r,0)},dS=rn("AsyncFunction"),hS=r=>r&&(ko(r)||Cs(r))&&Cs(r.then)&&Cs(r.catch),$x=((r,e)=>r?setImmediate:e?((t,s)=>(Wr.addEventListener("message",({source:n,data:a})=>{n===Wr&&a===t&&s.length&&s.shift()()},!1),n=>{s.push(n),Wr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Cs(Wr.postMessage)),fS=typeof queueMicrotask<"u"?queueMicrotask.bind(Wr):typeof process<"u"&&process.nextTick||$x,pS=r=>r!=null&&Cs(r[Wc]),ie={isArray:Zi,isArrayBuffer:Ix,isBuffer:Eo,isFormData:U1,isArrayBufferView:P1,isString:R1,isNumber:Fx,isBoolean:L1,isObject:ko,isPlainObject:yc,isEmptyObject:M1,isReadableStream:$1,isRequest:H1,isResponse:V1,isHeaders:W1,isUndefined:Vi,isDate:O1,isFile:D1,isBlob:I1,isRegExp:rS,isFunction:Cs,isStream:B1,isURLSearchParams:z1,isTypedArray:Z1,isFileList:F1,forEach:_o,merge:Lh,extend:G1,trim:q1,stripBOM:K1,inherits:X1,toFlatObject:Y1,kindOf:qc,kindOfTest:rn,endsWith:Q1,toArray:J1,forEachEntry:eS,matchAll:tS,isHTMLForm:sS,hasOwnProperty:Dg,hasOwnProp:Dg,reduceDescriptors:zx,freezeMethods:iS,toObjectSet:aS,toCamelCase:nS,noop:oS,toFiniteNumber:lS,findKey:Bx,global:Wr,isContextDefined:Ux,isSpecCompliantForm:cS,toJSONObject:uS,isAsyncFn:dS,isThenable:hS,setImmediate:$x,asap:fS,isIterable:pS};function Ve(r,e,t,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}ie.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const Hx=Ve.prototype,Vx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Vx[r]={value:r}});Object.defineProperties(Ve,Vx);Object.defineProperty(Hx,"isAxiosError",{value:!0});Ve.from=(r,e,t,s,n,a)=>{const l=Object.create(Hx);ie.toFlatObject(r,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const u=r&&r.message?r.message:"Error",d=e==null&&r?r.code:e;return Ve.call(l,u,d,t,s,n),r&&l.cause==null&&Object.defineProperty(l,"cause",{value:r,configurable:!0}),l.name=r&&r.name||"Error",a&&Object.assign(l,a),l};const mS=null;function Mh(r){return ie.isPlainObject(r)||ie.isArray(r)}function Wx(r){return ie.endsWith(r,"[]")?r.slice(0,-2):r}function Ig(r,e,t){return r?r.concat(e).map(function(n,a){return n=Wx(n),!t&&a?"["+n+"]":n}).join(t?".":""):e}function gS(r){return ie.isArray(r)&&!r.some(Mh)}const yS=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function Kc(r,e,t){if(!ie.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=ie.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,A){return!ie.isUndefined(A[v])});const s=t.metaTokens,n=t.visitor||p,a=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(n))throw new TypeError("visitor must be a function");function f(C){if(C===null)return"";if(ie.isDate(C))return C.toISOString();if(ie.isBoolean(C))return C.toString();if(!d&&ie.isBlob(C))throw new Ve("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(C)||ie.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function p(C,v,A){let E=C;if(C&&!A&&typeof C=="object"){if(ie.endsWith(v,"{}"))v=s?v:v.slice(0,-2),C=JSON.stringify(C);else if(ie.isArray(C)&&gS(C)||(ie.isFileList(C)||ie.endsWith(v,"[]"))&&(E=ie.toArray(C)))return v=Wx(v),E.forEach(function(O,T){!(ie.isUndefined(O)||O===null)&&e.append(l===!0?Ig([v],T,a):l===null?v:v+"[]",f(O))}),!1}return Mh(C)?!0:(e.append(Ig(A,v,a),f(C)),!1)}const m=[],y=Object.assign(yS,{defaultVisitor:p,convertValue:f,isVisitable:Mh});function w(C,v){if(!ie.isUndefined(C)){if(m.indexOf(C)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(C),ie.forEach(C,function(E,D){(!(ie.isUndefined(E)||E===null)&&n.call(e,E,ie.isString(D)?D.trim():D,v,y))===!0&&w(E,v?v.concat(D):[D])}),m.pop()}}if(!ie.isObject(r))throw new TypeError("data must be an object");return w(r),e}function Fg(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function mf(r,e){this._pairs=[],r&&Kc(r,this,e)}const qx=mf.prototype;qx.append=function(e,t){this._pairs.push([e,t])};qx.toString=function(e){const t=e?function(s){return e.call(this,s,Fg)}:Fg;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function xS(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gx(r,e,t){if(!e)return r;const s=t&&t.encode||xS;ie.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let a;if(n?a=n(e,t):a=ie.isURLSearchParams(e)?e.toString():new mf(e,t).toString(s),a){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}class Bg{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Kx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vS=typeof URLSearchParams<"u"?URLSearchParams:mf,bS=typeof FormData<"u"?FormData:null,wS=typeof Blob<"u"?Blob:null,SS={isBrowser:!0,classes:{URLSearchParams:vS,FormData:bS,Blob:wS},protocols:["http","https","file","blob","url","data"]},gf=typeof window<"u"&&typeof document<"u",Oh=typeof navigator=="object"&&navigator||void 0,CS=gf&&(!Oh||["ReactNative","NativeScript","NS"].indexOf(Oh.product)<0),AS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NS=gf&&window.location.href||"http://localhost",ES=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gf,hasStandardBrowserEnv:CS,hasStandardBrowserWebWorkerEnv:AS,navigator:Oh,origin:NS},Symbol.toStringTag,{value:"Module"})),rs={...ES,...SS};function kS(r,e){return Kc(r,new rs.classes.URLSearchParams,{visitor:function(t,s,n,a){return rs.isNode&&ie.isBuffer(t)?(this.append(s,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function _S(r){return ie.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jS(r){const e={},t=Object.keys(r);let s;const n=t.length;let a;for(s=0;s<n;s++)a=t[s],e[a]=r[a];return e}function Xx(r){function e(t,s,n,a){let l=t[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=a>=t.length;return l=!l&&ie.isArray(n)?n.length:l,d?(ie.hasOwnProp(n,l)?n[l]=[n[l],s]:n[l]=s,!u):((!n[l]||!ie.isObject(n[l]))&&(n[l]=[]),e(t,s,n[l],a)&&ie.isArray(n[l])&&(n[l]=jS(n[l])),!u)}if(ie.isFormData(r)&&ie.isFunction(r.entries)){const t={};return ie.forEachEntry(r,(s,n)=>{e(_S(s),n,t,0)}),t}return null}function TS(r,e,t){if(ie.isString(r))try{return(e||JSON.parse)(r),ie.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const jo={transitional:Kx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,a=ie.isObject(e);if(a&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return n?JSON.stringify(Xx(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return kS(e,this.formSerializer).toString();if((u=ie.isFileList(e))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Kc(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),TS(e)):e}],transformResponse:[function(e){const t=this.transitional||jo.transitional,s=t&&t.forcedJSONParsing,n=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(s&&!this.responseType||n)){const l=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Ve.from(u,Ve.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rs.classes.FormData,Blob:rs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],r=>{jo.headers[r]={}});const PS=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RS=r=>{const e={};let t,s,n;return r&&r.split(`
`).forEach(function(l){n=l.indexOf(":"),t=l.substring(0,n).trim().toLowerCase(),s=l.substring(n+1).trim(),!(!t||e[t]&&PS[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},Ug=Symbol("internals");function Ga(r){return r&&String(r).trim().toLowerCase()}function xc(r){return r===!1||r==null?r:ie.isArray(r)?r.map(xc):String(r)}function LS(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const MS=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ih(r,e,t,s,n){if(ie.isFunction(s))return s.call(this,e,t);if(n&&(e=t),!!ie.isString(e)){if(ie.isString(s))return e.indexOf(s)!==-1;if(ie.isRegExp(s))return s.test(e)}}function OS(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function DS(r,e){const t=ie.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(n,a,l){return this[s].call(this,e,n,a,l)},configurable:!0})})}let As=class{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function a(u,d,f){const p=Ga(d);if(!p)throw new Error("header name must be a non-empty string");const m=ie.findKey(n,p);(!m||n[m]===void 0||f===!0||f===void 0&&n[m]!==!1)&&(n[m||d]=xc(u))}const l=(u,d)=>ie.forEach(u,(f,p)=>a(f,p,d));if(ie.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(ie.isString(e)&&(e=e.trim())&&!MS(e))l(RS(e),t);else if(ie.isObject(e)&&ie.isIterable(e)){let u={},d,f;for(const p of e){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?ie.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,t)}else e!=null&&a(t,e,s);return this}get(e,t){if(e=Ga(e),e){const s=ie.findKey(this,e);if(s){const n=this[s];if(!t)return n;if(t===!0)return LS(n);if(ie.isFunction(t))return t.call(this,n,s);if(ie.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ga(e),e){const s=ie.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||ih(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let n=!1;function a(l){if(l=Ga(l),l){const u=ie.findKey(s,l);u&&(!t||ih(s,s[u],u,t))&&(delete s[u],n=!0)}}return ie.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const a=t[s];(!e||ih(this,this[a],a,e,!0))&&(delete this[a],n=!0)}return n}normalize(e){const t=this,s={};return ie.forEach(this,(n,a)=>{const l=ie.findKey(s,a);if(l){t[l]=xc(n),delete t[a];return}const u=e?OS(a):String(a).trim();u!==a&&delete t[a],t[u]=xc(n),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ie.forEach(this,(s,n)=>{s!=null&&s!==!1&&(t[n]=e&&ie.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[Ug]=this[Ug]={accessors:{}}).accessors,n=this.prototype;function a(l){const u=Ga(l);s[u]||(DS(n,l),s[u]=!0)}return ie.isArray(e)?e.forEach(a):a(e),this}};As.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(As.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});ie.freezeMethods(As);function ah(r,e){const t=this||jo,s=e||t,n=As.from(s.headers);let a=s.data;return ie.forEach(r,function(u){a=u.call(t,a,n.normalize(),e?e.status:void 0)}),n.normalize(),a}function Yx(r){return!!(r&&r.__CANCEL__)}function ea(r,e,t){Ve.call(this,r??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}ie.inherits(ea,Ve,{__CANCEL__:!0});function Qx(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function IS(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function FS(r,e){r=r||10;const t=new Array(r),s=new Array(r);let n=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),p=s[a];l||(l=f),t[n]=d,s[n]=f;let m=a,y=0;for(;m!==n;)y+=t[m++],m=m%r;if(n=(n+1)%r,n===a&&(a=(a+1)%r),f-l<e)return;const w=p&&f-p;return w?Math.round(y*1e3/w):void 0}}function BS(r,e){let t=0,s=1e3/e,n,a;const l=(f,p=Date.now())=>{t=p,n=null,a&&(clearTimeout(a),a=null),r(...f)};return[(...f)=>{const p=Date.now(),m=p-t;m>=s?l(f,p):(n=f,a||(a=setTimeout(()=>{a=null,l(n)},s-m)))},()=>n&&l(n)]}const Nc=(r,e,t=3)=>{let s=0;const n=FS(50,250);return BS(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,d=l-s,f=n(d),p=l<=u;s=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};r(m)},t)},zg=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},$g=r=>(...e)=>ie.asap(()=>r(...e)),US=rs.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,rs.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(rs.origin),rs.navigator&&/(msie|trident)/i.test(rs.navigator.userAgent)):()=>!0,zS=rs.hasStandardBrowserEnv?{write(r,e,t,s,n,a,l){if(typeof document>"u")return;const u=[`${r}=${encodeURIComponent(e)}`];ie.isNumber(t)&&u.push(`expires=${new Date(t).toUTCString()}`),ie.isString(s)&&u.push(`path=${s}`),ie.isString(n)&&u.push(`domain=${n}`),a===!0&&u.push("secure"),ie.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $S(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function HS(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Jx(r,e,t){let s=!$S(e);return r&&(s||t==!1)?HS(r,e):e}const Hg=r=>r instanceof As?{...r}:r;function Jr(r,e){e=e||{};const t={};function s(f,p,m,y){return ie.isPlainObject(f)&&ie.isPlainObject(p)?ie.merge.call({caseless:y},f,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function n(f,p,m,y){if(ie.isUndefined(p)){if(!ie.isUndefined(f))return s(void 0,f,m,y)}else return s(f,p,m,y)}function a(f,p){if(!ie.isUndefined(p))return s(void 0,p)}function l(f,p){if(ie.isUndefined(p)){if(!ie.isUndefined(f))return s(void 0,f)}else return s(void 0,p)}function u(f,p,m){if(m in e)return s(f,p);if(m in r)return s(void 0,f)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,m)=>n(Hg(f),Hg(p),m,!0)};return ie.forEach(Object.keys({...r,...e}),function(p){const m=d[p]||n,y=m(r[p],e[p],p);ie.isUndefined(y)&&m!==u||(t[p]=y)}),t}const Zx=r=>{const e=Jr({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:a,headers:l,auth:u}=e;if(e.headers=l=As.from(l),e.url=Gx(Jx(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ie.isFormData(t)){if(rs.hasStandardBrowserEnv||rs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ie.isFunction(t.getHeaders)){const d=t.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&l.set(p,m)})}}if(rs.hasStandardBrowserEnv&&(s&&ie.isFunction(s)&&(s=s(e)),s||s!==!1&&US(e.url))){const d=n&&a&&zS.read(a);d&&l.set(n,d)}return e},VS=typeof XMLHttpRequest<"u",WS=VS&&function(r){return new Promise(function(t,s){const n=Zx(r);let a=n.data;const l=As.from(n.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=n,p,m,y,w,C;function v(){w&&w(),C&&C(),n.cancelToken&&n.cancelToken.unsubscribe(p),n.signal&&n.signal.removeEventListener("abort",p)}let A=new XMLHttpRequest;A.open(n.method.toUpperCase(),n.url,!0),A.timeout=n.timeout;function E(){if(!A)return;const O=As.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),k={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:O,config:r,request:A};Qx(function(R){t(R),v()},function(R){s(R),v()},k),A=null}"onloadend"in A?A.onloadend=E:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(E)},A.onabort=function(){A&&(s(new Ve("Request aborted",Ve.ECONNABORTED,r,A)),A=null)},A.onerror=function(T){const k=T&&T.message?T.message:"Network Error",j=new Ve(k,Ve.ERR_NETWORK,r,A);j.event=T||null,s(j),A=null},A.ontimeout=function(){let T=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const k=n.transitional||Kx;n.timeoutErrorMessage&&(T=n.timeoutErrorMessage),s(new Ve(T,k.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,r,A)),A=null},a===void 0&&l.setContentType(null),"setRequestHeader"in A&&ie.forEach(l.toJSON(),function(T,k){A.setRequestHeader(k,T)}),ie.isUndefined(n.withCredentials)||(A.withCredentials=!!n.withCredentials),u&&u!=="json"&&(A.responseType=n.responseType),f&&([y,C]=Nc(f,!0),A.addEventListener("progress",y)),d&&A.upload&&([m,w]=Nc(d),A.upload.addEventListener("progress",m),A.upload.addEventListener("loadend",w)),(n.cancelToken||n.signal)&&(p=O=>{A&&(s(!O||O.type?new ea(null,r,A):O),A.abort(),A=null)},n.cancelToken&&n.cancelToken.subscribe(p),n.signal&&(n.signal.aborted?p():n.signal.addEventListener("abort",p)));const D=IS(n.url);if(D&&rs.protocols.indexOf(D)===-1){s(new Ve("Unsupported protocol "+D+":",Ve.ERR_BAD_REQUEST,r));return}A.send(a||null)})},qS=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,n;const a=function(f){if(!n){n=!0,u();const p=f instanceof Error?f:this.reason;s.abort(p instanceof Ve?p:new ea(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,a(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const u=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),r=null)};r.forEach(f=>f.addEventListener("abort",a));const{signal:d}=s;return d.unsubscribe=()=>ie.asap(u),d}},GS=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,n;for(;s<t;)n=s+e,yield r.slice(s,n),s=n},KS=async function*(r,e){for await(const t of XS(r))yield*GS(t,e)},XS=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Vg=(r,e,t,s)=>{const n=KS(r,e);let a=0,l,u=d=>{l||(l=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await n.next();if(f){u(),d.close();return}let m=p.byteLength;if(t){let y=a+=m;t(y)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),n.return()}},{highWaterMark:2})},Wg=64*1024,{isFunction:rc}=ie,YS=(({Request:r,Response:e})=>({Request:r,Response:e}))(ie.global),{ReadableStream:qg,TextEncoder:Gg}=ie.global,Kg=(r,...e)=>{try{return!!r(...e)}catch{return!1}},QS=r=>{r=ie.merge.call({skipUndefined:!0},YS,r);const{fetch:e,Request:t,Response:s}=r,n=e?rc(e):typeof fetch=="function",a=rc(t),l=rc(s);if(!n)return!1;const u=n&&rc(qg),d=n&&(typeof Gg=="function"?(C=>v=>C.encode(v))(new Gg):async C=>new Uint8Array(await new t(C).arrayBuffer())),f=a&&u&&Kg(()=>{let C=!1;const v=new t(rs.origin,{body:new qg,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!v}),p=l&&u&&Kg(()=>ie.isReadableStream(new s("").body)),m={stream:p&&(C=>C.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!m[C]&&(m[C]=(v,A)=>{let E=v&&v[C];if(E)return E.call(v);throw new Ve(`Response type '${C}' is not supported`,Ve.ERR_NOT_SUPPORT,A)})});const y=async C=>{if(C==null)return 0;if(ie.isBlob(C))return C.size;if(ie.isSpecCompliantForm(C))return(await new t(rs.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(C)||ie.isArrayBuffer(C))return C.byteLength;if(ie.isURLSearchParams(C)&&(C=C+""),ie.isString(C))return(await d(C)).byteLength},w=async(C,v)=>{const A=ie.toFiniteNumber(C.getContentLength());return A??y(v)};return async C=>{let{url:v,method:A,data:E,signal:D,cancelToken:O,timeout:T,onDownloadProgress:k,onUploadProgress:j,responseType:R,headers:I,withCredentials:M="same-origin",fetchOptions:L}=Zx(C),V=e||fetch;R=R?(R+"").toLowerCase():"text";let X=qS([D,O&&O.toAbortSignal()],T),U=null;const K=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let J;try{if(j&&f&&A!=="get"&&A!=="head"&&(J=await w(I,E))!==0){let _=new t(v,{method:"POST",body:E,duplex:"half"}),B;if(ie.isFormData(E)&&(B=_.headers.get("content-type"))&&I.setContentType(B),_.body){const[te,ee]=zg(J,Nc($g(j)));E=Vg(_.body,Wg,te,ee)}}ie.isString(M)||(M=M?"include":"omit");const Q=a&&"credentials"in t.prototype,b={...L,signal:X,method:A.toUpperCase(),headers:I.normalize().toJSON(),body:E,duplex:"half",credentials:Q?M:void 0};U=a&&new t(v,b);let q=await(a?V(U,L):V(v,b));const F=p&&(R==="stream"||R==="response");if(p&&(k||F&&K)){const _={};["status","statusText","headers"].forEach(le=>{_[le]=q[le]});const B=ie.toFiniteNumber(q.headers.get("content-length")),[te,ee]=k&&zg(B,Nc($g(k),!0))||[];q=new s(Vg(q.body,Wg,te,()=>{ee&&ee(),K&&K()}),_)}R=R||"text";let N=await m[ie.findKey(m,R)||"text"](q,C);return!F&&K&&K(),await new Promise((_,B)=>{Qx(_,B,{data:N,headers:As.from(q.headers),status:q.status,statusText:q.statusText,config:C,request:U})})}catch(Q){throw K&&K(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,C,U),{cause:Q.cause||Q}):Ve.from(Q,Q&&Q.code,C,U)}}},JS=new Map,ev=r=>{let e=r&&r.env||{};const{fetch:t,Request:s,Response:n}=e,a=[s,n,t];let l=a.length,u=l,d,f,p=JS;for(;u--;)d=a[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:QS(e)),p=f;return f};ev();const yf={http:mS,xhr:WS,fetch:{get:ev}};ie.forEach(yf,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Xg=r=>`- ${r}`,ZS=r=>ie.isFunction(r)||r===null||r===!1;function eC(r,e){r=ie.isArray(r)?r:[r];const{length:t}=r;let s,n;const a={};for(let l=0;l<t;l++){s=r[l];let u;if(n=s,!ZS(s)&&(n=yf[(u=String(s)).toLowerCase()],n===void 0))throw new Ve(`Unknown adapter '${u}'`);if(n&&(ie.isFunction(n)||(n=n.get(e))))break;a[u||"#"+l]=n}if(!n){const l=Object.entries(a).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(Xg).join(`
`):" "+Xg(l[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n}const tv={getAdapter:eC,adapters:yf};function oh(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ea(null,r)}function Yg(r){return oh(r),r.headers=As.from(r.headers),r.data=ah.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),tv.getAdapter(r.adapter||jo.adapter,r)(r).then(function(s){return oh(r),s.data=ah.call(r,r.transformResponse,s),s.headers=As.from(s.headers),s},function(s){return Yx(s)||(oh(r),s&&s.response&&(s.response.data=ah.call(r,r.transformResponse,s.response),s.response.headers=As.from(s.response.headers))),Promise.reject(s)})}const sv="1.13.2",Xc={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Xc[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const Qg={};Xc.transitional=function(e,t,s){function n(a,l){return"[Axios v"+sv+"] Transitional option '"+a+"'"+l+(s?". "+s:"")}return(a,l,u)=>{if(e===!1)throw new Ve(n(l," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!Qg[l]&&(Qg[l]=!0,console.warn(n(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,u):!0}};Xc.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function tC(r,e,t){if(typeof r!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let n=s.length;for(;n-- >0;){const a=s[n],l=e[a];if(l){const u=r[a],d=u===void 0||l(u,a,r);if(d!==!0)throw new Ve("option "+a+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+a,Ve.ERR_BAD_OPTION)}}const vc={assertOptions:tC,validators:Xc},fn=vc.validators;let Qr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Bg,response:new Bg}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Jr(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:a}=t;s!==void 0&&vc.assertOptions(s,{silentJSONParsing:fn.transitional(fn.boolean),forcedJSONParsing:fn.transitional(fn.boolean),clarifyTimeoutError:fn.transitional(fn.boolean)},!1),n!=null&&(ie.isFunction(n)?t.paramsSerializer={serialize:n}:vc.assertOptions(n,{encode:fn.function,serialize:fn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),vc.assertOptions(t,{baseUrl:fn.spelling("baseURL"),withXsrfToken:fn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&ie.merge(a.common,a[t.method]);a&&ie.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),t.headers=As.concat(l,a);const u=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(d=d&&v.synchronous,u.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let p,m=0,y;if(!d){const C=[Yg.bind(this),void 0];for(C.unshift(...u),C.push(...f),y=C.length,p=Promise.resolve(t);m<y;)p=p.then(C[m++],C[m++]);return p}y=u.length;let w=t;for(;m<y;){const C=u[m++],v=u[m++];try{w=C(w)}catch(A){v.call(this,A);break}}try{p=Yg.call(this,w)}catch(C){return Promise.reject(C)}for(m=0,y=f.length;m<y;)p=p.then(f[m++],f[m++]);return p}getUri(e){e=Jr(this.defaults,e);const t=Jx(e.baseURL,e.url,e.allowAbsoluteUrls);return Gx(t,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){Qr.prototype[e]=function(t,s){return this.request(Jr(s||{},{method:e,url:t,data:(s||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function t(s){return function(a,l,u){return this.request(Jr(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Qr.prototype[e]=t(),Qr.prototype[e+"Form"]=t(!0)});let sC=class nv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const s=this;this.promise.then(n=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](n);s._listeners=null}),this.promise.then=n=>{let a;const l=new Promise(u=>{s.subscribe(u),a=u}).then(n);return l.cancel=function(){s.unsubscribe(a)},l},e(function(a,l,u){s.reason||(s.reason=new ea(a,l,u),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new nv(function(n){e=n}),cancel:e}}};function nC(r){return function(t){return r.apply(null,t)}}function rC(r){return ie.isObject(r)&&r.isAxiosError===!0}const Dh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Dh).forEach(([r,e])=>{Dh[e]=r});function rv(r){const e=new Qr(r),t=Ox(Qr.prototype.request,e);return ie.extend(t,Qr.prototype,e,{allOwnKeys:!0}),ie.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return rv(Jr(r,n))},t}const ct=rv(jo);ct.Axios=Qr;ct.CanceledError=ea;ct.CancelToken=sC;ct.isCancel=Yx;ct.VERSION=sv;ct.toFormData=Kc;ct.AxiosError=Ve;ct.Cancel=ct.CanceledError;ct.all=function(e){return Promise.all(e)};ct.spread=nC;ct.isAxiosError=rC;ct.mergeConfig=Jr;ct.AxiosHeaders=As;ct.formToJSON=r=>Xx(ie.isHTMLForm(r)?new FormData(r):r);ct.getAdapter=tv.getAdapter;ct.HttpStatusCode=Dh;ct.default=ct;const{Axios:r_,AxiosError:i_,CanceledError:a_,isCancel:o_,CancelToken:l_,VERSION:c_,all:u_,Cancel:d_,isAxiosError:h_,spread:f_,toFormData:p_,AxiosHeaders:m_,HttpStatusCode:g_,formToJSON:y_,getAdapter:x_,mergeConfig:v_}=ct,iv=H.createContext(),iC=({children:r})=>{const[e,t]=H.useState(null),[s,n]=H.useState(!0),a=async()=>{try{const p=localStorage.getItem("access_token");if(!p){n(!1);return}ct.defaults.headers.common.Authorization=`Bearer ${p}`;const m=await ct.get("/api/auth/user/");t({token:p,...m.data})}catch(p){console.error("Failed to fetch user data:",p),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),t(null)}finally{n(!1)}};H.useEffect(()=>{a()},[]);const l=async(p,m)=>{try{const y=await ct.post("/api/auth/login/",{username:p,password:m}),{access:w,refresh:C,user:v}=y.data;return localStorage.setItem("access_token",w),localStorage.setItem("refresh_token",C),t({token:w,...v}),{success:!0,user:v,role:v.role}}catch(y){return{success:!1,error:y.response?.data?.detail||"Login failed"}}},u=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),delete ct.defaults.headers.common.Authorization,t(null)},d=async p=>{try{const m=await ct.post("/api/auth/register/",p);return{success:!0}}catch(m){return{success:!1,error:m.response?.data?.detail||"Signup failed"}}},f=()=>!!localStorage.getItem("access_token");return c.jsx(iv.Provider,{value:{user:e,login:l,signup:d,logout:u,isAuthenticated:f,loading:s},children:r})},Cr=()=>H.useContext(iv),go={en:{nav:{home:"Home",dashboard:"Dashboard",alumni:"Alumni",login:"Login",logout:"Logout",about:"About",missionVision:"Mission & Vision",history:"History",leadership:"Leadership",campusMap:"Our Map",diversity:"Diversity & Inclusion",academics:"Academics",undergraduate:"Junior Secondary",graduate:"Senior Secondary",colleges:"Diploma & University",academicCalendar:"Academic Calendar",library:"Library",admissions:"Admissions",undergraduateAdmission:"Junior Sec. Admission",graduateAdmission:"Senior Sec. Admission",tuition:"Tuition & Aid",visitCampus:"Visit Campus",applyNow:"Apply Now",research:"Research",researchCenters:"Research Centers",facultyResearch:"Faculty Research",studentResearch:"Student Research",publications:"Publications",researchSupport:"Research Support",studentLife:"Student Life",housing:"Housing",dining:"Dining",organizations:"Student Organizations",athletics:"Athletics",health:"Health & Wellness",alumniAssociation:"Alumni Association",alumniEvents:"Events",giveBack:"Give Back",alumniResources:"Alumni Resources",alumniStories:"Alumni Stories"},home:{hero:"Welcome!",heroDesc:"It is part of the mercy of Allah that thou dost deal gently with them...Q:3vs159",cta:"Get Started",learnMore:"Learn More",whyChoose:"Why Choose Us",expertTutors:"Expert Tutors",expertDesc:"Learn from qualified tutors with years of teaching experience",flexibleSchedule:"Flexible Schedule",flexibleDesc:"Study at your own pace with 24/7 access to course materials",proven:"Proven Results",provenDesc:"Join thousands of successful students who achieved their goals",stats:"Our Impact",activeStudents:"Active Students",courses:"Courses Available",successRate:"Success Rate",tutors:"Expert Tutors",studentSuccess:"Student Success Stories",testimonialDesc:"Hear what our students have to say about their experience",testimonialQuote:'"The university provided me with exceptional education and opportunities that shaped my career. The supportive community and dedicated faculty made all the difference in my academic journey."',testimonialName:"Sarah Johnson",testimonialTitle:"Computer Science Graduate, Class of 2022",testimonialImage:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",campusLife:"School Life",campusLifeDesc:"Experience vibrant school life with diverse activities, events, and facilities designed to enrich your study experience",campusGalleryBtn:"View Our Gallery",newsEventsTitle:"News & Events",newsEventsDesc:"Stay connected with the latest happenings at Mahdu Rahmah",newsTab:"News",eventsTab:"Events",viewAllNews:"View All News ",viewAllEvents:"View All Events ",recentEventsTitle:"Recent Events",recentEventsDesc:"Check out some of our latest events and activities.",event1Title:"Annual Science Fair",event1Desc:"Students showcased innovative projects in science and technology.",event2Title:"Cultural Festival",event2Desc:"A celebration of diverse cultures with performances and food stalls.",event3Title:"Guest Lecture Series",event3Desc:"Renowned experts shared insights on emerging trends in various fields.",contactTitle:"Contact Us",contactDesc:"You can reach-out to us through these details or use the form to message us",contactInfo:"Contact Information",address:"Address",phone:"Phone",email:"Email",followUs:"Follow Us",sendMessage:"Send Message",name:"Name",subject:"Subject",message:"Message",send:"Send",footerAboutTitle:"About Mahdu Rahmah",footerAcademicsTitle:"Academics",footerAdmissionsTitle:"Admissions",footerConnectTitle:"Connect With Us",footerCopyright:" {year} Mahdu Rahma El-Islaamiy. All Rights Reserved.",footerPrivacy:"Privacy Policy",footerTerms:"Terms of Use",footerAccessibility:"Accessibility",footerConsumer:"Consumer Information",footerEmergency:"Emergency Information",footerMissionVision:"Mission & Vision",footerHistory:"History",footerLeadership:"Leadership",footerAccreditation:"Accreditation",footerEmployment:"Employment",footerCampusMap:"Institute Map",footerCollegesSchools:"Diploma & University",footerUndergraduatePrograms:"Junior Sec. Programs",footerGraduatePrograms:"Senior Sec. Programs",footerOnlineLearning:"Online Learning",footerAcademicCalendar:"Academic Calendar",footerLibrary:"Library",footerUndergraduateAdmission:"Junior Sec. Admission",footerGraduateAdmission:"Senior Sec. Admission",footerFinancialAid:"Financial Aid",footerScholarships:"Scholarships",footerVisitCampus:"Visit School",footerApplyNow:"Apply Now",footerAddress:"12A Baale Street  Ishagatedo Mushin Road, Lagos 12345",footerPhone:"Phone: +(234) 123-4567",footerEmail:"Email: info@mahdurahmah.edu",footerFacebook:"Facebook",footerTwitter:"Twitter",footerInstagram:"Instagram",footerLinkedIn:"LinkedIn",footerYouTube:"YouTube"},student:{dashboard:"Student Dashboard",welcome:"Welcome back",courses:"Courses",assignments:"Assignments",attendance:"Attendance",overview:"Overview",pending:"Pending",completed:"Completed",inProgress:"In Progress",viewAll:"View All",viewAllCourses:"View All Courses",viewAllAssignments:"View All Assignments",viewSchedule:"View Schedule",viewAllNews:"View All News",dueDate:"Due Date",progress:"Progress",upcoming:"Upcoming",grade:"Grade",feedback:"Feedback",courseProgress:"Course Progress",assignmentStatus:"Assignment Status",upcomingClasses:"Upcoming Classes",newsUpdates:"News & Updates",attendanceRate:"Attendance Rate",overallAttendanceRate:"Overall Attendance Rate",attendanceSummary:"Attendance Summary",averageGrade:"Average Grade",enrolledCourses:"Enrolled Courses",completedCourses:"Completed Courses",overallProgress:"Overall Progress",pendingAssignments:"Pending Assignments",classSchedule:"Class Schedule",assignmentManagement:"Assignment Management",submitAssignment:"Submit Assignment",recentSubmissions:"Recent Submissions",attendanceOverview:"Attendance Overview",totalClasses:"Total Classes",present:"Present",late:"Late",absent:"Absent",recentAttendance:"Recent Attendance",upcomingClassesCount:"Next 7 days",completedTasks:"Completed Tasks",thisMonth:"This month",loadingCourses:"Loading courses...",loadingAssignments:"Loading assignments...",loadingSchedule:"Loading schedule...",loadingAttendance:"Loading attendance...",loadingDashboard:"Loading dashboard...",noCoursesEnrolled:"No courses enrolled",noAssignmentsFound:"No assignments found",noUpcomingClasses:"No upcoming classes",noRecentUpdates:"No recent updates",allAssignmentsCompleted:"All assignments completed!",noSubmissionsYet:"No submissions yet",noAttendanceRecords:"No attendance records",next7Days:"Next 7 days",dueThisWeek:"Due this week",courseCompletion:"Course completion",assignmentAverage:"Assignment average",classAttendance:"Class attendance",status:"Status",type:"Type",submit:"Submit",due:"Due:",course:"Course",time:"Time",room:"Room",date:"Date",day:"Day",tabs:{overview:"Overview",assignments:"Assignments",attendance:"Attendance"},fallbacks:{course:"Course",toBeDetermined:"TBD",general:"General",notAvailable:"N/A"}},tutor:{dashboard:"Tutor -",overview:"Overview",myStudents:"My Students",classes:"Classes Today",attendance:"Attendance Rate",avgGrade:"Average Grade",students:"Total Students",schedule:"Today's Schedule",recentActivity:"Recent Activity",performance:"Student Performance",course:"Course",time:"Time",room:"Room"},admin:{dashboard:"Admin -",overview:"System Overview",users:"User Management",reports:"Reports",settings:"Settings",totalUsers:"Total Users",activeToday:"Active Today",revenue:"Monthly Revenue",satisfaction:"Satisfaction Rate",userStats:"User Statistics",role:"Role",lastActive:"Last Active",actions:"Actions"},alumni:{title:"Alumni Network",subtitle:"Stay connected with our community of successful graduates",featured:"Featured Alumni",stories:"Success Stories",network:"Alumni Network",events:"Upcoming Events",viewProfile:"View Profile",achievements:"Achievements",currentPosition:"Current Position",graduated:"Graduated"},common:{search:"Search",filter:"Filter",export:"Export",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",view:"View",loading:"Loading...",noData:"No data available"},digitalBookshelf:{title:"Digital Bookshelf",subtitle:"Explore our collection of digital books. Click on any cover to learn more and start reading.",author:"Author:",readBook:"Read Book",closeModal:"",previous:"Previous",next:"Next",pageIndicator:"Page {current} of {total}",uploadTitle:"Read Your Own PDF",uploadSubtitle:"Select a PDF file from your device to read it here.",selectFile:"Select PDF File",noFileSelected:"No file selected",readNow:"Read Now"},about:{title:"About Our University",subtitle:"Discover our mission, vision, and commitment to excellence in education",missionTitle:"Our Mission",missionText:"To provide exceptional higher education that empowers students to become innovative leaders and engaged global citizens who make meaningful contributions to society.",visionTitle:"Our Vision",visionText:"To be a globally recognized university that transforms lives through education, research, and community engagement, fostering innovation and excellence.",historyTitle:"Our History",historyText:"Founded in 1900, our university has been at the forefront of higher education for over a century. We have consistently evolved to meet the changing needs of students and society while maintaining our commitment to academic excellence.",founded:"Founded",students:"Students",faculty:"Faculty Members",employmentRate:"Employment Rate",leadershipTitle:"University Leadership",leadershipSubtitle:"Meet the dedicated leaders who guide our institution towards excellence",presidentName:"Dr. Sarah Johnson",presidentTitle:"University President",presidentBio:"Dr. Johnson brings over 20 years of academic leadership experience to our university.",vpName:"Dr. Michael Chen",vpTitle:"Vice President of Academic Affairs",vpBio:"Dr. Chen is a renowned scholar with extensive experience in academic administration.",deanName:"Dr. Emily Rodriguez",deanTitle:"Dean of Students",deanBio:"Dr. Rodriguez is passionate about student success and campus life excellence.",valuesTitle:"Our Core Values",excellenceTitle:"Excellence",excellenceText:"We strive for the highest standards in teaching, research, and service.",innovationTitle:"Innovation",innovationText:"We embrace new ideas and technologies to advance knowledge and solve complex problems.",communityTitle:"Community",communityText:"We foster a supportive and inclusive environment where everyone can thrive."},academics:{title:"Academics",subtitle:"Explore our comprehensive academic programs and world-class faculty",collegesTitle:"Colleges & Schools",collegesSubtitle:"Discover the diverse academic units that make up our university",engineeringTitle:"College of Engineering",engineeringDesc:"Leading innovation in technology and engineering education",csProgram:"Computer Science",mechanicalProgram:"Mechanical Engineering",electricalProgram:"Electrical Engineering",businessTitle:"School of Business",businessDesc:"Preparing future business leaders with practical skills and ethical values",mbaProgram:"Master of Business Administration",financeProgram:"Finance",marketingProgram:"Marketing",sciencesTitle:"College of Sciences",sciencesDesc:"Advancing knowledge through research and discovery",biologyProgram:"Biology",chemistryProgram:"Chemistry",physicsProgram:"Physics",liberalArtsTitle:"College of Liberal Arts",liberalArtsDesc:"Developing critical thinking and communication skills",englishProgram:"English Literature",historyProgram:"History",philosophyProgram:"Philosophy",medicineTitle:"School of Medicine",medicineDesc:"Training compassionate healthcare professionals",medicineProgram:"Doctor of Medicine",nursingProgram:"Nursing",pharmacyProgram:"Pharmacy",educationTitle:"College of Education",educationDesc:"Preparing effective educators for diverse learning environments",elementaryProgram:"Elementary Education",secondaryProgram:"Secondary Education",specialEdProgram:"Special Education",undergraduateTitle:"Undergraduate Programs",undergraduateDesc:"Choose from a wide range of bachelor's and associate degree programs",bachelorDegrees:"Bachelor's Degrees",bachelorDesc:"Four-year programs leading to comprehensive undergraduate education","120CreditHour":"120 credit hours typically required",generalEducation:"General education requirements",majorRequirements:"Major-specific coursework",electiveCourses:"Elective courses for breadth",associateDegrees:"Associate Degrees",associateDesc:"Two-year programs for career preparation or transfer","60CreditHour":"60 credit hours typically required",transferReady:"Transfer-ready curriculum",careerFocused:"Career-focused training",fastTrack:"Fast-track to employment",graduateTitle:"Graduate Programs",graduateDesc:"Advance your career with our graduate degree programs",masterDegrees:"Master's Degrees",masterDesc:"Advanced study in specialized fields",doctoralDegrees:"Doctoral Degrees",doctoralDesc:"Research-intensive programs for academic and professional careers",certificatePrograms:"Certificate Programs",certificateDesc:"Short-term programs for skill enhancement",duration:"Duration",years:"years",months:"months",resourcesTitle:"Academic Resources",libraryTitle:"University Library",libraryDesc:"Access to millions of books, journals, and digital resources",onlineLearningTitle:"Online Learning",onlineLearningDesc:"Flexible online courses and degree programs",researchTitle:"Research Centers",researchDesc:"Cutting-edge research facilities and opportunities",calendarTitle:"Academic Calendar",calendarDesc:"Important dates and deadlines for the academic year"},admissions:{title:"Admissions",subtitle:"Start your journey with us - discover how to join our academic community",applyNowTitle:"Apply Now",applyNowDesc:"Ready to begin your academic journey? Our admissions team is here to help you every step of the way.",startApplication:"Start Application",undergraduateTitle:"Undergraduate Admission",undergraduateDesc:"Join our diverse undergraduate community and prepare for a successful future",requirementsTitle:"Admission Requirements",highSchoolDiploma:"High school diploma or equivalent",satOrAct:"SAT or ACT scores",transcripts:"Official academic transcripts",essays:"Personal essays",letterOfRecommendation:"Letters of recommendation",applicationFee:"Application fee",timelineTitle:"Important Deadlines",earlyDecision:"Early Decision",earlyAction:"Early Action",regularDecision:"Regular Decision",transferDeadline:"Transfer Application",november1:"November 1",november15:"November 15",january15:"January 15",march1:"March 1",undergraduateChecklist:"View Checklist",graduateTitle:"Graduate Admission",graduateDesc:"Pursue advanced study and research opportunities at the graduate level",masterRequirements:"Master's Program Requirements",bachelorDegree:"Bachelor's degree from accredited institution",greScores:"GRE scores (program specific)",statementsOfPurpose:"Statement of purpose",lettersOfRecommendation:"Letters of recommendation",interview:"Interview (if required)",phdRequirements:"PhD Program Requirements",masterDegree:"Master's degree preferred",researchProposal:"Research proposal",academicWriting:"Academic writing sample",facultySupport:"Faculty advisor support",qualifyingExam:"Qualifying examination",comprehensiveExam:"Comprehensive examination",graduateChecklist:"View Graduate Checklist",financialAidTitle:"Financial Aid & Scholarships",financialAidDesc:"We believe cost should never be a barrier to quality education",scholarshipsTitle:"Scholarships",scholarshipsDesc:"Merit-based scholarships for outstanding students",grantsTitle:"Grants",grantsDesc:"Need-based grants for qualified students",studentLoansTitle:"Student Loans",studentLoansDesc:"Federal and private loan options available",financialAidCalculator:"Financial Aid Calculator",visitCampusTitle:"Visit Campus",visitCampusDesc:"Experience our campus community firsthand through guided tours and events",campusToursTitle:"Campus Tours",campusToursDesc:"Guided tours led by current students",infoSessionsTitle:"Information Sessions",infoSessionsDesc:"Learn about programs and admissions",overnightStaysTitle:"Overnight Stays",overnightStaysDesc:"Experience campus life as a student",scheduleVisit:"Schedule Your Visit"},header:{currentStudents:"Current Students",adminStaff:"Admin & Staff",alumni:"Alumni",partnersSponsors:"Partners & Sponsors",searchPlaceholder:"Search courses, news, events...",searchPlaceholderShort:"Search...",login:"Login",universityName:"Rahmat El-Islaamiy",logoAlt:"mahdu-logo",searchResults:"Search Results",noResults:"No results found",showingResults:"Showing results for",courses:"Courses",assignments:"Assignments",news:"News",events:"Events",users:"Users",announcements:"Announcements",viewAll:"View All",suggestions:"Suggestions"},auth:{login:{title:"Welcome Back",subtitle:"Sign in to your Dashboard",email:"Email",emailPlaceholder:"your@email.com",password:"Password",passwordPlaceholder:"",signIn:"Sign In",signingIn:"Signing In...",noAccount:"Don't have an account?",signUp:"Sign up",error:{invalidCredentials:"Invalid email or password",networkError:"Network error. Please try again.",serverError:"Server error. Please try again later.",unknown:"An unexpected error occurred"}},signup:{title:"Create Account",subtitle:"Join Rahmat El-Islaamiy today",firstName:"First Name",firstNamePlaceholder:"Ahmad",lastName:"Last Name",lastNamePlaceholder:"Musa",email:"Email",emailPlaceholder:"your@email.com",password:"Password",passwordPlaceholder:"",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"",role:"Role",roles:{student:"Student",tutor:"Tutor",admin:"Admin",alumni:"Alumni"},createAccount:"Create Account",hasAccount:"Already have an account?",signIn:"Sign in",error:{passwordMismatch:"Passwords do not match",invalidEmail:"Please enter a valid email address",passwordTooShort:"Password must be at least 6 characters long",requiredFields:"Please fill in all required fields",networkError:"Network error. Please try again.",serverError:"Server error. Please try again later.",emailExists:"An account with this email already exists",unknown:"An unexpected error occurred"},success:{accountCreated:"Account created successfully! Please sign in."}}},dashboardFooter:{university:{name:"Rahmat El-Islaamiy Institute",description:"Empowering students and educators with comprehensive academic management solutions.",campus:"Mahdu Rahmah Garden"},quickLinks:{title:"Quick Links",home:"Home",dashboard:"Dashboard",profile:"Profile"},admin:{title:"Admin Panel",statistics:"Statistics",manageStudents:"Manage Students",manageTutors:"Manage Tutors",contentManagement:"Content Management"},support:{title:"Support",email:"support@mahdurahmah.edu",phone:"+1 (555) 123-4567",helpCenter:"Help Center"},legal:{privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service"},copyright:" {year} Rahmat El-Islaamiy Institute. All rights reserved.",user:{welcome:"Welcome",logout:"Logout"},confirm:{logout:"Are you sure you want to logout?"}}},ar:{nav:{home:"",dashboard:" ",alumni:"",login:" ",logout:" ",about:"",missionVision:" ",history:"",leadership:"",campusMap:"  ",diversity:" ",academics:"",undergraduate:" ",graduate:"  ",colleges:" ",academicCalendar:" ",library:"",admissions:"",undergraduateAdmission:" ",graduateAdmission:"  ",tuition:" ",visitCampus:"  ",applyNow:" ",research:"",researchCenters:" ",facultyResearch:" ",studentResearch:" ",publications:"",researchSupport:" ",studentLife:" ",housing:"",dining:"",organizations:" ",athletics:"",health:" ",alumniAssociation:" ",alumniEvents:"",giveBack:"",alumniResources:" ",alumniStories:" "},home:{hero:" !",heroDesc:"             ...:3159",cta:" ",learnMore:" ",whyChoose:" ",expertTutors:" ",expertDesc:"       ",flexibleSchedule:" ",flexibleDesc:"         ",proven:" ",provenDesc:"       ",stats:"",activeStudents:" ",courses:" ",successRate:" ",tutors:" ",studentSuccess:"  ",testimonialDesc:"     ",testimonialQuote:'"        .          ."',testimonialName:" ",testimonialTitle:"    2022",testimonialImage:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",campusLife:" ",campusLifeDesc:"             ",campusGalleryBtn:"  ",newsEventsTitle:" ",newsEventsDesc:"        ",newsTab:"",eventsTab:"",viewAllNews:"   ",viewAllEvents:"   ",recentEventsTitle:" ",recentEventsDesc:"     .",event1Title:"  ",event1Desc:"      .",event2Title:" ",event2Desc:"      .",event3Title:"  ",event3Desc:"         .",contactTitle:" ",contactDesc:"           ",contactInfo:" ",address:"",phone:" ",email:" ",followUs:"",sendMessage:" ",name:"",subject:"",message:"",send:"",footerAboutTitle:"  ",footerAcademicsTitle:"",footerAdmissionsTitle:"",footerConnectTitle:" ",footerCopyright:" {year}   .   .",footerPrivacy:" ",footerTerms:" ",footerAccessibility:" ",footerConsumer:" ",footerEmergency:" ",footerMissionVision:" ",footerHistory:"",footerLeadership:"",footerAccreditation:"",footerEmployment:"",footerCampusMap:"  ",footerCollegesSchools:" ",footerUndergraduatePrograms:" ",footerGraduatePrograms:"  ",footerOnlineLearning:"  ",footerAcademicCalendar:" ",footerLibrary:"",footerUndergraduateAdmission:" ",footerGraduateAdmission:"  ",footerFinancialAid:" ",footerScholarships:" ",footerVisitCampus:"  ",footerApplyNow:" ",footerAddress:"12A Baale Street  Ishagatedo Mushin Road, Lagos 12345",footerPhone:": +(234) 123-4567",footerEmail:" : info@mahdurahmah.edu",footerFacebook:"",footerTwitter:"",footerInstagram:"",footerLinkedIn:" ",footerYouTube:""},student:{dashboard:"  ",welcome:" ",courses:"",assignments:"",attendance:"",overview:" ",pending:"",completed:"",inProgress:" ",viewAll:" ",viewAllCourses:"  ",viewAllAssignments:"  ",viewSchedule:" ",viewAllNews:"  ",dueDate:" ",progress:"",upcoming:"",grade:"",feedback:"",courseProgress:" ",assignmentStatus:" ",upcomingClasses:" ",newsUpdates:" ",attendanceRate:" ",overallAttendanceRate:"  ",attendanceSummary:" ",averageGrade:" ",enrolledCourses:" ",completedCourses:" ",overallProgress:" ",pendingAssignments:" ",classSchedule:" ",assignmentManagement:" ",submitAssignment:" ",recentSubmissions:" ",attendanceOverview:"   ",totalClasses:" ",present:"",late:"",absent:"",recentAttendance:" ",upcomingClassesCount:" 7  ",completedTasks:" ",thisMonth:" ",loadingCourses:"  ...",loadingAssignments:"  ...",loadingSchedule:"  ...",loadingAttendance:"  ...",loadingDashboard:"   ...",noCoursesEnrolled:"   ",noAssignmentsFound:"  ",noUpcomingClasses:"   ",noRecentUpdates:"   ",allAssignmentsCompleted:"   !",noSubmissionsYet:"   ",noAttendanceRecords:"   ",next7Days:" 7  ",dueThisWeek:"  ",courseCompletion:" ",assignmentAverage:" ",classAttendance:" ",status:"",type:"",submit:"",due:":",course:"",time:"",room:"",date:"",day:"",tabs:{overview:" ",assignments:"",attendance:""},fallbacks:{course:"",toBeDetermined:" ",general:"",notAvailable:" "}},tutor:{dashboard:"  ",overview:" ",myStudents:"",classes:" ",attendance:" ",avgGrade:" ",students:" ",schedule:" ",recentActivity:" ",performance:" ",course:"",time:"",room:""},admin:{dashboard:"  ",overview:"   ",users:" ",reports:"",settings:"",totalUsers:" ",activeToday:" ",revenue:" ",satisfaction:" ",userStats:" ",role:"",lastActive:" ",actions:""},alumni:{title:" ",subtitle:"       ",featured:" ",stories:" ",network:" ",events:" ",viewProfile:"  ",achievements:"",currentPosition:" ",graduated:" "},common:{search:"",filter:"",export:"",save:"",cancel:"",edit:"",delete:"",view:"",loading:" ...",noData:"  "},digitalBookshelf:{title:"  ",subtitle:"    .         .",author:":",readBook:" ",closeModal:"",previous:"",next:"",pageIndicator:" {current}  {total}",uploadTitle:"  PDF  ",uploadSubtitle:"  PDF    .",selectFile:"  PDF",noFileSelected:"   ",readNow:" "},about:{title:" ",subtitle:"      ",missionTitle:"",missionText:"                  .",visionTitle:"",visionText:"                .",historyTitle:"",historyText:"   1900          .              .",founded:"",students:"",faculty:"  ",employmentRate:" ",leadershipTitle:" ",leadershipSubtitle:"        ",presidentName:".  ",presidentTitle:" ",presidentBio:" .    20       .",vpName:".  ",vpTitle:"   ",vpBio:".        .",deanName:".  ",deanTitle:"  ",deanBio:".       .",valuesTitle:" ",excellenceTitle:"",excellenceText:"       .",innovationTitle:"",innovationText:"        .",communityTitle:"",communityText:"       ."},academics:{title:"",subtitle:"        ",collegesTitle:" ",collegesSubtitle:"      ",engineeringTitle:" ",engineeringDesc:"     ",csProgram:" ",mechanicalProgram:" ",electricalProgram:" ",businessTitle:" ",businessDesc:"       ",mbaProgram:"  ",financeProgram:"",marketingProgram:"",sciencesTitle:" ",sciencesDesc:"     ",biologyProgram:" ",chemistryProgram:"",physicsProgram:"",liberalArtsTitle:"  ",liberalArtsDesc:"    ",englishProgram:" ",historyProgram:"",philosophyProgram:"",medicineTitle:" ",medicineDesc:"    ",medicineProgram:" ",nursingProgram:"",pharmacyProgram:"",educationTitle:" ",educationDesc:"     ",elementaryProgram:"  ",secondaryProgram:"  ",specialEdProgram:" ",undergraduateTitle:" ",undergraduateDesc:"        associate",bachelorDegrees:" ",bachelorDesc:"        ","120CreditHour":"120    ",generalEducation:"  ",majorRequirements:"  ",electiveCourses:"  ",associateDegrees:" associate",associateDesc:"      ","60CreditHour":"60    ",transferReady:"  ",careerFocused:"   ",fastTrack:"  ",graduateTitle:"  ",graduateDesc:"       ",masterDegrees:" ",masterDesc:"    ",doctoralDegrees:" ",doctoralDesc:"      ",certificatePrograms:" ",certificateDesc:"    ",duration:"",years:"",months:"",resourcesTitle:" ",libraryTitle:" ",libraryDesc:"      ",onlineLearningTitle:"  ",onlineLearningDesc:"     ",researchTitle:" ",researchDesc:"   ",calendarTitle:" ",calendarDesc:"     "},admissions:{title:"",subtitle:"   -      ",applyNowTitle:" ",applyNowDesc:"            .",startApplication:" ",undergraduateTitle:" ",undergraduateDesc:"       ",requirementsTitle:" ",highSchoolDiploma:"     ",satOrAct:" SAT  ACT",transcripts:"  ",essays:" ",letterOfRecommendation:" ",applicationFee:" ",timelineTitle:"  ",earlyDecision:" ",earlyAction:" ",regularDecision:" ",transferDeadline:" ",november1:"1 ",november15:"15 ",january15:"15 ",march1:"1 ",undergraduateChecklist:" ",graduateTitle:"  ",graduateDesc:"        ",masterRequirements:"  ",bachelorDegree:"    ",greScores:" GRE ( )",statementsOfPurpose:" ",lettersOfRecommendation:" ",interview:" (  )",phdRequirements:"  ",masterDegree:"  ",researchProposal:" ",academicWriting:"  ",facultySupport:"   ",qualifyingExam:" ",comprehensiveExam:" ",graduateChecklist:"   ",financialAidTitle:"   ",financialAidDesc:"          ",scholarshipsTitle:" ",scholarshipsDesc:"      ",grantsTitle:"",grantsDesc:"     ",studentLoansTitle:" ",studentLoansDesc:"    ",financialAidCalculator:"  ",visitCampusTitle:"  ",visitCampusDesc:"         ",campusToursTitle:"  ",campusToursDesc:"    ",infoSessionsTitle:" ",infoSessionsDesc:"   ",overnightStaysTitle:" ",overnightStaysDesc:"   ",scheduleVisit:" "},header:{currentStudents:" ",adminStaff:" ",alumni:"",partnersSponsors:" ",searchPlaceholder:"    ...",searchPlaceholderShort:"...",login:" ",universityName:"  ",logoAlt:" ",searchResults:" ",noResults:"    ",showingResults:"  ",courses:"",assignments:"",news:"",events:"",users:"",announcements:"",viewAll:" ",suggestions:""},auth:{login:{title:" ",subtitle:"       ",email:" ",emailPlaceholder:"your@email.com",password:" ",passwordPlaceholder:"",signIn:" ",signingIn:"  ...",noAccount:"  ",signUp:" ",error:{invalidCredentials:"      ",networkError:"  .    .",serverError:"  .     .",unknown:"   "}},signup:{title:" ",subtitle:"     ",firstName:" ",firstNamePlaceholder:"",lastName:" ",lastNamePlaceholder:"",email:" ",emailPlaceholder:"your@email.com",password:" ",passwordPlaceholder:"",confirmPassword:"  ",confirmPasswordPlaceholder:"",role:"",roles:{student:"",tutor:"",admin:"",alumni:""},createAccount:" ",hasAccount:"  ",signIn:" ",error:{passwordMismatch:"   ",invalidEmail:"    ",passwordTooShort:"     6   ",requiredFields:"    ",networkError:"  .    .",serverError:"  .     .",emailExists:"     ",unknown:"   "},success:{accountCreated:"   !   ."}}},dashboardFooter:{university:{name:"  ",description:"       .",campus:" "},quickLinks:{title:" ",home:"",dashboard:" ",profile:" "},admin:{title:" ",statistics:"",manageStudents:" ",manageTutors:" ",contentManagement:" "},support:{title:"",email:"support@mahdurahmah.edu",phone:"+1 (555) 123-4567",helpCenter:" "},legal:{privacyPolicy:" ",termsOfService:" "},copyright:" {year}   .   .",user:{welcome:"",logout:" "},confirm:{logout:"      "}}}},av=H.createContext(),yt=()=>H.useContext(av),aC=({children:r})=>{const[e,t]=Hc.useState("en");H.useEffect(()=>{document.documentElement.dir=e==="ar"?"rtl":"ltr"},[e]);const s=(n,a={})=>{const l=n.split(".");let u=go[e];for(const f of l)u=u?.[f];let d=u||n;return Object.keys(a).forEach(f=>{d=d.replace(`{${f}}`,a[f])}),d};return c.jsx(av.Provider,{value:{language:e,setLanguage:t,t:s},children:r})};const oC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Jg=r=>{const e=lC(r);return e.charAt(0).toUpperCase()+e.slice(1)},ov=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),cC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var uC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dC=H.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:n="",children:a,iconNode:l,...u},d)=>H.createElement("svg",{ref:d,...uC,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:ov("lucide",n),...!a&&!cC(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>H.createElement(f,p)),...Array.isArray(a)?a:[a]]));const Ke=(r,e)=>{const t=H.forwardRef(({className:s,...n},a)=>H.createElement(dC,{ref:a,iconNode:e,className:ov(`lucide-${oC(Jg(r))}`,`lucide-${r}`,s),...n}));return t.displayName=Jg(r),t};const hC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fC=Ke("arrow-left",hC);const pC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],co=Ke("award",pC);const mC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ih=Ke("bell",mC);const gC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Bn=Ke("book-open",gC);const yC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vs=Ke("calendar",yC);const xC=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ic=Ke("camera",xC);const vC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lv=Ke("chart-column",vC);const bC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ro=Ke("chevron-right",bC);const wC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fh=Ke("circle-check-big",wC);const SC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CC=Ke("circle-question-mark",SC);const AC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],lh=Ke("clipboard-list",AC);const NC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bh=Ke("clock",NC);const EC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yr=Ke("file-text",EC);const kC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Zg=Ke("globe",kC);const _C=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],jC=Ke("graduation-cap",_C);const TC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],cv=Ke("house",TC);const PC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xf=Ke("layout-dashboard",PC);const RC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LC=Ke("log-out",RC);const MC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],OC=Ke("mail",MC);const DC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],IC=Ke("map-pin",DC);const FC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],BC=Ke("menu",FC);const UC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ka=Ke("message-square",UC);const zC=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],ey=Ke("newspaper",zC);const $C=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Br=Ke("pen",$C);const HC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],VC=Ke("phone",HC);const WC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],io=Ke("plus",WC);const qC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$r=Ke("save",qC);const GC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pr=Ke("search",GC);const KC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yc=Ke("settings",KC);const XC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],YC=Ke("square-pen",XC);const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],JC=Ke("target",QC);const ZC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xa=Ke("trash-2",ZC);const eA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Uh=Ke("trending-up",eA);const tA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],uv=Ke("upload",tA);const sA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nA=Ke("user",sA);const rA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vr=Ke("users",rA);const iA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],en=Ke("x",iA),ty=({className:r=""})=>{const{t:e,language:t}=yt(),[s,n]=H.useState(null),[a,l]=H.useState(null),u=[{title:"Why Us?",href:"#why-us"},{title:"Our Impact",href:"#our-impact"},{title:"Testimonials",href:"#testimonials"},{title:"News & Events",href:"#news-events"},{title:"School life",href:"#school-life"},{title:"Our Contact",href:"#our-contact"}],d=f=>{l(a===f?null:f)};return c.jsx("nav",{className:`main-nav w-full ${r}`,"aria-label":"Main navigation",children:c.jsxs("div",{className:"mx-0",children:[c.jsx("ul",{className:`hidden md:flex ${t==="ar"?"flex-row-reverse":""} justify-around flex-wrap`,children:u.map((f,p)=>c.jsxs("li",{className:"relative",onMouseEnter:()=>n(p),onMouseLeave:()=>n(null),children:[c.jsx("a",{href:f.href,className:"text-tertiary hover:text-link transition-colors py-2 px-2 lg:px-3 block text-sm lg:text-base whitespace-nowrap",children:f.title}),s===p&&f.submenu&&c.jsx("ul",{className:`absolute top-full ${t==="ar"?"right-0":"left-0"} bg-tertiary shadow-lg border border-tertiary py-2 min-w-[12rem] z-50`,children:f.submenu.map((m,y)=>c.jsx("li",{children:c.jsx("a",{href:m.href,className:"block px-4 py-2 text-sm text-text hover:bg-gray-50 hover:text-link transition-colors",children:m.title})},y))})]},p))}),c.jsx("ul",{className:"md:hidden space-y-1",children:u.map((f,p)=>c.jsx("li",{className:"border-b border-accent/20 last:border-0",children:c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>d(p),className:"w-full text-left text-tertiary hover:text-link transition-colors py-2 px-2 flex justify-between items-center text-sm",children:[c.jsx("span",{children:f.title}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${a===p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a===p&&f.submenu&&c.jsx("ul",{className:"bg-tertiary/50 py-1",children:f.submenu.map((m,y)=>c.jsx("li",{children:c.jsx("a",{href:m.href,className:"block px-6 py-2 text-xs text-warning hover:bg-white/10 hover:text-link transition-colors",children:m.title})},y))})]})},p))})]})})},vf="http://localhost:8000/",je={USERS:"/users/",STUDENTS:{PROFILES:"/students/"},TUTORS:{PROFILES:"/tutors/"},ACADEMICS:{COURSES:"/courses/",ENROLLMENTS:"/enrollments/",ASSIGNMENTS:"/assignments/",SUBMISSIONS:"/submissions/",CLASS_SCHEDULES:"/class-schedules/",ATTENDANCE:"/attendance/"},COMMUNICATION:{STATISTICS:"/statistics/",NEWS:"/news/",EVENTS:"/events/",TESTIMONIALS:"/testimonials/",CAMPUS_LIFE:"/campus-life/",CONTACT:"/contact/",BOOKS:"/books/"},DASHBOARD:{STUDENT:"/dashboard/student/",TUTOR:"/dashboard/tutor/"}},To=vf,Oe=ct.create({baseURL:vf,timeout:1e4}),aA=r=>r instanceof FormData?!0:typeof r=="object"&&r!==null?Object.values(r).some(e=>e instanceof File||Array.isArray(e)&&e.some(t=>t instanceof File)):!1;Oe.interceptors.request.use(r=>{const e=localStorage.getItem("access_token");return e&&(r.headers.Authorization=`Bearer ${e}`),aA(r.data)?delete r.headers["Content-Type"]:r.headers["Content-Type"]="application/json",r},r=>Promise.reject(r));Oe.interceptors.response.use(r=>r,r=>(r.response?.status===401&&(localStorage.removeItem("access_token"),console.warn("Authentication failed - token will be cleared")),Promise.reject(r)));const sy={async globalSearch(r){try{return(await Oe.get(`/search/global/?q=${encodeURIComponent(r)}`)).data}catch(e){throw console.error("Global search failed:",e),e}},async quickSearch(r){try{return(await Oe.get(`/search/quick/?q=${encodeURIComponent(r)}`)).data}catch(e){throw console.error("Quick search failed:",e),e}},async searchCourses(r){try{return(await Oe.get(`/courses/?search=${encodeURIComponent(r)}`)).data}catch(e){throw console.error("Course search failed:",e),e}},async searchNews(r){try{return(await Oe.get(`/news/?search=${encodeURIComponent(r)}`)).data}catch(e){throw console.error("News search failed:",e),e}},async searchEvents(r){try{return(await Oe.get(`/events/?search=${encodeURIComponent(r)}`)).data}catch(e){throw console.error("Event search failed:",e),e}}},ny=({isOpen:r,onClose:e,placeholder:t,className:s="",onSearchResultClick:n})=>{const{language:a}=yt(),l=go[a],[u,d]=H.useState(""),[f,p]=H.useState([]),[m,y]=H.useState(null),[w,C]=H.useState(!1),[v,A]=H.useState("all"),E=H.useRef(null),D=H.useRef(null),O=()=>{try{const b=localStorage.getItem("recentSearches");return b?JSON.parse(b):[]}catch{return[]}},T=b=>{try{const q=O(),F=[b,...q.filter(N=>N!==b)].slice(0,5);localStorage.setItem("recentSearches",JSON.stringify(F))}catch{}},k=b=>{switch(b){case"course":return c.jsx(Bn,{className:"w-4 h-4 text-blue-500"});case"assignment":return c.jsx(yr,{className:"w-4 h-4 text-green-500"});case"news":return c.jsx(Bh,{className:"w-4 h-4 text-purple-500"});case"event":return c.jsx(Vs,{className:"w-4 h-4 text-orange-500"});case"user":return c.jsx(vr,{className:"w-4 h-4 text-indigo-500"});case"announcement":return c.jsx(Ih,{className:"w-4 h-4 text-red-500"});default:return c.jsx(pr,{className:"w-4 h-4 text-gray-500"})}},j=b=>({course:l.header.courses,assignment:l.header.assignments,news:l.header.news,event:l.header.events,user:l.header.users,announcement:l.header.announcements})[b]||b;H.useEffect(()=>{if(u.length<2){p([]);return}const b=setTimeout(async()=>{try{const q=await sy.quickSearch(u);p(q.suggestions||[])}catch(q){console.error("Quick search failed:",q),p([])}},300);return()=>clearTimeout(b)},[u]);const R=async b=>{if(b.trim()){C(!0);try{const q=await sy.globalSearch(b);y(q),T(b)}catch(q){console.error("Global search failed:",q),y({results:{courses:[],assignments:[],news:[],events:[],users:[],announcements:[]},total_results:0})}finally{C(!1)}}},I=b=>{b.preventDefault(),u.trim()&&(R(u),A("all"))},M=b=>{d(b.text),R(b.text),A("all")},L=b=>{n&&n(b),e()},V=()=>m?.results?v==="all"?m.results:{[v]:m.results[v]||[]}:{courses:[],assignments:[],news:[],events:[],users:[],announcements:[]};if(H.useEffect(()=>{const b=q=>{D.current&&!D.current.contains(q.target)&&e()};if(r)return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[r,e]),H.useEffect(()=>{r&&E.current&&E.current.focus()},[r]),!r)return null;const X=V(),U=O(),K=m&&m.total_results>0,J=f.length>0&&!m,Q=U.length>0&&!u&&!m;return c.jsxs("div",{ref:D,className:`absolute top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-hidden ${s.includes("w-")?"right-0":"left-0"} ${s}`,children:[c.jsx("form",{onSubmit:I,className:"p-4 border-b border-gray-100",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{ref:E,type:"text",value:u,onChange:b=>d(b.target.value),placeholder:t,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),c.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),u&&c.jsx("button",{type:"button",onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(en,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[w&&c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),c.jsx("div",{className:"mt-2",children:l.header.searchPlaceholderShort})]}),K&&!w&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex border-b border-gray-100 overflow-x-auto",children:Object.keys(X).map(b=>X[b]?.length>0&&c.jsxs("button",{onClick:()=>A(b),className:`px-4 py-2 text-sm font-medium whitespace-nowrap border-b-2 ${v===b?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[j(b)," (",X[b].length,")"]},b))}),c.jsx("div",{className:"p-2",children:Object.entries(X).map(([b,q])=>q?.map(F=>c.jsxs("div",{onClick:()=>L(F),className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer transition-colors",children:[k(b),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:F.title}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:F.subtitle}),F.description&&c.jsx("div",{className:"text-xs text-gray-400 truncate mt-1",children:F.description})]}),c.jsx(ro,{className:"w-4 h-4 text-gray-400"})]},`${b}-${F.id}`)))})]}),J&&!w&&c.jsxs("div",{className:"p-2",children:[c.jsx("div",{className:"px-2 py-1 text-xs font-medium text-gray-500 uppercase tracking-wide",children:l.header.suggestions}),f.map((b,q)=>c.jsxs("div",{onClick:()=>M(b),className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer transition-colors",children:[c.jsx(pr,{className:"w-4 h-4 text-gray-400"}),c.jsx("div",{className:"flex-1 text-sm text-gray-900",children:b.text})]},q))]}),Q&&!w&&c.jsxs("div",{className:"p-2",children:[c.jsx("div",{className:"px-2 py-1 text-xs font-medium text-gray-500 uppercase tracking-wide",children:l.header.recent}),U.map((b,q)=>c.jsxs("div",{onClick:()=>{d(b),R(b)},className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer transition-colors",children:[c.jsx(Bh,{className:"w-4 h-4 text-gray-400"}),c.jsx("div",{className:"flex-1 text-sm text-gray-900",children:b})]},q))]}),m&&!w&&m.total_results===0&&c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx(pr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),c.jsx("div",{className:"font-medium",children:l.header.noResults}),c.jsx("div",{className:"text-sm mt-1",children:l.header.searchPlaceholder})]}),!K&&!J&&!Q&&!w&&c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx(pr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),c.jsx("div",{className:"font-medium",children:l.header.searchPlaceholderShort}),c.jsx("div",{className:"text-sm mt-1",children:l.header.searchPlaceholder})]})]})]})},bf="/assets/logo-CYVHCRNy.png",dv=()=>{const[r,e]=H.useState(!1),[t,s]=H.useState(!1),{language:n,setLanguage:a}=yt(),l=go[n],u=[l.header.currentStudents,l.header.adminStaff,l.header.alumni,l.header.partnersSponsors];return c.jsx("header",{className:"sticky top-0 z-50 bg-primary border-b border-accent",dir:n==="ar"?"rtl":"ltr",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"hidden md:block py-2 border-b border-accent animate-fade-in-up",children:c.jsxs("nav",{className:`flex justify-between items-center ${n==="ar"?"flex-row-reverse":""}`,"aria-label":"Audience navigation",children:[c.jsx("ul",{className:"flex flex-wrap gap-2 lg:gap-4 text-xs lg:text-sm",children:u.map((d,f)=>c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-tertiary hover:text-light-text transition-colors hover-lift",children:d})},f))}),c.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[c.jsxs("div",{className:"hidden lg:block relative",children:[c.jsxs("button",{onClick:()=>s(!t),className:"flex items-center gap-2 px-3 py-1 border border-accent rounded-md hover:bg-accent hover:text-text transition-colors text-sm",children:[c.jsx(pr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-tertiary",children:l.header.searchPlaceholderShort})]}),c.jsx(ny,{isOpen:t,onClose:()=>s(!1),placeholder:l.header.searchPlaceholder,className:"w-80",onSearchResultClick:d=>{console.log("Search result clicked:",d),s(!1)}})]}),c.jsxs("button",{onClick:()=>a(n==="en"?"ar":"en"),className:"flex items-center gap-1 text-tertiary hover:text-light-text transition-colors","aria-label":"Switch language",children:[c.jsx(Zg,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs lg:text-sm uppercase",children:n})]}),c.jsx(tn,{to:"/login",className:"text-tertiary hover:text-light-text transition-colors text-xs lg:text-sm font-medium",children:l.header.login})]})]})}),c.jsxs("div",{className:"py-3 sm:py-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[c.jsx("img",{src:bf,alt:l.header.logoAlt,className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12"}),c.jsx("h1",{className:"text-lg sm:text-2md md:text-3xl font-bold text-tertiary",children:l.header.universityName})]}),c.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[c.jsx("button",{onClick:()=>s(!t),className:"p-2 text-tertiary hover:text-light-text","aria-label":"Search",children:c.jsx(pr,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>a(n==="en"?"ar":"en"),className:"flex items-center gap-1 text-tertiary hover:text-light-text transition-colors p-2","aria-label":"Switch language",children:c.jsx(Zg,{className:"w-5 h-5"})}),c.jsx("button",{className:"p-2 text-tertiary hover:text-light-text","aria-label":"Toggle menu",onClick:()=>e(!r),children:r?c.jsx(en,{className:"w-6 h-6"}):c.jsx(BC,{className:"w-6 h-6"})})]})]}),c.jsx("div",{className:"hidden md:block pt-4",children:c.jsx(ty,{className:"bg-link-hover hover:text-text py-3 px-6 rounded-md shadow-md justify-center"})}),t&&c.jsx("div",{className:"md:hidden mt-4 pb-4",children:c.jsx(ny,{isOpen:t,onClose:()=>s(!1),placeholder:l.header.searchPlaceholder,className:"w-full",onSearchResultClick:d=>{console.log("Search result clicked:",d),s(!1)}})}),r&&!t&&c.jsxs("div",{className:"md:hidden mt-4 pb-4 border-t border-accent pt-4 animate-fade-in-up",children:[c.jsx("nav",{className:"mb-4",children:c.jsx("ul",{className:"space-y-2",children:u.map((d,f)=>c.jsx("li",{children:c.jsx("a",{href:"#",className:"block py-2 text-tertiary hover:text-light-text transition-colors text-sm",children:d})},f))})}),c.jsx(ty,{className:"flex-col items-start space-y-2"}),c.jsx(tn,{to:"/login",className:"block mt-4 py-2 text-tertiary hover:text-light-text transition-colors text-sm font-medium",children:l.header.login})]})]})]})})},ns=({children:r,variant:e="primary",size:t="md",className:s="",as:n="button",...a})=>{const l={primary:"bg-primary hover:bg-secondary text-light-text",secondary:"bg-accent hover:bg-accent text-text",outline:"border-2 border-primary text-primary hover:bg-tertiary hover:bg-accent",onblue:"border-2 border-tertiary text-tertiary hover:bg-link-hover"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",xl:"px-8 py-4 text-xl","2xl":"px-10 py-5 text-2xl"};return c.jsx(n,{className:`rounded-lg font-medium transition-colors ${u[t]} ${l[e]} ${s}`,...a,children:r})};var ch={},uh={},Ya={},dh={},ry;function oA(){return ry||(ry=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};r.default=e})(dh)),dh}var hh,iy;function lA(){if(iy)return hh;iy=1;var r="Expected a function",e=NaN,t="[object Symbol]",s=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d=typeof sc=="object"&&sc&&sc.Object===Object&&sc,f=typeof self=="object"&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),m=Object.prototype,y=m.toString,w=Math.max,C=Math.min,v=function(){return p.Date.now()};function A(k,j,R){var I,M,L,V,X,U,K=0,J=!1,Q=!1,b=!0;if(typeof k!="function")throw new TypeError(r);j=T(j)||0,E(R)&&(J=!!R.leading,Q="maxWait"in R,L=Q?w(T(R.maxWait)||0,j):L,b="trailing"in R?!!R.trailing:b);function q(W){var ne=I,ce=M;return I=M=void 0,K=W,V=k.apply(ce,ne),V}function F(W){return K=W,X=setTimeout(B,j),J?q(W):V}function N(W){var ne=W-U,ce=W-K,me=j-ne;return Q?C(me,L-ce):me}function _(W){var ne=W-U,ce=W-K;return U===void 0||ne>=j||ne<0||Q&&ce>=L}function B(){var W=v();if(_(W))return te(W);X=setTimeout(B,N(W))}function te(W){return X=void 0,b&&I?q(W):(I=M=void 0,V)}function ee(){X!==void 0&&clearTimeout(X),K=0,I=U=M=X=void 0}function le(){return X===void 0?V:te(v())}function ae(){var W=v(),ne=_(W);if(I=arguments,M=this,U=W,ne){if(X===void 0)return F(U);if(Q)return X=setTimeout(B,j),q(U)}return X===void 0&&(X=setTimeout(B,j)),V}return ae.cancel=ee,ae.flush=le,ae}function E(k){var j=typeof k;return!!k&&(j=="object"||j=="function")}function D(k){return!!k&&typeof k=="object"}function O(k){return typeof k=="symbol"||D(k)&&y.call(k)==t}function T(k){if(typeof k=="number")return k;if(O(k))return e;if(E(k)){var j=typeof k.valueOf=="function"?k.valueOf():k;k=E(j)?j+"":j}if(typeof k!="string")return k===0?k:+k;k=k.replace(s,"");var R=a.test(k);return R||l.test(k)?u(k.slice(2),R?2:8):n.test(k)?e:+k}return hh=A,hh}var fh={exports:{}};var ay;function Qc(){return ay||(ay=1,(function(r){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=n(a,s(u)))}return a}function s(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)e.call(a,u)&&a[u]&&(l=n(l,u));return l}function n(a,l){return l?a?a+" "+l:a+l:a}r.exports?(t.default=t,r.exports=t):window.classNames=t})()})(fh)),fh.exports}var xe={},ph={},oy;function hv(){return oy||(oy=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(nn());function t(n){return n&&n.__esModule?n:{default:n}}var s={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};r.default=s})(ph)),ph}var ly;function Po(){if(ly)return xe;ly=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.checkSpecKeys=xe.checkNavigable=xe.changeSlide=xe.canUseDOM=xe.canGoNext=void 0,xe.clamp=f,xe.extractObject=void 0,xe.filterSettings=q,xe.validSettings=xe.swipeStart=xe.swipeMove=xe.swipeEnd=xe.slidesOnRight=xe.slidesOnLeft=xe.slideHandler=xe.siblingDirection=xe.safePreventDefault=xe.lazyStartIndex=xe.lazySlidesOnRight=xe.lazySlidesOnLeft=xe.lazyEndIndex=xe.keyHandler=xe.initializedState=xe.getWidth=xe.getTrackLeft=xe.getTrackCSS=xe.getTrackAnimateCSS=xe.getTotalSlides=xe.getSwipeDirection=xe.getSlideCount=xe.getRequiredLazySlides=xe.getPreClones=xe.getPostClones=xe.getOnDemandLazySlides=xe.getNavigableIndexes=xe.getHeight=void 0;var r=t(nn()),e=t(hv());function t(F){return F&&F.__esModule?F:{default:F}}function s(F){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},s(F)}function n(F,N){var _=Object.keys(F);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(F);N&&(B=B.filter(function(te){return Object.getOwnPropertyDescriptor(F,te).enumerable})),_.push.apply(_,B)}return _}function a(F){for(var N=1;N<arguments.length;N++){var _=arguments[N]!=null?arguments[N]:{};N%2?n(Object(_),!0).forEach(function(B){l(F,B,_[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(_)):n(Object(_)).forEach(function(B){Object.defineProperty(F,B,Object.getOwnPropertyDescriptor(_,B))})}return F}function l(F,N,_){return(N=u(N))in F?Object.defineProperty(F,N,{value:_,enumerable:!0,configurable:!0,writable:!0}):F[N]=_,F}function u(F){var N=d(F,"string");return s(N)=="symbol"?N:N+""}function d(F,N){if(s(F)!="object"||!F)return F;var _=F[Symbol.toPrimitive];if(_!==void 0){var B=_.call(F,N);if(s(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(F)}function f(F,N,_){return Math.max(N,Math.min(F,_))}var p=xe.safePreventDefault=function(N){var _=["onTouchStart","onTouchMove","onWheel"];_.includes(N._reactName)||N.preventDefault()},m=xe.getOnDemandLazySlides=function(N){for(var _=[],B=y(N),te=w(N),ee=B;ee<te;ee++)N.lazyLoadedList.indexOf(ee)<0&&_.push(ee);return _};xe.getRequiredLazySlides=function(N){for(var _=[],B=y(N),te=w(N),ee=B;ee<te;ee++)_.push(ee);return _};var y=xe.lazyStartIndex=function(N){return N.currentSlide-C(N)},w=xe.lazyEndIndex=function(N){return N.currentSlide+v(N)},C=xe.lazySlidesOnLeft=function(N){return N.centerMode?Math.floor(N.slidesToShow/2)+(parseInt(N.centerPadding)>0?1:0):0},v=xe.lazySlidesOnRight=function(N){return N.centerMode?Math.floor((N.slidesToShow-1)/2)+1+(parseInt(N.centerPadding)>0?1:0):N.slidesToShow},A=xe.getWidth=function(N){return N&&N.offsetWidth||0},E=xe.getHeight=function(N){return N&&N.offsetHeight||0},D=xe.getSwipeDirection=function(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B,te,ee,le;return B=N.startX-N.curX,te=N.startY-N.curY,ee=Math.atan2(te,B),le=Math.round(ee*180/Math.PI),le<0&&(le=360-Math.abs(le)),le<=45&&le>=0||le<=360&&le>=315?"left":le>=135&&le<=225?"right":_===!0?le>=35&&le<=135?"up":"down":"vertical"},O=xe.canGoNext=function(N){var _=!0;return N.infinite||(N.centerMode&&N.currentSlide>=N.slideCount-1||N.slideCount<=N.slidesToShow||N.currentSlide>=N.slideCount-N.slidesToShow)&&(_=!1),_};xe.extractObject=function(N,_){var B={};return _.forEach(function(te){return B[te]=N[te]}),B},xe.initializedState=function(N){var _=r.default.Children.count(N.children),B=N.listRef,te=Math.ceil(A(B)),ee=N.trackRef&&N.trackRef.node,le=Math.ceil(A(ee)),ae;if(N.vertical)ae=te;else{var W=N.centerMode&&parseInt(N.centerPadding)*2;typeof N.centerPadding=="string"&&N.centerPadding.slice(-1)==="%"&&(W*=te/100),ae=Math.ceil((te-W)/N.slidesToShow)}var ne=B&&E(B.querySelector('[data-index="0"]')),ce=ne*N.slidesToShow,me=N.currentSlide===void 0?N.initialSlide:N.currentSlide;N.rtl&&N.currentSlide===void 0&&(me=_-1-N.initialSlide);var Ie=N.lazyLoadedList||[],Fe=m(a(a({},N),{},{currentSlide:me,lazyLoadedList:Ie}));Ie=Ie.concat(Fe);var ye={slideCount:_,slideWidth:ae,listWidth:te,trackWidth:le,currentSlide:me,slideHeight:ne,listHeight:ce,lazyLoadedList:Ie};return N.autoplaying===null&&N.autoplay&&(ye.autoplaying="playing"),ye},xe.slideHandler=function(N){var _=N.waitForAnimate,B=N.animating,te=N.fade,ee=N.infinite,le=N.index,ae=N.slideCount,W=N.lazyLoad,ne=N.currentSlide,ce=N.centerMode,me=N.slidesToScroll,Ie=N.slidesToShow,Fe=N.useCSS,ye=N.lazyLoadedList;if(_&&B)return{};var ve=le,_e,Be,Pe,Qe={},et={},nt=ee?le:f(le,0,ae-1);if(te){if(!ee&&(le<0||le>=ae))return{};le<0?ve=le+ae:le>=ae&&(ve=le-ae),W&&ye.indexOf(ve)<0&&(ye=ye.concat(ve)),Qe={animating:!0,currentSlide:ve,lazyLoadedList:ye,targetSlide:ve},et={animating:!1,targetSlide:ve}}else _e=ve,ve<0?(_e=ve+ae,ee?ae%me!==0&&(_e=ae-ae%me):_e=0):!O(N)&&ve>ne?ve=_e=ne:ce&&ve>=ae?(ve=ee?ae:ae-1,_e=ee?0:ae-1):ve>=ae&&(_e=ve-ae,ee?ae%me!==0&&(_e=0):_e=ae-Ie),!ee&&ve+Ie>=ae&&(_e=ae-Ie),Be=L(a(a({},N),{},{slideIndex:ve})),Pe=L(a(a({},N),{},{slideIndex:_e})),ee||(Be===Pe&&(ve=_e),Be=Pe),W&&(ye=ye.concat(m(a(a({},N),{},{currentSlide:ve})))),Fe?(Qe={animating:!0,currentSlide:_e,trackStyle:M(a(a({},N),{},{left:Be})),lazyLoadedList:ye,targetSlide:nt},et={animating:!1,currentSlide:_e,trackStyle:I(a(a({},N),{},{left:Pe})),swipeLeft:null,targetSlide:nt}):Qe={currentSlide:_e,trackStyle:I(a(a({},N),{},{left:Pe})),lazyLoadedList:ye,targetSlide:nt};return{state:Qe,nextState:et}},xe.changeSlide=function(N,_){var B,te,ee,le,ae,W=N.slidesToScroll,ne=N.slidesToShow,ce=N.slideCount,me=N.currentSlide,Ie=N.targetSlide,Fe=N.lazyLoad,ye=N.infinite;if(le=ce%W!==0,B=le?0:(ce-me)%W,_.message==="previous")ee=B===0?W:ne-B,ae=me-ee,Fe&&!ye&&(te=me-ee,ae=te===-1?ce-1:te),ye||(ae=Ie-W);else if(_.message==="next")ee=B===0?W:B,ae=me+ee,Fe&&!ye&&(ae=(me+W)%ce+B),ye||(ae=Ie+W);else if(_.message==="dots")ae=_.index*_.slidesToScroll;else if(_.message==="children"){if(ae=_.index,ye){var ve=K(a(a({},N),{},{targetSlide:ae}));ae>_.currentSlide&&ve==="left"?ae=ae-ce:ae<_.currentSlide&&ve==="right"&&(ae=ae+ce)}}else _.message==="index"&&(ae=Number(_.index));return ae},xe.keyHandler=function(N,_,B){return N.target.tagName.match("TEXTAREA|INPUT|SELECT")||!_?"":N.keyCode===37?B?"next":"previous":N.keyCode===39?B?"previous":"next":""},xe.swipeStart=function(N,_,B){return N.target.tagName==="IMG"&&p(N),!_||!B&&N.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:N.touches?N.touches[0].pageX:N.clientX,startY:N.touches?N.touches[0].pageY:N.clientY,curX:N.touches?N.touches[0].pageX:N.clientX,curY:N.touches?N.touches[0].pageY:N.clientY}}},xe.swipeMove=function(N,_){var B=_.scrolling,te=_.animating,ee=_.vertical,le=_.swipeToSlide,ae=_.verticalSwiping,W=_.rtl,ne=_.currentSlide,ce=_.edgeFriction,me=_.edgeDragged,Ie=_.onEdge,Fe=_.swiped,ye=_.swiping,ve=_.slideCount,_e=_.slidesToScroll,Be=_.infinite,Pe=_.touchObject,Qe=_.swipeEvent,et=_.listHeight,nt=_.listWidth;if(!B){if(te)return p(N);ee&&le&&ae&&p(N);var tt,Ht={},Ns=L(_);Pe.curX=N.touches?N.touches[0].pageX:N.clientX,Pe.curY=N.touches?N.touches[0].pageY:N.clientY,Pe.swipeLength=Math.round(Math.sqrt(Math.pow(Pe.curX-Pe.startX,2)));var Ws=Math.round(Math.sqrt(Math.pow(Pe.curY-Pe.startY,2)));if(!ae&&!ye&&Ws>10)return{scrolling:!0};ae&&(Pe.swipeLength=Ws);var os=(W?-1:1)*(Pe.curX>Pe.startX?1:-1);ae&&(os=Pe.curY>Pe.startY?1:-1);var qs=Math.ceil(ve/_e),ot=D(_.touchObject,ae),Ct=Pe.swipeLength;return Be||(ne===0&&(ot==="right"||ot==="down")||ne+1>=qs&&(ot==="left"||ot==="up")||!O(_)&&(ot==="left"||ot==="up"))&&(Ct=Pe.swipeLength*ce,me===!1&&Ie&&(Ie(ot),Ht.edgeDragged=!0)),!Fe&&Qe&&(Qe(ot),Ht.swiped=!0),ee?tt=Ns+Ct*(et/nt)*os:W?tt=Ns-Ct*os:tt=Ns+Ct*os,ae&&(tt=Ns+Ct*os),Ht=a(a({},Ht),{},{touchObject:Pe,swipeLeft:tt,trackStyle:I(a(a({},_),{},{left:tt}))}),Math.abs(Pe.curX-Pe.startX)<Math.abs(Pe.curY-Pe.startY)*.8||Pe.swipeLength>10&&(Ht.swiping=!0,p(N)),Ht}},xe.swipeEnd=function(N,_){var B=_.dragging,te=_.swipe,ee=_.touchObject,le=_.listWidth,ae=_.touchThreshold,W=_.verticalSwiping,ne=_.listHeight,ce=_.swipeToSlide,me=_.scrolling,Ie=_.onSwipe,Fe=_.targetSlide,ye=_.currentSlide,ve=_.infinite;if(!B)return te&&p(N),{};var _e=W?ne/ae:le/ae,Be=D(ee,W),Pe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(me||!ee.swipeLength)return Pe;if(ee.swipeLength>_e){p(N),Ie&&Ie(Be);var Qe,et,nt=ve?ye:Fe;switch(Be){case"left":case"up":et=nt+j(_),Qe=ce?k(_,et):et,Pe.currentDirection=0;break;case"right":case"down":et=nt-j(_),Qe=ce?k(_,et):et,Pe.currentDirection=1;break;default:Qe=nt}Pe.triggerSlideHandler=Qe}else{var tt=L(_);Pe.trackStyle=M(a(a({},_),{},{left:tt}))}return Pe};var T=xe.getNavigableIndexes=function(N){for(var _=N.infinite?N.slideCount*2:N.slideCount,B=N.infinite?N.slidesToShow*-1:0,te=N.infinite?N.slidesToShow*-1:0,ee=[];B<_;)ee.push(B),B=te+N.slidesToScroll,te+=Math.min(N.slidesToScroll,N.slidesToShow);return ee},k=xe.checkNavigable=function(N,_){var B=T(N),te=0;if(_>B[B.length-1])_=B[B.length-1];else for(var ee in B){if(_<B[ee]){_=te;break}te=B[ee]}return _},j=xe.getSlideCount=function(N){var _=N.centerMode?N.slideWidth*Math.floor(N.slidesToShow/2):0;if(N.swipeToSlide){var B,te=N.listRef,ee=te.querySelectorAll&&te.querySelectorAll(".slick-slide")||[];if(Array.from(ee).every(function(W){if(N.vertical){if(W.offsetTop+E(W)/2>N.swipeLeft*-1)return B=W,!1}else if(W.offsetLeft-_+A(W)/2>N.swipeLeft*-1)return B=W,!1;return!0}),!B)return 0;var le=N.rtl===!0?N.slideCount-N.currentSlide:N.currentSlide,ae=Math.abs(B.dataset.index-le)||1;return ae}else return N.slidesToScroll},R=xe.checkSpecKeys=function(N,_){return _.reduce(function(B,te){return B&&N.hasOwnProperty(te)},!0)?null:console.error("Keys Missing:",N)},I=xe.getTrackCSS=function(N){R(N,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var _,B;if(!N.vertical)_=U(N)*N.slideWidth;else{var te=N.unslick?N.slideCount:N.slideCount+2*N.slidesToShow;B=te*N.slideHeight}var ee={opacity:1,transition:"",WebkitTransition:""};if(N.useTransform){var le=N.vertical?"translate3d(0px, "+N.left+"px, 0px)":"translate3d("+N.left+"px, 0px, 0px)",ae=N.vertical?"translate3d(0px, "+N.left+"px, 0px)":"translate3d("+N.left+"px, 0px, 0px)",W=N.vertical?"translateY("+N.left+"px)":"translateX("+N.left+"px)";ee=a(a({},ee),{},{WebkitTransform:le,transform:ae,msTransform:W})}else N.vertical?ee.top=N.left:ee.left=N.left;return N.fade&&(ee={opacity:1}),_&&(ee.width=_),B&&(ee.height=B),window&&!window.addEventListener&&window.attachEvent&&(N.vertical?ee.marginTop=N.left+"px":ee.marginLeft=N.left+"px"),ee},M=xe.getTrackAnimateCSS=function(N){R(N,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var _=I(N);return N.useTransform?(_.WebkitTransition="-webkit-transform "+N.speed+"ms "+N.cssEase,_.transition="transform "+N.speed+"ms "+N.cssEase):N.vertical?_.transition="top "+N.speed+"ms "+N.cssEase:_.transition="left "+N.speed+"ms "+N.cssEase,_},L=xe.getTrackLeft=function(N){if(N.unslick)return 0;R(N,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var _=N.slideIndex,B=N.trackRef,te=N.infinite,ee=N.centerMode,le=N.slideCount,ae=N.slidesToShow,W=N.slidesToScroll,ne=N.slideWidth,ce=N.listWidth,me=N.variableWidth,Ie=N.slideHeight,Fe=N.fade,ye=N.vertical,ve=0,_e,Be,Pe=0;if(Fe||N.slideCount===1)return 0;var Qe=0;if(te?(Qe=-V(N),le%W!==0&&_+W>le&&(Qe=-(_>le?ae-(_-le):le%W)),ee&&(Qe+=parseInt(ae/2))):(le%W!==0&&_+W>le&&(Qe=ae-le%W),ee&&(Qe=parseInt(ae/2))),ve=Qe*ne,Pe=Qe*Ie,ye?_e=_*Ie*-1+Pe:_e=_*ne*-1+ve,me===!0){var et,nt=B&&B.node;if(et=_+V(N),Be=nt&&nt.childNodes[et],_e=Be?Be.offsetLeft*-1:0,ee===!0){et=te?_+V(N):_,Be=nt&&nt.children[et],_e=0;for(var tt=0;tt<et;tt++)_e-=nt&&nt.children[tt]&&nt.children[tt].offsetWidth;_e-=parseInt(N.centerPadding),_e+=Be&&(ce-Be.offsetWidth)/2}}return _e},V=xe.getPreClones=function(N){return N.unslick||!N.infinite?0:N.variableWidth?N.slideCount:N.slidesToShow+(N.centerMode?1:0)},X=xe.getPostClones=function(N){return N.unslick||!N.infinite?0:N.variableWidth?N.slideCount:N.slidesToShow+(N.centerMode?1:0)},U=xe.getTotalSlides=function(N){return N.slideCount===1?1:V(N)+N.slideCount+X(N)},K=xe.siblingDirection=function(N){return N.targetSlide>N.currentSlide?N.targetSlide>N.currentSlide+J(N)?"left":"right":N.targetSlide<N.currentSlide-Q(N)?"right":"left"},J=xe.slidesOnRight=function(N){var _=N.slidesToShow,B=N.centerMode,te=N.rtl,ee=N.centerPadding;if(B){var le=(_-1)/2+1;return parseInt(ee)>0&&(le+=1),te&&_%2===0&&(le+=1),le}return te?0:_-1},Q=xe.slidesOnLeft=function(N){var _=N.slidesToShow,B=N.centerMode,te=N.rtl,ee=N.centerPadding;if(B){var le=(_-1)/2+1;return parseInt(ee)>0&&(le+=1),!te&&_%2===0&&(le+=1),le}return te?_-1:0};xe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var b=xe.validSettings=Object.keys(e.default);function q(F){return b.reduce(function(N,_){return F.hasOwnProperty(_)&&(N[_]=F[_]),N},{})}return xe}var Qa={},cy;function cA(){if(cy)return Qa;cy=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.Track=void 0;var r=s(nn()),e=s(Qc()),t=Po();function s(M){return M&&M.__esModule?M:{default:M}}function n(M){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},n(M)}function a(){return a=Object.assign?Object.assign.bind():function(M){for(var L=1;L<arguments.length;L++){var V=arguments[L];for(var X in V)({}).hasOwnProperty.call(V,X)&&(M[X]=V[X])}return M},a.apply(null,arguments)}function l(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}function u(M,L){for(var V=0;V<L.length;V++){var X=L[V];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(M,O(X.key),X)}}function d(M,L,V){return L&&u(M.prototype,L),Object.defineProperty(M,"prototype",{writable:!1}),M}function f(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),L&&p(M,L)}function p(M,L){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,X){return V.__proto__=X,V},p(M,L)}function m(M){var L=C();return function(){var V,X=v(M);if(L){var U=v(this).constructor;V=Reflect.construct(X,arguments,U)}else V=X.apply(this,arguments);return y(this,V)}}function y(M,L){if(L&&(n(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(M)}function w(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function C(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!M})()}function v(M){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},v(M)}function A(M,L){var V=Object.keys(M);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(M);L&&(X=X.filter(function(U){return Object.getOwnPropertyDescriptor(M,U).enumerable})),V.push.apply(V,X)}return V}function E(M){for(var L=1;L<arguments.length;L++){var V=arguments[L]!=null?arguments[L]:{};L%2?A(Object(V),!0).forEach(function(X){D(M,X,V[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(V)):A(Object(V)).forEach(function(X){Object.defineProperty(M,X,Object.getOwnPropertyDescriptor(V,X))})}return M}function D(M,L,V){return(L=O(L))in M?Object.defineProperty(M,L,{value:V,enumerable:!0,configurable:!0,writable:!0}):M[L]=V,M}function O(M){var L=T(M,"string");return n(L)=="symbol"?L:L+""}function T(M,L){if(n(M)!="object"||!M)return M;var V=M[Symbol.toPrimitive];if(V!==void 0){var X=V.call(M,L);if(n(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(M)}var k=function(L){var V,X,U,K,J;L.rtl?J=L.slideCount-1-L.index:J=L.index,U=J<0||J>=L.slideCount,L.centerMode?(K=Math.floor(L.slidesToShow/2),X=(J-L.currentSlide)%L.slideCount===0,J>L.currentSlide-K-1&&J<=L.currentSlide+K&&(V=!0)):V=L.currentSlide<=J&&J<L.currentSlide+L.slidesToShow;var Q;L.targetSlide<0?Q=L.targetSlide+L.slideCount:L.targetSlide>=L.slideCount?Q=L.targetSlide-L.slideCount:Q=L.targetSlide;var b=J===Q;return{"slick-slide":!0,"slick-active":V,"slick-center":X,"slick-cloned":U,"slick-current":b}},j=function(L){var V={};return(L.variableWidth===void 0||L.variableWidth===!1)&&(V.width=L.slideWidth),L.fade&&(V.position="relative",L.vertical?V.top=-L.index*parseInt(L.slideHeight):V.left=-L.index*parseInt(L.slideWidth),V.opacity=L.currentSlide===L.index?1:0,V.zIndex=L.currentSlide===L.index?999:998,L.useCSS&&(V.transition="opacity "+L.speed+"ms "+L.cssEase+", visibility "+L.speed+"ms "+L.cssEase)),V},R=function(L,V){return L.key||V},I=function(L){var V,X=[],U=[],K=[],J=r.default.Children.count(L.children),Q=(0,t.lazyStartIndex)(L),b=(0,t.lazyEndIndex)(L);return r.default.Children.forEach(L.children,function(q,F){var N,_={message:"children",index:F,slidesToScroll:L.slidesToScroll,currentSlide:L.currentSlide};!L.lazyLoad||L.lazyLoad&&L.lazyLoadedList.indexOf(F)>=0?N=q:N=r.default.createElement("div",null);var B=j(E(E({},L),{},{index:F})),te=N.props.className||"",ee=k(E(E({},L),{},{index:F}));if(X.push(r.default.cloneElement(N,{key:"original"+R(N,F),"data-index":F,className:(0,e.default)(ee,te),tabIndex:"-1","aria-hidden":!ee["slick-active"],style:E(E({outline:"none"},N.props.style||{}),B),onClick:function(W){N.props&&N.props.onClick&&N.props.onClick(W),L.focusOnSelect&&L.focusOnSelect(_)}})),L.infinite&&J>1&&L.fade===!1&&!L.unslick){var le=J-F;le<=(0,t.getPreClones)(L)&&(V=-le,V>=Q&&(N=q),ee=k(E(E({},L),{},{index:V})),U.push(r.default.cloneElement(N,{key:"precloned"+R(N,V),"data-index":V,tabIndex:"-1",className:(0,e.default)(ee,te),"aria-hidden":!ee["slick-active"],style:E(E({},N.props.style||{}),B),onClick:function(W){N.props&&N.props.onClick&&N.props.onClick(W),L.focusOnSelect&&L.focusOnSelect(_)}}))),F<(0,t.getPostClones)(L)&&(V=J+F,V<b&&(N=q),ee=k(E(E({},L),{},{index:V})),K.push(r.default.cloneElement(N,{key:"postcloned"+R(N,V),"data-index":V,tabIndex:"-1",className:(0,e.default)(ee,te),"aria-hidden":!ee["slick-active"],style:E(E({},N.props.style||{}),B),onClick:function(W){N.props&&N.props.onClick&&N.props.onClick(W),L.focusOnSelect&&L.focusOnSelect(_)}})))}}),L.rtl?U.concat(X,K).reverse():U.concat(X,K)};return Qa.Track=(function(M){f(V,M);var L=m(V);function V(){var X;l(this,V);for(var U=arguments.length,K=new Array(U),J=0;J<U;J++)K[J]=arguments[J];return X=L.call.apply(L,[this].concat(K)),D(w(X),"node",null),D(w(X),"handleRef",function(Q){X.node=Q}),X}return d(V,[{key:"render",value:function(){var U=I(this.props),K=this.props,J=K.onMouseEnter,Q=K.onMouseOver,b=K.onMouseLeave,q={onMouseEnter:J,onMouseOver:Q,onMouseLeave:b};return r.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},q),U)}}]),V})(r.default.PureComponent),Qa}var Ja={},uy;function uA(){if(uy)return Ja;uy=1;function r(k){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},r(k)}Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.Dots=void 0;var e=n(nn()),t=n(Qc()),s=Po();function n(k){return k&&k.__esModule?k:{default:k}}function a(k,j){var R=Object.keys(k);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(k);j&&(I=I.filter(function(M){return Object.getOwnPropertyDescriptor(k,M).enumerable})),R.push.apply(R,I)}return R}function l(k){for(var j=1;j<arguments.length;j++){var R=arguments[j]!=null?arguments[j]:{};j%2?a(Object(R),!0).forEach(function(I){u(k,I,R[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(R)):a(Object(R)).forEach(function(I){Object.defineProperty(k,I,Object.getOwnPropertyDescriptor(R,I))})}return k}function u(k,j,R){return(j=m(j))in k?Object.defineProperty(k,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[j]=R,k}function d(k,j){if(!(k instanceof j))throw new TypeError("Cannot call a class as a function")}function f(k,j){for(var R=0;R<j.length;R++){var I=j[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,m(I.key),I)}}function p(k,j,R){return j&&f(k.prototype,j),Object.defineProperty(k,"prototype",{writable:!1}),k}function m(k){var j=y(k,"string");return r(j)=="symbol"?j:j+""}function y(k,j){if(r(k)!="object"||!k)return k;var R=k[Symbol.toPrimitive];if(R!==void 0){var I=R.call(k,j);if(r(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}function w(k,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(j&&j.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),j&&C(k,j)}function C(k,j){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,I){return R.__proto__=I,R},C(k,j)}function v(k){var j=D();return function(){var R,I=O(k);if(j){var M=O(this).constructor;R=Reflect.construct(I,arguments,M)}else R=I.apply(this,arguments);return A(this,R)}}function A(k,j){if(j&&(r(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(k)}function E(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function D(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D=function(){return!!k})()}function O(k){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},O(k)}var T=function(j){var R;return j.infinite?R=Math.ceil(j.slideCount/j.slidesToScroll):R=Math.ceil((j.slideCount-j.slidesToShow)/j.slidesToScroll)+1,R};return Ja.Dots=(function(k){w(R,k);var j=v(R);function R(){return d(this,R),j.apply(this,arguments)}return p(R,[{key:"clickHandler",value:function(M,L){L.preventDefault(),this.props.clickHandler(M)}},{key:"render",value:function(){for(var M=this.props,L=M.onMouseEnter,V=M.onMouseOver,X=M.onMouseLeave,U=M.infinite,K=M.slidesToScroll,J=M.slidesToShow,Q=M.slideCount,b=M.currentSlide,q=T({slideCount:Q,slidesToScroll:K,slidesToShow:J,infinite:U}),F={onMouseEnter:L,onMouseOver:V,onMouseLeave:X},N=[],_=0;_<q;_++){var B=(_+1)*K-1,te=U?B:(0,s.clamp)(B,0,Q-1),ee=te-(K-1),le=U?ee:(0,s.clamp)(ee,0,Q-1),ae=(0,t.default)({"slick-active":U?b>=le&&b<=te:b===le}),W={message:"dots",index:_,slidesToScroll:K,currentSlide:b},ne=this.clickHandler.bind(this,W);N=N.concat(e.default.createElement("li",{key:_,className:ae},e.default.cloneElement(this.props.customPaging(_),{onClick:ne})))}return e.default.cloneElement(this.props.appendDots(N),l({className:this.props.dotsClass},F))}}]),R})(e.default.PureComponent),Ja}var Ur={},dy;function dA(){if(dy)return Ur;dy=1;function r(k){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},r(k)}Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.PrevArrow=Ur.NextArrow=void 0;var e=n(nn()),t=n(Qc()),s=Po();function n(k){return k&&k.__esModule?k:{default:k}}function a(){return a=Object.assign?Object.assign.bind():function(k){for(var j=1;j<arguments.length;j++){var R=arguments[j];for(var I in R)({}).hasOwnProperty.call(R,I)&&(k[I]=R[I])}return k},a.apply(null,arguments)}function l(k,j){var R=Object.keys(k);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(k);j&&(I=I.filter(function(M){return Object.getOwnPropertyDescriptor(k,M).enumerable})),R.push.apply(R,I)}return R}function u(k){for(var j=1;j<arguments.length;j++){var R=arguments[j]!=null?arguments[j]:{};j%2?l(Object(R),!0).forEach(function(I){d(k,I,R[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(R)):l(Object(R)).forEach(function(I){Object.defineProperty(k,I,Object.getOwnPropertyDescriptor(R,I))})}return k}function d(k,j,R){return(j=y(j))in k?Object.defineProperty(k,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[j]=R,k}function f(k,j){if(!(k instanceof j))throw new TypeError("Cannot call a class as a function")}function p(k,j){for(var R=0;R<j.length;R++){var I=j[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,y(I.key),I)}}function m(k,j,R){return j&&p(k.prototype,j),Object.defineProperty(k,"prototype",{writable:!1}),k}function y(k){var j=w(k,"string");return r(j)=="symbol"?j:j+""}function w(k,j){if(r(k)!="object"||!k)return k;var R=k[Symbol.toPrimitive];if(R!==void 0){var I=R.call(k,j);if(r(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}function C(k,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(j&&j.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),j&&v(k,j)}function v(k,j){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,I){return R.__proto__=I,R},v(k,j)}function A(k){var j=O();return function(){var R,I=T(k);if(j){var M=T(this).constructor;R=Reflect.construct(I,arguments,M)}else R=I.apply(this,arguments);return E(this,R)}}function E(k,j){if(j&&(r(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(k)}function D(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function O(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!k})()}function T(k){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},T(k)}return Ur.PrevArrow=(function(k){C(R,k);var j=A(R);function R(){return f(this,R),j.apply(this,arguments)}return m(R,[{key:"clickHandler",value:function(M,L){L&&L.preventDefault(),this.props.clickHandler(M,L)}},{key:"render",value:function(){var M={"slick-arrow":!0,"slick-prev":!0},L=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(M["slick-disabled"]=!0,L=null);var V={key:"0","data-role":"none",className:(0,t.default)(M),style:{display:"block"},onClick:L},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},U;return this.props.prevArrow?U=e.default.cloneElement(this.props.prevArrow,u(u({},V),X)):U=e.default.createElement("button",a({key:"0",type:"button"},V)," ","Previous"),U}}]),R})(e.default.PureComponent),Ur.NextArrow=(function(k){C(R,k);var j=A(R);function R(){return f(this,R),j.apply(this,arguments)}return m(R,[{key:"clickHandler",value:function(M,L){L&&L.preventDefault(),this.props.clickHandler(M,L)}},{key:"render",value:function(){var M={"slick-arrow":!0,"slick-next":!0},L=this.clickHandler.bind(this,{message:"next"});(0,s.canGoNext)(this.props)||(M["slick-disabled"]=!0,L=null);var V={key:"1","data-role":"none",className:(0,t.default)(M),style:{display:"block"},onClick:L},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},U;return this.props.nextArrow?U=e.default.cloneElement(this.props.nextArrow,u(u({},V),X)):U=e.default.createElement("button",a({key:"1",type:"button"},V)," ","Next"),U}}]),R})(e.default.PureComponent),Ur}var fv=(function(){if(typeof Map<"u")return Map;function r(e,t){var s=-1;return e.some(function(n,a){return n[0]===t?(s=a,!0):!1}),s}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var s=r(this.__entries__,t),n=this.__entries__[s];return n&&n[1]},e.prototype.set=function(t,s){var n=r(this.__entries__,t);~n?this.__entries__[n][1]=s:this.__entries__.push([t,s])},e.prototype.delete=function(t){var s=this.__entries__,n=r(s,t);~n&&s.splice(n,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,s){s===void 0&&(s=null);for(var n=0,a=this.__entries__;n<a.length;n++){var l=a[n];t.call(s,l[1],l[0])}},e})()})(),zh=typeof window<"u"&&typeof document<"u"&&window.document===document,Ec=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),hA=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ec):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}})(),fA=2;function pA(r,e){var t=!1,s=!1,n=0;function a(){t&&(t=!1,r()),s&&u()}function l(){hA(a)}function u(){var d=Date.now();if(t){if(d-n<fA)return;s=!0}else t=!0,s=!1,setTimeout(l,e);n=d}return u}var mA=20,gA=["top","right","bottom","left","width","height","size","weight"],yA=typeof MutationObserver<"u",xA=(function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=pA(this.refresh.bind(this),mA)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,s=t.indexOf(e);~s&&t.splice(s,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!zh||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),yA?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!zh||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,s=t===void 0?"":t,n=gA.some(function(a){return!!~s.indexOf(a)});n&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r})(),pv=(function(r,e){for(var t=0,s=Object.keys(e);t<s.length;t++){var n=s[t];Object.defineProperty(r,n,{value:e[n],enumerable:!1,writable:!1,configurable:!0})}return r}),Wi=(function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||Ec}),mv=Jc(0,0,0,0);function kc(r){return parseFloat(r)||0}function hy(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(s,n){var a=r["border-"+n+"-width"];return s+kc(a)},0)}function vA(r){for(var e=["top","right","bottom","left"],t={},s=0,n=e;s<n.length;s++){var a=n[s],l=r["padding-"+a];t[a]=kc(l)}return t}function bA(r){var e=r.getBBox();return Jc(0,0,e.width,e.height)}function wA(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return mv;var s=Wi(r).getComputedStyle(r),n=vA(s),a=n.left+n.right,l=n.top+n.bottom,u=kc(s.width),d=kc(s.height);if(s.boxSizing==="border-box"&&(Math.round(u+a)!==e&&(u-=hy(s,"left","right")+a),Math.round(d+l)!==t&&(d-=hy(s,"top","bottom")+l)),!CA(r)){var f=Math.round(u+a)-e,p=Math.round(d+l)-t;Math.abs(f)!==1&&(u-=f),Math.abs(p)!==1&&(d-=p)}return Jc(n.left,n.top,u,d)}var SA=(function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof Wi(r).SVGGraphicsElement}:function(r){return r instanceof Wi(r).SVGElement&&typeof r.getBBox=="function"}})();function CA(r){return r===Wi(r).document.documentElement}function AA(r){return zh?SA(r)?bA(r):wA(r):mv}function NA(r){var e=r.x,t=r.y,s=r.width,n=r.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(a.prototype);return pv(l,{x:e,y:t,width:s,height:n,top:t,right:e+s,bottom:n+t,left:e}),l}function Jc(r,e,t,s){return{x:r,y:e,width:t,height:s}}var EA=(function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Jc(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=AA(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r})(),kA=(function(){function r(e,t){var s=NA(t);pv(this,{target:e,contentRect:s})}return r})(),_A=(function(){function r(e,t,s){if(this.activeObservations_=[],this.observations_=new fv,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=s}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Wi(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new EA(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Wi(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(s){return new kA(s.target,s.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r})(),gv=typeof WeakMap<"u"?new WeakMap:new fv,yv=(function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=xA.getInstance(),s=new _A(e,t,this);gv.set(this,s)}return r})();["observe","unobserve","disconnect"].forEach(function(r){yv.prototype[r]=function(){var e;return(e=gv.get(this))[r].apply(e,arguments)}});var jA=(function(){return typeof Ec.ResizeObserver<"u"?Ec.ResizeObserver:yv})();const TA=Object.freeze(Object.defineProperty({__proto__:null,default:jA},Symbol.toStringTag,{value:"Module"})),PA=yw(TA);var fy;function RA(){if(fy)return Ya;fy=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.InnerSlider=void 0;var r=f(nn()),e=f(oA()),t=f(lA()),s=f(Qc()),n=Po(),a=cA(),l=uA(),u=dA(),d=f(PA);function f(U){return U&&U.__esModule?U:{default:U}}function p(U){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},p(U)}function m(){return m=Object.assign?Object.assign.bind():function(U){for(var K=1;K<arguments.length;K++){var J=arguments[K];for(var Q in J)({}).hasOwnProperty.call(J,Q)&&(U[Q]=J[Q])}return U},m.apply(null,arguments)}function y(U,K){if(U==null)return{};var J,Q,b=w(U,K);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(U);for(Q=0;Q<q.length;Q++)J=q[Q],K.includes(J)||{}.propertyIsEnumerable.call(U,J)&&(b[J]=U[J])}return b}function w(U,K){if(U==null)return{};var J={};for(var Q in U)if({}.hasOwnProperty.call(U,Q)){if(K.includes(Q))continue;J[Q]=U[Q]}return J}function C(U,K){var J=Object.keys(U);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(U);K&&(Q=Q.filter(function(b){return Object.getOwnPropertyDescriptor(U,b).enumerable})),J.push.apply(J,Q)}return J}function v(U){for(var K=1;K<arguments.length;K++){var J=arguments[K]!=null?arguments[K]:{};K%2?C(Object(J),!0).forEach(function(Q){L(U,Q,J[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(J)):C(Object(J)).forEach(function(Q){Object.defineProperty(U,Q,Object.getOwnPropertyDescriptor(J,Q))})}return U}function A(U,K){if(!(U instanceof K))throw new TypeError("Cannot call a class as a function")}function E(U,K){for(var J=0;J<K.length;J++){var Q=K[J];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,V(Q.key),Q)}}function D(U,K,J){return K&&E(U.prototype,K),Object.defineProperty(U,"prototype",{writable:!1}),U}function O(U,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(K&&K.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),K&&T(U,K)}function T(U,K){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,Q){return J.__proto__=Q,J},T(U,K)}function k(U){var K=I();return function(){var J,Q=M(U);if(K){var b=M(this).constructor;J=Reflect.construct(Q,arguments,b)}else J=Q.apply(this,arguments);return j(this,J)}}function j(U,K){if(K&&(p(K)=="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(U)}function R(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function I(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!U})()}function M(U){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},M(U)}function L(U,K,J){return(K=V(K))in U?Object.defineProperty(U,K,{value:J,enumerable:!0,configurable:!0,writable:!0}):U[K]=J,U}function V(U){var K=X(U,"string");return p(K)=="symbol"?K:K+""}function X(U,K){if(p(U)!="object"||!U)return U;var J=U[Symbol.toPrimitive];if(J!==void 0){var Q=J.call(U,K);if(p(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(U)}return Ya.InnerSlider=(function(U){O(J,U);var K=k(J);function J(Q){var b;A(this,J),b=K.call(this,Q),L(R(b),"listRefHandler",function(F){return b.list=F}),L(R(b),"trackRefHandler",function(F){return b.track=F}),L(R(b),"adaptHeight",function(){if(b.props.adaptiveHeight&&b.list){var F=b.list.querySelector('[data-index="'.concat(b.state.currentSlide,'"]'));b.list.style.height=(0,n.getHeight)(F)+"px"}}),L(R(b),"componentDidMount",function(){if(b.props.onInit&&b.props.onInit(),b.props.lazyLoad){var F=(0,n.getOnDemandLazySlides)(v(v({},b.props),b.state));F.length>0&&(b.setState(function(_){return{lazyLoadedList:_.lazyLoadedList.concat(F)}}),b.props.onLazyLoad&&b.props.onLazyLoad(F))}var N=v({listRef:b.list,trackRef:b.track},b.props);b.updateState(N,!0,function(){b.adaptHeight(),b.props.autoplay&&b.autoPlay("update")}),b.props.lazyLoad==="progressive"&&(b.lazyLoadTimer=setInterval(b.progressiveLazyLoad,1e3)),b.ro=new d.default(function(){b.state.animating?(b.onWindowResized(!1),b.callbackTimers.push(setTimeout(function(){return b.onWindowResized()},b.props.speed))):b.onWindowResized()}),b.ro.observe(b.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(_){_.onfocus=b.props.pauseOnFocus?b.onSlideFocus:null,_.onblur=b.props.pauseOnFocus?b.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",b.onWindowResized):window.attachEvent("onresize",b.onWindowResized)}),L(R(b),"componentWillUnmount",function(){b.animationEndCallback&&clearTimeout(b.animationEndCallback),b.lazyLoadTimer&&clearInterval(b.lazyLoadTimer),b.callbackTimers.length&&(b.callbackTimers.forEach(function(F){return clearTimeout(F)}),b.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",b.onWindowResized):window.detachEvent("onresize",b.onWindowResized),b.autoplayTimer&&clearInterval(b.autoplayTimer),b.ro.disconnect()}),L(R(b),"componentDidUpdate",function(F){if(b.checkImagesLoad(),b.props.onReInit&&b.props.onReInit(),b.props.lazyLoad){var N=(0,n.getOnDemandLazySlides)(v(v({},b.props),b.state));N.length>0&&(b.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(N)}}),b.props.onLazyLoad&&b.props.onLazyLoad(N))}b.adaptHeight();var _=v(v({listRef:b.list,trackRef:b.track},b.props),b.state),B=b.didPropsChange(F);B&&b.updateState(_,B,function(){b.state.currentSlide>=r.default.Children.count(b.props.children)&&b.changeSlide({message:"index",index:r.default.Children.count(b.props.children)-b.props.slidesToShow,currentSlide:b.state.currentSlide}),b.props.autoplay?b.autoPlay("update"):b.pause("paused")})}),L(R(b),"onWindowResized",function(F){b.debouncedResize&&b.debouncedResize.cancel(),b.debouncedResize=(0,t.default)(function(){return b.resizeWindow(F)},50),b.debouncedResize()}),L(R(b),"resizeWindow",function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,N=!!(b.track&&b.track.node);if(N){var _=v(v({listRef:b.list,trackRef:b.track},b.props),b.state);b.updateState(_,F,function(){b.props.autoplay?b.autoPlay("update"):b.pause("paused")}),b.setState({animating:!1}),clearTimeout(b.animationEndCallback),delete b.animationEndCallback}}),L(R(b),"updateState",function(F,N,_){var B=(0,n.initializedState)(F);F=v(v(v({},F),B),{},{slideIndex:B.currentSlide});var te=(0,n.getTrackLeft)(F);F=v(v({},F),{},{left:te});var ee=(0,n.getTrackCSS)(F);(N||r.default.Children.count(b.props.children)!==r.default.Children.count(F.children))&&(B.trackStyle=ee),b.setState(B,_)}),L(R(b),"ssrInit",function(){if(b.props.variableWidth){var F=0,N=0,_=[],B=(0,n.getPreClones)(v(v(v({},b.props),b.state),{},{slideCount:b.props.children.length})),te=(0,n.getPostClones)(v(v(v({},b.props),b.state),{},{slideCount:b.props.children.length}));b.props.children.forEach(function(Be){_.push(Be.props.style.width),F+=Be.props.style.width});for(var ee=0;ee<B;ee++)N+=_[_.length-1-ee],F+=_[_.length-1-ee];for(var le=0;le<te;le++)F+=_[le];for(var ae=0;ae<b.state.currentSlide;ae++)N+=_[ae];var W={width:F+"px",left:-N+"px"};if(b.props.centerMode){var ne="".concat(_[b.state.currentSlide],"px");W.left="calc(".concat(W.left," + (100% - ").concat(ne,") / 2 ) ")}return{trackStyle:W}}var ce=r.default.Children.count(b.props.children),me=v(v(v({},b.props),b.state),{},{slideCount:ce}),Ie=(0,n.getPreClones)(me)+(0,n.getPostClones)(me)+ce,Fe=100/b.props.slidesToShow*Ie,ye=100/Ie,ve=-ye*((0,n.getPreClones)(me)+b.state.currentSlide)*Fe/100;b.props.centerMode&&(ve+=(100-ye*Fe/100)/2);var _e={width:Fe+"%",left:ve+"%"};return{slideWidth:ye+"%",trackStyle:_e}}),L(R(b),"checkImagesLoad",function(){var F=b.list&&b.list.querySelectorAll&&b.list.querySelectorAll(".slick-slide img")||[],N=F.length,_=0;Array.prototype.forEach.call(F,function(B){var te=function(){return++_&&_>=N&&b.onWindowResized()};if(!B.onclick)B.onclick=function(){return B.parentNode.focus()};else{var ee=B.onclick;B.onclick=function(le){ee(le),B.parentNode.focus()}}B.onload||(b.props.lazyLoad?B.onload=function(){b.adaptHeight(),b.callbackTimers.push(setTimeout(b.onWindowResized,b.props.speed))}:(B.onload=te,B.onerror=function(){te(),b.props.onLazyLoadError&&b.props.onLazyLoadError()}))})}),L(R(b),"progressiveLazyLoad",function(){for(var F=[],N=v(v({},b.props),b.state),_=b.state.currentSlide;_<b.state.slideCount+(0,n.getPostClones)(N);_++)if(b.state.lazyLoadedList.indexOf(_)<0){F.push(_);break}for(var B=b.state.currentSlide-1;B>=-(0,n.getPreClones)(N);B--)if(b.state.lazyLoadedList.indexOf(B)<0){F.push(B);break}F.length>0?(b.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(F)}}),b.props.onLazyLoad&&b.props.onLazyLoad(F)):b.lazyLoadTimer&&(clearInterval(b.lazyLoadTimer),delete b.lazyLoadTimer)}),L(R(b),"slideHandler",function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=b.props,B=_.asNavFor,te=_.beforeChange,ee=_.onLazyLoad,le=_.speed,ae=_.afterChange,W=b.state.currentSlide,ne=(0,n.slideHandler)(v(v(v({index:F},b.props),b.state),{},{trackRef:b.track,useCSS:b.props.useCSS&&!N})),ce=ne.state,me=ne.nextState;if(ce){te&&te(W,ce.currentSlide);var Ie=ce.lazyLoadedList.filter(function(Fe){return b.state.lazyLoadedList.indexOf(Fe)<0});ee&&Ie.length>0&&ee(Ie),!b.props.waitForAnimate&&b.animationEndCallback&&(clearTimeout(b.animationEndCallback),ae&&ae(W),delete b.animationEndCallback),b.setState(ce,function(){B&&b.asNavForIndex!==F&&(b.asNavForIndex=F,B.innerSlider.slideHandler(F)),me&&(b.animationEndCallback=setTimeout(function(){var Fe=me.animating,ye=y(me,["animating"]);b.setState(ye,function(){b.callbackTimers.push(setTimeout(function(){return b.setState({animating:Fe})},10)),ae&&ae(ce.currentSlide),delete b.animationEndCallback})},le))})}}),L(R(b),"changeSlide",function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=v(v({},b.props),b.state),B=(0,n.changeSlide)(_,F);if(!(B!==0&&!B)&&(N===!0?b.slideHandler(B,N):b.slideHandler(B),b.props.autoplay&&b.autoPlay("update"),b.props.focusOnSelect)){var te=b.list.querySelectorAll(".slick-current");te[0]&&te[0].focus()}}),L(R(b),"clickHandler",function(F){b.clickable===!1&&(F.stopPropagation(),F.preventDefault()),b.clickable=!0}),L(R(b),"keyHandler",function(F){var N=(0,n.keyHandler)(F,b.props.accessibility,b.props.rtl);N!==""&&b.changeSlide({message:N})}),L(R(b),"selectHandler",function(F){b.changeSlide(F)}),L(R(b),"disableBodyScroll",function(){var F=function(_){_=_||window.event,_.preventDefault&&_.preventDefault(),_.returnValue=!1};window.ontouchmove=F}),L(R(b),"enableBodyScroll",function(){window.ontouchmove=null}),L(R(b),"swipeStart",function(F){b.props.verticalSwiping&&b.disableBodyScroll();var N=(0,n.swipeStart)(F,b.props.swipe,b.props.draggable);N!==""&&b.setState(N)}),L(R(b),"swipeMove",function(F){var N=(0,n.swipeMove)(F,v(v(v({},b.props),b.state),{},{trackRef:b.track,listRef:b.list,slideIndex:b.state.currentSlide}));N&&(N.swiping&&(b.clickable=!1),b.setState(N))}),L(R(b),"swipeEnd",function(F){var N=(0,n.swipeEnd)(F,v(v(v({},b.props),b.state),{},{trackRef:b.track,listRef:b.list,slideIndex:b.state.currentSlide}));if(N){var _=N.triggerSlideHandler;delete N.triggerSlideHandler,b.setState(N),_!==void 0&&(b.slideHandler(_),b.props.verticalSwiping&&b.enableBodyScroll())}}),L(R(b),"touchEnd",function(F){b.swipeEnd(F),b.clickable=!0}),L(R(b),"slickPrev",function(){b.callbackTimers.push(setTimeout(function(){return b.changeSlide({message:"previous"})},0))}),L(R(b),"slickNext",function(){b.callbackTimers.push(setTimeout(function(){return b.changeSlide({message:"next"})},0))}),L(R(b),"slickGoTo",function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F=Number(F),isNaN(F))return"";b.callbackTimers.push(setTimeout(function(){return b.changeSlide({message:"index",index:F,currentSlide:b.state.currentSlide},N)},0))}),L(R(b),"play",function(){var F;if(b.props.rtl)F=b.state.currentSlide-b.props.slidesToScroll;else if((0,n.canGoNext)(v(v({},b.props),b.state)))F=b.state.currentSlide+b.props.slidesToScroll;else return!1;b.slideHandler(F)}),L(R(b),"autoPlay",function(F){b.autoplayTimer&&clearInterval(b.autoplayTimer);var N=b.state.autoplaying;if(F==="update"){if(N==="hovered"||N==="focused"||N==="paused")return}else if(F==="leave"){if(N==="paused"||N==="focused")return}else if(F==="blur"&&(N==="paused"||N==="hovered"))return;b.autoplayTimer=setInterval(b.play,b.props.autoplaySpeed+50),b.setState({autoplaying:"playing"})}),L(R(b),"pause",function(F){b.autoplayTimer&&(clearInterval(b.autoplayTimer),b.autoplayTimer=null);var N=b.state.autoplaying;F==="paused"?b.setState({autoplaying:"paused"}):F==="focused"?(N==="hovered"||N==="playing")&&b.setState({autoplaying:"focused"}):N==="playing"&&b.setState({autoplaying:"hovered"})}),L(R(b),"onDotsOver",function(){return b.props.autoplay&&b.pause("hovered")}),L(R(b),"onDotsLeave",function(){return b.props.autoplay&&b.state.autoplaying==="hovered"&&b.autoPlay("leave")}),L(R(b),"onTrackOver",function(){return b.props.autoplay&&b.pause("hovered")}),L(R(b),"onTrackLeave",function(){return b.props.autoplay&&b.state.autoplaying==="hovered"&&b.autoPlay("leave")}),L(R(b),"onSlideFocus",function(){return b.props.autoplay&&b.pause("focused")}),L(R(b),"onSlideBlur",function(){return b.props.autoplay&&b.state.autoplaying==="focused"&&b.autoPlay("blur")}),L(R(b),"render",function(){var F=(0,s.default)("slick-slider",b.props.className,{"slick-vertical":b.props.vertical,"slick-initialized":!0}),N=v(v({},b.props),b.state),_=(0,n.extractObject)(N,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),B=b.props.pauseOnHover;_=v(v({},_),{},{onMouseEnter:B?b.onTrackOver:null,onMouseLeave:B?b.onTrackLeave:null,onMouseOver:B?b.onTrackOver:null,focusOnSelect:b.props.focusOnSelect&&b.clickable?b.selectHandler:null});var te;if(b.props.dots===!0&&b.state.slideCount>=b.props.slidesToShow){var ee=(0,n.extractObject)(N,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),le=b.props.pauseOnDotsHover;ee=v(v({},ee),{},{clickHandler:b.changeSlide,onMouseEnter:le?b.onDotsLeave:null,onMouseOver:le?b.onDotsOver:null,onMouseLeave:le?b.onDotsLeave:null}),te=r.default.createElement(l.Dots,ee)}var ae,W,ne=(0,n.extractObject)(N,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);ne.clickHandler=b.changeSlide,b.props.arrows&&(ae=r.default.createElement(u.PrevArrow,ne),W=r.default.createElement(u.NextArrow,ne));var ce=null;b.props.vertical&&(ce={height:b.state.listHeight});var me=null;b.props.vertical===!1?b.props.centerMode===!0&&(me={padding:"0px "+b.props.centerPadding}):b.props.centerMode===!0&&(me={padding:b.props.centerPadding+" 0px"});var Ie=v(v({},ce),me),Fe=b.props.touchMove,ye={className:"slick-list",style:Ie,onClick:b.clickHandler,onMouseDown:Fe?b.swipeStart:null,onMouseMove:b.state.dragging&&Fe?b.swipeMove:null,onMouseUp:Fe?b.swipeEnd:null,onMouseLeave:b.state.dragging&&Fe?b.swipeEnd:null,onTouchStart:Fe?b.swipeStart:null,onTouchMove:b.state.dragging&&Fe?b.swipeMove:null,onTouchEnd:Fe?b.touchEnd:null,onTouchCancel:b.state.dragging&&Fe?b.swipeEnd:null,onKeyDown:b.props.accessibility?b.keyHandler:null},ve={className:F,dir:"ltr",style:b.props.style};return b.props.unslick&&(ye={className:"slick-list"},ve={className:F,style:b.props.style}),r.default.createElement("div",ve,b.props.unslick?"":ae,r.default.createElement("div",m({ref:b.listRefHandler},ye),r.default.createElement(a.Track,m({ref:b.trackRefHandler},_),b.props.children)),b.props.unslick?"":W,b.props.unslick?"":te)}),b.list=null,b.track=null,b.state=v(v({},e.default),{},{currentSlide:b.props.initialSlide,targetSlide:b.props.initialSlide?b.props.initialSlide:0,slideCount:r.default.Children.count(b.props.children)}),b.callbackTimers=[],b.clickable=!0,b.debouncedResize=null;var q=b.ssrInit();return b.state=v(v({},b.state),q),b}return D(J,[{key:"didPropsChange",value:function(b){for(var q=!1,F=0,N=Object.keys(this.props);F<N.length;F++){var _=N[F];if(!b.hasOwnProperty(_)){q=!0;break}if(!(p(b[_])==="object"||typeof b[_]=="function"||isNaN(b[_]))&&b[_]!==this.props[_]){q=!0;break}}return q||r.default.Children.count(this.props.children)!==r.default.Children.count(b.children)}}]),J})(r.default.Component),Ya}var mh,py;function LA(){if(py)return mh;py=1;var r=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return mh=r,mh}var gh,my;function MA(){if(my)return gh;my=1;var r=LA(),e=function(n){var a=/[height|width]$/;return a.test(n)},t=function(n){var a="",l=Object.keys(n);return l.forEach(function(u,d){var f=n[u];u=r(u),e(u)&&typeof f=="number"&&(f=f+"px"),f===!0?a+=u:f===!1?a+="not "+u:a+="("+u+": "+f+")",d<l.length-1&&(a+=" and ")}),a},s=function(n){var a="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(l,u){a+=t(l),u<n.length-1&&(a+=", ")}),a):t(n)};return gh=s,gh}var gy;function OA(){return gy||(gy=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=l(nn()),t=RA(),s=l(MA()),n=l(hv()),a=Po();function l(I){return I&&I.__esModule?I:{default:I}}function u(I){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},u(I)}function d(){return d=Object.assign?Object.assign.bind():function(I){for(var M=1;M<arguments.length;M++){var L=arguments[M];for(var V in L)({}).hasOwnProperty.call(L,V)&&(I[V]=L[V])}return I},d.apply(null,arguments)}function f(I,M){var L=Object.keys(I);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(I);M&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(I,X).enumerable})),L.push.apply(L,V)}return L}function p(I){for(var M=1;M<arguments.length;M++){var L=arguments[M]!=null?arguments[M]:{};M%2?f(Object(L),!0).forEach(function(V){k(I,V,L[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(L)):f(Object(L)).forEach(function(V){Object.defineProperty(I,V,Object.getOwnPropertyDescriptor(L,V))})}return I}function m(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function y(I,M){for(var L=0;L<M.length;L++){var V=M[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(I,j(V.key),V)}}function w(I,M,L){return M&&y(I.prototype,M),Object.defineProperty(I,"prototype",{writable:!1}),I}function C(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),M&&v(I,M)}function v(I,M){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,V){return L.__proto__=V,L},v(I,M)}function A(I){var M=O();return function(){var L,V=T(I);if(M){var X=T(this).constructor;L=Reflect.construct(V,arguments,X)}else L=V.apply(this,arguments);return E(this,L)}}function E(I,M){if(M&&(u(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(I)}function D(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function O(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!I})()}function T(I){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},T(I)}function k(I,M,L){return(M=j(M))in I?Object.defineProperty(I,M,{value:L,enumerable:!0,configurable:!0,writable:!0}):I[M]=L,I}function j(I){var M=R(I,"string");return u(M)=="symbol"?M:M+""}function R(I,M){if(u(I)!="object"||!I)return I;var L=I[Symbol.toPrimitive];if(L!==void 0){var V=L.call(I,M);if(u(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(I)}r.default=(function(I){C(L,I);var M=A(L);function L(V){var X;return m(this,L),X=M.call(this,V),k(D(X),"innerSliderRefHandler",function(U){return X.innerSlider=U}),k(D(X),"slickPrev",function(){return X.innerSlider.slickPrev()}),k(D(X),"slickNext",function(){return X.innerSlider.slickNext()}),k(D(X),"slickGoTo",function(U){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return X.innerSlider.slickGoTo(U,K)}),k(D(X),"slickPause",function(){return X.innerSlider.pause("paused")}),k(D(X),"slickPlay",function(){return X.innerSlider.autoPlay("play")}),X.state={breakpoint:null},X._responsiveMediaHandlers=[],X}return w(L,[{key:"media",value:function(X,U){var K=window.matchMedia(X),J=function(b){var q=b.matches;q&&U()};K.addListener(J),this._responsiveMediaHandlers.push({mql:K,query:X,listener:J})}},{key:"componentDidMount",value:function(){var X=this;if(this.props.responsive){var U=this.props.responsive.map(function(J){return J.breakpoint});U.sort(function(J,Q){return J-Q}),U.forEach(function(J,Q){var b;Q===0?b=(0,s.default)({minWidth:0,maxWidth:J}):b=(0,s.default)({minWidth:U[Q-1]+1,maxWidth:J}),(0,a.canUseDOM)()&&X.media(b,function(){X.setState({breakpoint:J})})});var K=(0,s.default)({minWidth:U.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(K,function(){X.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(X){X.mql.removeListener(X.listener)})}},{key:"render",value:function(){var X=this,U,K;this.state.breakpoint?(K=this.props.responsive.filter(function(ee){return ee.breakpoint===X.state.breakpoint}),U=K[0].settings==="unslick"?"unslick":p(p(p({},n.default),this.props),K[0].settings)):U=p(p({},n.default),this.props),U.centerMode&&(U.slidesToScroll>1,U.slidesToScroll=1),U.fade&&(U.slidesToShow>1,U.slidesToScroll>1,U.slidesToShow=1,U.slidesToScroll=1);var J=e.default.Children.toArray(this.props.children);J=J.filter(function(ee){return typeof ee=="string"?!!ee.trim():!!ee}),U.variableWidth&&(U.rows>1||U.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),U.variableWidth=!1);for(var Q=[],b=null,q=0;q<J.length;q+=U.rows*U.slidesPerRow){for(var F=[],N=q;N<q+U.rows*U.slidesPerRow;N+=U.slidesPerRow){for(var _=[],B=N;B<N+U.slidesPerRow&&(U.variableWidth&&J[B].props.style&&(b=J[B].props.style.width),!(B>=J.length));B+=1)_.push(e.default.cloneElement(J[B],{key:100*q+10*N+B,tabIndex:-1,style:{width:"".concat(100/U.slidesPerRow,"%"),display:"inline-block"}}));F.push(e.default.createElement("div",{key:10*q+N},_))}U.variableWidth?Q.push(e.default.createElement("div",{key:q,style:{width:b}},F)):Q.push(e.default.createElement("div",{key:q},F))}if(U==="unslick"){var te="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:te},J)}else Q.length<=U.slidesToShow&&(U.unslick=!0);return e.default.createElement(t.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(U)),Q)}}]),L})(e.default.Component)})(uh)),uh}var yy;function DA(){return yy||(yy=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(OA());function t(s){return s&&s.__esModule?s:{default:s}}r.default=e.default})(ch)),ch}var IA=DA();const FA=$c(IA),_c="/assets/banner-CwPzm-yw.png",BA="/assets/banner2-D3MalFK3.png",UA=()=>{const{t:r,language:e}=yt(),t={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,arrows:!0},s=[{type:"video",src:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4"},{type:"image",src:BA},{type:"video",src:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_2mb.mp4"},{type:"image",src:_c}];return c.jsxs("section",{className:"bg-tertiary relative py-0 min-h-[70vh] sm:min-h-[85vh] md:min-h-screen overflow-hidden",children:[c.jsx("style",{children:`
          .slick-slider,
          .slick-list,
          .slick-track,
          .slick-slide > div {
            height: 100%;
          }
          .slick-slide {
            height: 70vh;
          }
          @media (min-width: 640px) {
            .slick-slide {
              height: 85vh;
            }
          }
          @media (min-width: 768px) {
            .slick-slide {
              height: 100vh;
            }
          }
          .slick-dots {
            z-index: 20;
            bottom: 20px;
          }
          .slick-dots li {
            margin: 0 3px;
          }
          .slick-dots li button:before {
            color: white;
            opacity: 0.7;
            font-size: 10px;
          }
          .slick-dots li.slick-active button:before {
            opacity: 1;
            color: white;
          }
          .slick-arrow {
            z-index: 20;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            width: 40px;
            height: 40px;
          }
          .slick-prev {
            left: 25px;
          }
          .slick-next {
            right: 25px;
          }
          .slick-prev:before,
          .slick-next:before {
            color: white;
            font-size: 20px;
          }
        `}),c.jsx("div",{className:"hidden md:block absolute inset-0 z-0 h-full",children:c.jsx(FA,{...t,className:"h-full",children:s.map((n,a)=>c.jsxs("div",{className:"w-full h-full relative",children:[n.type==="video"?c.jsxs("video",{className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:[c.jsx("source",{src:n.src,type:"video/mp4"}),"Your browser does not support the video tag."]}):c.jsx("img",{src:n.src,alt:`Slide ${a+1}`,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})]},a))})}),c.jsxs("div",{className:"md:hidden absolute inset-0 z-0",children:[c.jsx("img",{src:_c,alt:"Hero Background",className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})]}),c.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto text-center flex flex-col justify-center min-h-[60vh] sm:min-h-[75vh] md:min-h-[85vh] px-4 sm:px-6 lg:px-8",children:[c.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-light-text mb-4 sm:mb-6 animate-fade-in-up px-2",children:r("home.hero")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-light-text mb-6 sm:mb-8 max-w-full sm:max-w-2xl md:max-w-3xl mx-auto animate-fade-in-up px-4",style:{animationDelay:"0.5s"},children:r("home.heroDesc")}),c.jsxs("div",{className:`flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center ${e==="ar"?"sm:flex-row-reverse":""} animate-scale-in px-4`,style:{animationDelay:"0.4s"},children:[c.jsx(ns,{size:"lg",as:tn,to:"/login",className:"w-full sm:w-auto max-w-xs sm:max-w-none text-sm sm:text-base py-2 sm:py-3",children:r("home.cta")}),c.jsx(ns,{size:"lg",as:tn,to:"#features",className:"w-full sm:w-auto max-w-xs sm:max-w-none text-sm sm:text-base py-2 sm:py-3 bg-tertiary hover text-primary hover:text-light-text",children:r("home.learnMore")})]})]})]})},zA=()=>{const{t:r}=yt(),e=[{icon:vr,title:r("home.expertTutors"),description:r("home.expertDesc"),color:"blue"},{icon:Bn,title:r("home.flexibleSchedule"),description:r("home.flexibleDesc"),color:"green"},{icon:co,title:r("home.proven"),description:r("home.provenDesc"),color:"purple"}];return c.jsx("section",{id:"features",className:"py-12 sm:py-16 md:py-20 bg-light-text",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-4 animate-fade-in-up px-4",children:r("home.whyChoose")})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8",children:e.map((t,s)=>c.jsxs("div",{className:"text-center p-4 sm:p-6 rounded-lg border border-accent hover:shadow-lg transition-shadow hover-lift animate-scale-in",style:{animationDelay:`${s*.2}s`},children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 rounded-full bg-accent flex items-center justify-center hover-scale",children:c.jsx(t.icon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"})}),c.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-primary mb-2",children:t.title}),c.jsx("p",{className:"text-sm sm:text-base text-text",children:t.description})]},s))})]})})},$A=()=>{const{t:r}=yt(),[e,t]=H.useState([]);return H.useEffect(()=>{(async()=>{try{const a=await(await fetch(`${To}/api/stats/`)).json();t([{value:r("home.activeStudents"),label:`${a.active_students}+`},{value:r("home.courses"),label:`${a.courses}+`},{value:r("home.successRate"),label:`${a.success_rate}%`},{value:r("home.tutors"),label:`${a.tutors}+`}])}catch(n){console.error("Error fetching stats:",n),t([{value:r("home.activeStudents"),label:"15,000+"},{value:r("home.courses"),label:"200+"},{value:r("home.successRate"),label:"95%"},{value:r("home.tutors"),label:"500+"}])}})()},[r]),c.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-primary",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-light-text mb-3 sm:mb-4 px-4",children:r("home.stats")})}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:e.map((s,n)=>c.jsxs("div",{className:"text-center p-3 sm:p-4",children:[c.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-light-text mb-1 sm:mb-2",children:s.label}),c.jsx("div",{className:"text-xs sm:text-sm md:text-base text-accent",children:s.value})]},n))})]})})},HA=()=>{const{t:r,language:e}=yt(),[t,s]=H.useState(null);return H.useEffect(()=>{(async()=>{try{const u=(await(await fetch(`${To}/api/home-content/`)).json()).filter(d=>d.type==="testimonial");if(u.length>0){const d=u[0];s({quote:d.content,name:d.author||r("home.testimonialName"),title:d.author_title||r("home.testimonialTitle"),image:d.image||r("home.testimonialImage")})}else s({quote:r("home.testimonialQuote"),name:r("home.testimonialName"),title:r("home.testimonialTitle"),image:r("home.testimonialImage")})}catch(a){console.error("Error fetching testimonial:",a),s({quote:r("home.testimonialQuote"),name:r("home.testimonialName"),title:r("home.testimonialTitle"),image:r("home.testimonialImage")})}})()},[r]),t?c.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-light-text",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-3 sm:mb-4 px-4",children:r("home.studentSuccess")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-text px-4",children:r("home.testimonialDesc")})]}),c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-accent rounded-lg p-4 sm:p-6 md:p-8 shadow-sm hover-lift animate-scale-in",style:{animationDelay:"0.4s"},children:[c.jsxs("blockquote",{className:"text-base sm:text-lg text-text mb-4 sm:mb-6 leading-relaxed",children:['"',t.quote,'"']}),c.jsxs("div",{className:`flex flex-col sm:flex-row items-center sm:items-center ${e==="ar"?"sm:flex-row-reverse":""}`,children:[c.jsx("img",{src:t.image,alt:t.name,className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full object-cover border-2 border-primary hover-scale mb-3 sm:mb-0"}),c.jsxs("div",{className:`text-center sm:text-left ${e==="ar"?"sm:mr-4 sm:text-right":"sm:ml-4"}`,children:[c.jsx("div",{className:"font-semibold text-primary text-sm sm:text-base",children:t.name}),c.jsx("div",{className:"text-text text-xs sm:text-sm",children:t.title})]})]})]})})]})}):null},VA=()=>{const{t:r,language:e}=yt(),[t,s]=H.useState("news"),[n,a]=H.useState([]),[l,u]=H.useState([]);return H.useEffect(()=>{(async()=>{try{const p=await(await fetch(`${To}/api/home-content/`)).json();a(p.news.map(m=>({date:new Date(m.created_at).toLocaleDateString(),title:m.title,description:m.content,image:m.image||"/api/placeholder/400/250"}))),u(p.events.map(m=>({date:new Date(m.event_date).toLocaleDateString(),title:m.title,details:m.content,videoId:m.video_id||"dQw4w9WgXcQ"})))}catch(f){console.error("Error fetching announcements:",f),a([{date:"May 10, 2025",title:"Hillside University Receives $5M Grant for Renewable Energy Research",description:"The Department of Energy awarded the grant to support innovative solar technology development.",image:"/api/placeholder/400/250"},{date:"May 7, 2025",title:"Professor Jane Smith Named National Academy Member",description:"The distinguished faculty member was recognized for his pioneering work in quantum physics.",image:"/api/placeholder/400/250"},{date:"May 3, 2025",title:"Hillside Launches New Community Partnership Initiative",description:"The program will connect students with local organizations for service-learning opportunities.",image:"/api/placeholder/400/250"}]),u([{date:"May 15, 2025",title:"Spring Commencement Ceremony",details:"10:00 AM - Main Campus Stadium",videoId:"dQw4w9WgXcQ"},{date:"May 20, 2025",title:"Faculty Research Symposium",details:"1:00 PM - Science Center Auditorium",videoId:"dQw4w9WgXcQ"},{date:"May 25, 2025",title:"Alumni Weekend",details:"Various locations across campus",videoId:"dQw4w9WgXcQ"}])}})()},[]),c.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-3 sm:mb-4 animate-fade-in-up px-4",children:r("home.newsEventsTitle")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-text animate-fade-in-up px-4",style:{animationDelay:"0.2s"},children:r("home.newsEventsDesc")})]}),c.jsx("div",{className:"flex justify-center mb-6 sm:mb-8",children:c.jsxs("div",{className:`bg-tertiary rounded-lg p-1 shadow-sm w-full sm:w-auto ${e==="ar"?"flex flex-row-reverse":"flex"}`,children:[c.jsx("button",{className:`flex-1 sm:flex-none px-4 sm:px-6 py-2 rounded-md font-medium transition-colors text-sm sm:text-base ${t==="news"?"bg-primary text-light-text":"text-text hover:text-primary"}`,onClick:()=>s("news"),children:r("home.newsTab")}),c.jsx("button",{className:`flex-1 sm:flex-none px-4 sm:px-6 py-2 rounded-md font-medium transition-colors text-sm sm:text-base ${t==="events"?"bg-primary text-light-text":"text-text hover:text-primary"}`,onClick:()=>s("events"),children:r("home.eventsTab")})]})}),t==="news"&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 md:p-8",children:[c.jsx("ul",{className:"space-y-6",children:n.map((d,f)=>c.jsx("li",{className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:c.jsxs("div",{className:`flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 sm:gap-6 ${e==="ar"?"lg:flex-row-reverse":""}`,children:[c.jsxs("div",{className:"flex-1 order-2 lg:order-1",children:[c.jsx("span",{className:"text-xs sm:text-sm text-primary font-medium",children:d.date}),c.jsx("h4",{className:"text-base sm:text-lg font-semibold text-primary mt-2 mb-2",children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:d.title})}),c.jsx("p",{className:"text-sm sm:text-base text-text",children:d.description})]}),c.jsx("div",{className:"w-full lg:w-1/3 order-1 lg:order-2",children:c.jsx("img",{src:d.image,alt:d.title,className:"w-full h-40 sm:h-48 object-cover rounded-lg shadow-md"})})]})},f))}),c.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:c.jsx("a",{href:"#",className:"text-sm sm:text-base text-primary hover:text-link-hover font-medium",children:r("home.viewAllNews")})})]}),t==="events"&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 md:p-8",children:[c.jsx("ul",{className:"space-y-6",children:l.map((d,f)=>c.jsx("li",{className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:c.jsxs("div",{className:`flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 sm:gap-6 ${e==="ar"?"lg:flex-row-reverse":""}`,children:[c.jsxs("div",{className:"flex-1 order-2 lg:order-1",children:[c.jsx("span",{className:"text-xs sm:text-sm text-primary font-medium",children:d.date}),c.jsx("h4",{className:"text-base sm:text-lg font-semibold text-primary mt-2 mb-2",children:c.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:d.title})}),c.jsx("p",{className:"text-sm sm:text-base text-text",children:d.details})]}),c.jsx("div",{className:"w-full lg:w-1/3 order-1 lg:order-2",children:c.jsx("div",{className:"aspect-video",children:c.jsx("iframe",{src:`https://www.youtube.com/embed/${d.videoId}`,title:d.title,className:"w-full h-full rounded-lg shadow-md",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})]})},f))}),c.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:c.jsx("a",{href:"#",className:"text-sm sm:text-base text-primary hover:text-link-hover font-medium",children:"View All Events "})})]})]})})},WA=()=>{const{t:r}=yt(),[e,t]=H.useState([]);return H.useEffect(()=>{(async()=>{try{const l=(await(await fetch(`${To}/api/home-content/`)).json()).campus_life.map(u=>u.image||"/api/placeholder/300/180");t(l.length>0?l:["/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180"])}catch(n){console.error("Error fetching campus photos:",n),t(["/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180","/api/placeholder/300/180"])}})()},[]),c.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-primary",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-tertiary mb-3 sm:mb-4 animate-fade-in-up px-4",children:r("home.campusLife")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-tertiary animate-fade-in-up px-4",style:{animationDelay:"0.2s"},children:r("home.campusLifeDesc")})]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 mb-8 sm:mb-12",children:e.map((s,n)=>c.jsxs("div",{className:`relative group overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer animate-scale-in ${n===0?"col-span-2 row-span-2":n===4?"col-span-2 sm:col-span-1 lg:col-span-2":""}`,style:{animationDelay:`${n*.1}s`},children:[c.jsx("div",{className:`w-full bg-cover bg-center transition-transform duration-500 group-hover:scale-110 ${n===0?"h-64 sm:h-80 md:h-96":n===4?"h-48 sm:h-48 md:h-64":"h-40 sm:h-48 md:h-56"}`,style:{backgroundImage:`url(${s})`}}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 text-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[c.jsx("p",{className:"text-xs sm:text-sm font-medium",children:"Campus Life"}),c.jsx("p",{className:"text-xs opacity-90 hidden sm:block",children:"Explore our vibrant community"})]}),n===0&&c.jsx("div",{className:"absolute top-3 right-3 bg-tertiary text-primary text-xs font-semibold px-2 sm:px-3 py-1 rounded-full shadow-lg",children:"Featured"})]},n))}),c.jsx("div",{className:"text-center",children:c.jsx(ns,{variant:"onblue",size:"lg",className:"w-full sm:w-auto",children:r("home.campusGalleryBtn")})})]})})},ta=()=>{const{t:r}=yt(),e=Ji(),t=new Date().getFullYear(),s=()=>{window.scrollTo({top:0,behavior:"smooth"})},n=a=>{e(a),s()};return c.jsxs("footer",{className:"bg-primary text-light-text py-8 sm:py-10 md:py-12",children:[c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"footer-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[c.jsxs("div",{className:"footer-column",children:[c.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:r("home.footerAboutTitle")}),c.jsxs("ul",{className:"footer-links space-y-1.5 sm:space-y-2",children:[c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/about"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerMissionVision")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/about"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerHistory")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/about"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerLeadership")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/about"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerAccreditation")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/about"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerEmployment")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/about"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerCampusMap")})})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:r("home.footerAcademicsTitle")}),c.jsxs("ul",{className:"footer-links space-y-1.5 sm:space-y-2",children:[c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/academics"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerCollegesSchools")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/academics"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerUndergraduatePrograms")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/academics"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerGraduatePrograms")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/academics"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerOnlineLearning")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/academics"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerAcademicCalendar")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/academics"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerLibrary")})})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:r("home.footerAdmissionsTitle")}),c.jsxs("ul",{className:"footer-links space-y-1.5 sm:space-y-2",children:[c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/admissions"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerUndergraduateAdmission")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/admissions"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerGraduateAdmission")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/admissions"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerFinancialAid")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/admissions"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerScholarships")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/admissions"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerVisitCampus")})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>n("/admissions"),className:"text-accent hover:text-light-text transition-colors text-sm sm:text-base text-left",children:r("home.footerApplyNow")})})]})]}),c.jsxs("div",{className:"footer-column",children:[c.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:r("home.footerConnectTitle")}),c.jsxs("div",{className:"contact-info space-y-1.5 sm:space-y-2 mb-3 sm:mb-4 text-sm sm:text-base text-accent",children:[c.jsx("p",{children:r("home.footerAddress")}),c.jsx("p",{children:r("home.footerPhone")}),c.jsx("p",{className:"break-all",children:r("home.footerEmail")})]}),c.jsxs("div",{className:"social-links flex flex-wrap gap-2 sm:gap-3",children:[c.jsx("a",{href:"#",className:"social-icon w-8 h-8 sm:w-9 sm:h-9 bg-tertiary rounded-full flex items-center justify-center text-text hover:text-accent hover:bg-link transition-colors text-xs sm:text-sm font-medium","aria-label":r("home.footerFacebook"),children:"f"}),c.jsx("a",{href:"#",className:"social-icon w-8 h-8 sm:w-9 sm:h-9 bg-tertiary rounded-full flex items-center justify-center text-text hover:text-accent hover:bg-link transition-colors text-xs sm:text-sm font-medium","aria-label":r("home.footerTwitter"),children:"t"}),c.jsx("a",{href:"#",className:"social-icon w-8 h-8 sm:w-9 sm:h-9 bg-tertiary rounded-full flex items-center justify-center text-text hover:text-accent hover:bg-link transition-colors text-xs sm:text-sm font-medium","aria-label":r("home.footerInstagram"),children:"i"}),c.jsx("a",{href:"#",className:"social-icon w-8 h-8 sm:w-9 sm:h-9 bg-tertiary rounded-full flex items-center justify-center text-text hover:text-accent hover:bg-link transition-colors text-xs sm:text-sm font-medium","aria-label":r("home.footerLinkedIn"),children:"in"}),c.jsx("a",{href:"#",className:"social-icon w-8 h-8 sm:w-9 sm:h-9 bg-tertiary rounded-full flex items-center justify-center text-text hover:text-accent hover:bg-link transition-colors text-xs sm:text-sm font-medium","aria-label":r("home.footerYouTube"),children:"y"})]})]})]})}),c.jsx("div",{className:"bottom-footer border-t border-accent pt-6 sm:pt-8 mt-6 sm:mt-8 animate-fade-in-up",style:{animationDelay:"0.6s"},children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("p",{className:"text-center text-accent text-xs sm:text-sm",children:r("home.footerCopyright").replace("{year}",t)}),c.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-x-2 sm:gap-x-3 gap-y-1 text-accent mt-2 text-xs sm:text-sm",children:[c.jsx("button",{onClick:()=>n("/"),className:"hover:text-light-text transition-colors hover-lift text-left",children:r("home.footerPrivacy")}),c.jsx("span",{className:"hidden sm:inline",children:"|"}),c.jsx("button",{onClick:()=>n("/"),className:"hover:text-light-text transition-colors hover-lift text-left",children:r("home.footerTerms")}),c.jsx("span",{className:"hidden sm:inline",children:"|"}),c.jsx("button",{onClick:()=>n("/"),className:"hover:text-light-text transition-colors hover-lift text-left",children:r("home.footerAccessibility")}),c.jsx("span",{className:"hidden sm:inline",children:"|"}),c.jsx("button",{onClick:()=>n("/"),className:"hover:text-light-text transition-colors hover-lift text-left",children:r("home.footerConsumer")}),c.jsx("span",{className:"hidden sm:inline",children:"|"}),c.jsx("button",{onClick:()=>n("/"),className:"hover:text-light-text transition-colors hover-lift text-left",children:r("home.footerEmergency")})]})]})})]})},qA=()=>{const{t:r}=yt(),[e,t]=H.useState({name:"",email:"",subject:"",message:""}),[s,n]=H.useState(!1),[a,l]=H.useState(null),u=f=>{t({...e,[f.target.name]:f.target.value}),a&&l(null)},d=async f=>{f.preventDefault(),n(!0),l(null);try{const p=await fetch(`${To}/api/contact/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(p.ok){const m=await p.json();l("success"),t({name:"",email:"",subject:"",message:""}),console.log("Contact form submitted successfully:",m)}else{const m=await p.json();l("error"),console.error("Error submitting contact form:",m)}}catch(p){l("error"),console.error("Network error submitting contact form:",p)}finally{n(!1)}};return c.jsx("section",{className:"py-8 sm:py-10 md:py-12 lg:py-16 bg-accent",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-3 sm:mb-4 animate-fade-in-up px-4",children:r("home.contactTitle")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-text animate-fade-in-up px-4",style:{animationDelay:"0.2s"},children:r("home.contactDesc")})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 sm:gap-10 md:gap-12",children:[c.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.4s"},children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-primary mb-4 sm:mb-6",children:r("home.contactInfo")}),c.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsxs("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary mr-2 sm:mr-3 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-primary text-sm sm:text-base",children:r("home.address")}),c.jsx("p",{className:"text-text text-sm sm:text-base",children:"12A Baale Street Ishagatedo Mushin Road, Lagos 12345"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary mr-2 sm:mr-3 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-primary text-sm sm:text-base",children:r("home.phone")}),c.jsx("p",{className:"text-text text-sm sm:text-base",children:"+1 (555) 123-4567"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary mr-2 sm:mr-3 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-primary text-sm sm:text-base",children:r("home.email")}),c.jsx("p",{className:"text-text text-sm sm:text-base break-all",children:"info@mahdurahmah.edu"})]})]})]}),c.jsxs("div",{className:"mt-6 sm:mt-8",children:[c.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-primary mb-3 sm:mb-4",children:r("home.followUs")}),c.jsxs("div",{className:"flex space-x-3 sm:space-x-4",children:[c.jsx("a",{href:"#",className:"text-primary hover:text-secondary transition-colors p-2 hover:bg-white/50 rounded-full",children:c.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M22.675 0h-21.35C.597 0 0 .597 0 1.326v21.348C0 23.403.597 24 1.326 24h11.495v-9.294H9.691V11.01h3.13V8.309c0-3.1 1.894-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.796.715-1.796 1.763v2.31h3.587l-.467 3.696h-3.12V24h6.116C23.403 24 24 23.403 24 22.674V1.326C24 .597 23.403 0 22.675 0z"})})}),c.jsx("a",{href:"#",className:"text-primary hover:text-secondary transition-colors p-2 hover:bg-white/50 rounded-full",children:c.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M23.498 6.186a2.98 2.98 0 0 0-2.097-2.108C19.554 3.5 12 3.5 12 3.5s-7.554 0-9.401.578A2.98 2.98 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a2.98 2.98 0 0 0 2.097 2.108C4.446 20.5 12 20.5 12 20.5s7.554 0 9.401-.578a2.98 2.98 0 0 0 2.097-2.108C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.75 15.568V8.432L15.818 12 9.75 15.568z"})})}),c.jsx("a",{href:"#",className:"text-primary hover:text-secondary transition-colors p-2 hover:bg-white/50 rounded-full",children:c.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.34 3.608 1.316.975.975 1.254 2.242 1.316 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.34 2.633-1.316 3.608-.975.975-2.242 1.254-3.608 1.316-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.34-3.608-1.316-.975-.975-1.254-2.242-1.316-3.608C2.175 15.584 2.163 15.204 2.163 12s.012-3.584.07-4.85c.062-1.366.34-2.633 1.316-3.608C4.524 2.573 5.79 2.295 7.156 2.233 8.422 2.175 8.802 2.163 12 2.163zM12 6.838A5.162 5.162 0 1 0 12 17.162 5.162 5.162 0 0 0 12 6.838zm0 8.513A3.351 3.351 0 1 1 12 8.649a3.351 3.351 0 0 1 0 6.702zm6.406-8.845a1.205 1.205 0 1 1-2.41 0 1.205 1.205 0 0 1 2.41 0z"})})}),c.jsx("a",{href:"#",className:"text-primary hover:text-secondary transition-colors p-2 hover:bg-white/50 rounded-full",children:c.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045C7.728 8.087 4.1 6.127 1.671 3.149c-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),c.jsx("a",{href:"#",className:"text-primary hover:text-secondary transition-colors p-2 hover:bg-white/50 rounded-full",children:c.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12.75 2h3.02c.29 2.04 1.43 3.81 3.23 4.8v3.04c-1.86.06-3.63-.55-5.02-1.64v7.56a6.5 6.5 0 1 1-6.5-6.5c.34 0 .67.03 1 .09v3.2a3.5 3.5 0 1 0 2.27 3.3V2z"})})}),c.jsx("a",{href:"#",className:"text-primary hover:text-secondary transition-colors p-2 hover:bg-white/50 rounded-full",children:c.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zM7.119 20.452H3.555V9h3.564v11.452z"})})})]})]})]}),c.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.6s"},children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-primary mb-4 sm:mb-6",children:r("home.sendMessage")}),c.jsxs("form",{onSubmit:d,className:"space-y-3 sm:space-y-4",children:[a==="success"&&c.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg text-sm",children:[c.jsx("strong",{children:"Success!"})," Your message has been sent successfully. We'll get back to you soon."]}),a==="error"&&c.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:[c.jsx("strong",{children:"Error!"})," There was a problem sending your message. Please try again later."]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-xs sm:text-sm font-medium text-primary mb-1",children:r("home.name")}),c.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:u,required:!0,disabled:s,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-medium text-primary mb-1",children:r("home.email")}),c.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,required:!0,disabled:s,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subject",className:"block text-xs sm:text-sm font-medium text-primary mb-1",children:r("home.subject")}),c.jsx("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:u,required:!0,disabled:s,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-xs sm:text-sm font-medium text-primary mb-1",children:r("home.message")}),c.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:u,required:!0,rows:4,disabled:s,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary resize-none disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),c.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-white py-2.5 sm:py-3 px-4 rounded-md hover:bg-secondary transition-colors focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base font-medium disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:s?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):r("home.send")})]})]})]})]})})},GA=()=>{const{t:r}=yt();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-accent to-light-text relative",children:[c.jsx(dv,{}),c.jsx(UA,{}),c.jsx("section",{id:"why-us",style:{scrollMarginTop:"200px"},children:c.jsx(zA,{})}),c.jsx("section",{id:"our-impact",style:{scrollMarginTop:"200px"},children:c.jsx($A,{})}),c.jsx("section",{id:"testimonials",style:{scrollMarginTop:"200px"},children:c.jsx(HA,{})}),c.jsx("section",{id:"news-events",style:{scrollMarginTop:"200px"},children:c.jsx(VA,{})}),c.jsx("section",{id:"school-life",style:{scrollMarginTop:"200px"},children:c.jsx(WA,{})}),c.jsx("section",{id:"our-contact",style:{scrollMarginTop:"200px"},children:c.jsx(qA,{})}),c.jsx(ta,{})]})},gn=({children:r,title:e,className:t=""})=>c.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${t}`,children:[e&&c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e})}),c.jsx("div",{className:"p-6",children:r})]}),Hr=({label:r,className:e="",...t})=>{const{language:s}=yt(),n=s==="ar";return c.jsxs("div",{className:`flex flex-col gap-2 ${e}`,children:[r&&c.jsx("label",{className:"text-sm font-medium text-gray-700",children:r}),c.jsx("input",{className:`px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"text-right":""}`,...t})]})},Ro=({isLoading:r,children:e,loadingText:t="Loading...",overlayColor:s="rgba(0, 0, 0, 0.75)",spinnerColor:n="var(--primary-color, #3B82F6)",textColor:a="white",showBackground:l=!0})=>r?c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center transition-opacity duration-300",style:{backgroundColor:s,backdropFilter:"blur(2px)"},children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full border-4 border-t-transparent mx-auto mb-4",style:{width:"3rem",height:"3rem",borderColor:n,borderTopColor:"transparent"}}),c.jsx("p",{className:"text-lg font-medium animate-pulse",style:{color:a},children:t}),c.jsxs("div",{className:"flex justify-center mt-3 space-x-1",children:[c.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:a,animationDelay:"0ms"}}),c.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:a,animationDelay:"150ms"}}),c.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:a,animationDelay:"300ms"}})]})]})}),c.jsx("div",{className:l?"opacity-50 pointer-events-none":"pointer-events-none",children:e})]}):c.jsx(c.Fragment,{children:e}),KA=()=>{const{login:r}=Cr(),{language:e,setLanguage:t,t:s}=yt(),n=Ji(),[a,l]=H.useState(""),[u,d]=H.useState(""),[f,p]=H.useState(""),[m,y]=H.useState(!1),w=async C=>{C.preventDefault(),y(!0),p("");const v=await r(a,u);if(y(!1),!v.success){const E=v.error?.toLowerCase().includes("invalid")?"auth.login.error.invalidCredentials":v.error?.toLowerCase().includes("network")?"auth.login.error.networkError":v.error?.toLowerCase().includes("server")?"auth.login.error.serverError":"auth.login.error.unknown";p(s(E));return}const A=v.user?.role;n(A==="admin"?"/admin/dashboard":A==="tutor"?"/tutor/dashboard":A==="alumni"?"/alumni/dashboard":"/student/dashboard")};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center px-6 relative",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${_c})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[c.jsx("div",{className:"absolute top-4 left-4 z-10",children:c.jsx("button",{onClick:()=>n("/"),className:"bg-white bg-opacity-20 backdrop-blur-sm text-white px-3 py-2 rounded-lg hover:bg-opacity-30 transition-all duration-200 flex items-center gap-2",title:s("nav.home"),children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}),c.jsx("div",{className:"absolute top-4 right-4 z-10",children:c.jsx("button",{onClick:()=>t(e==="en"?"ar":"en"),className:"bg-white bg-opacity-20 backdrop-blur-sm text-white px-3 py-2 rounded-lg hover:bg-opacity-30 transition-all duration-200 flex items-center gap-2",title:e==="en"?"":"English",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.22 18.22 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})})})}),c.jsx(Ro,{isLoading:m,loadingText:s("auth.login.signingIn"),overlayColor:"rgba(0, 0, 0, 0.8)",spinnerColor:"var(--primary-color)",textColor:"white",children:c.jsxs(gn,{className:"w-full max-w-md bg-white bg-opacity-90 shadow-lg",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("img",{src:bf,alt:"EduPlatform Logo",className:"w-16 h-16 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s("auth.login.title")}),c.jsx("p",{className:"text-gray-600",children:s("auth.login.subtitle")})]}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsx(Hr,{label:s("auth.login.email"),type:"email",placeholder:s("auth.login.emailPlaceholder"),value:a,onChange:C=>l(C.target.value),required:!0}),c.jsx(Hr,{label:s("auth.login.password"),type:"password",placeholder:s("auth.login.passwordPlaceholder"),value:u,onChange:C=>d(C.target.value),required:!0}),f&&c.jsx("div",{className:"text-red-600 text-sm text-center",children:f}),c.jsx(ns,{type:"submit",className:"w-full",disabled:m,children:s(m?"auth.login.signingIn":"auth.login.signIn")}),c.jsxs("p",{className:"text-center text-sm text-gray-600",children:[s("auth.login.noAccount")," ",c.jsx("span",{onClick:()=>n("/signup"),className:"text-blue-600 hover:underline cursor-pointer",children:s("auth.login.signUp")})]})]})]})})]})},XA=()=>{const{signup:r}=Cr(),{language:e,setLanguage:t,t:s}=yt(),n=Ji(),[a,l]=H.useState("student"),[u,d]=H.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[f,p]=H.useState(""),[m,y]=H.useState(!1),w=v=>{d({...u,[v.target.name]:v.target.value})},C=async()=>{if(y(!0),p(""),u.password!==u.confirmPassword){p(s("auth.signup.error.passwordMismatch")),y(!1);return}if(u.password.length<6){p(s("auth.signup.error.passwordTooShort")),y(!1);return}if(!u.email||!u.firstName||!u.lastName||!u.password){p(s("auth.signup.error.requiredFields")),y(!1);return}const v=await r({email:u.email,password:u.password,password_confirm:u.confirmPassword,first_name:u.firstName,last_name:u.lastName,role:a});if(y(!1),v.success)alert(s("auth.signup.success.accountCreated")),n("/login");else{const A=v.error?.toLowerCase().includes("email")&&v.error?.toLowerCase().includes("exists")?"auth.signup.error.emailExists":v.error?.toLowerCase().includes("network")?"auth.signup.error.networkError":v.error?.toLowerCase().includes("server")?"auth.signup.error.serverError":"auth.signup.error.unknown";p(s(A))}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center px-6 relative",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${_c})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[c.jsx("div",{className:"absolute top-4 left-4 z-10",children:c.jsx("button",{onClick:()=>n("/"),className:"bg-link hover:bg-primary bg-opacity-20 backdrop-blur-sm text-white px-3 py-2 rounded-lg hover:bg-opacity-30 transition-all duration-200 flex items-center gap-2",title:s("nav.home"),children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}),c.jsx("div",{className:"absolute top-4 right-4 z-10",children:c.jsx("button",{onClick:()=>t(e==="en"?"ar":"en"),className:"bg-link hover:bg-primary bg-opacity-20 backdrop-blur-sm text-white px-3 py-2 rounded-lg hover:bg-opacity-30 transition-all duration-200 flex items-center gap-2",title:e==="en"?"":"English",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.22 18.22 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})})})}),c.jsx(Ro,{isLoading:m,loadingText:s("auth.signup.creatingAccount"),overlayColor:"rgba(0, 0, 0, 0.8)",spinnerColor:"var(--primary-color)",textColor:"white",children:c.jsxs(gn,{className:"w-full max-w-md bg-white bg-opacity-90 shadow-lg",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("img",{src:bf,alt:"EduPlatform Logo",className:"w-16 h-16 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s("auth.signup.title")}),c.jsx("p",{className:"text-gray-600",children:s("auth.signup.subtitle")})]}),f&&c.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:f}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Hr,{label:s("auth.signup.firstName"),name:"firstName",type:"text",placeholder:s("auth.signup.firstNamePlaceholder"),value:u.firstName,onChange:w}),c.jsx(Hr,{label:s("auth.signup.lastName"),name:"lastName",type:"text",placeholder:s("auth.signup.lastNamePlaceholder"),value:u.lastName,onChange:w}),c.jsx(Hr,{label:s("auth.signup.email"),name:"email",type:"email",placeholder:s("auth.signup.emailPlaceholder"),value:u.email,onChange:w}),c.jsx(Hr,{label:s("auth.signup.password"),name:"password",type:"password",placeholder:s("auth.signup.passwordPlaceholder"),value:u.password,onChange:w}),c.jsx(Hr,{label:s("auth.signup.confirmPassword"),name:"confirmPassword",type:"password",placeholder:s("auth.signup.confirmPasswordPlaceholder"),value:u.confirmPassword,onChange:w}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:s("auth.signup.role")}),c.jsxs("select",{value:a,onChange:v=>l(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"student",children:s("auth.signup.roles.student")}),c.jsx("option",{value:"tutor",children:s("auth.signup.roles.tutor")}),c.jsx("option",{value:"admin",children:s("auth.signup.roles.admin")}),c.jsx("option",{value:"alumni",children:s("auth.signup.roles.alumni")})]})]}),c.jsx(ns,{onClick:C,className:"w-full",children:s("auth.signup.createAccount")}),c.jsxs("p",{className:"text-center text-sm text-gray-600",children:[s("auth.signup.hasAccount")," ",c.jsx("a",{href:"#",onClick:()=>n("/login"),className:"text-blue-600 hover:underline",children:s("auth.signup.signIn")})]})]})]})})]})};var yh={exports:{}},xh={};var xy;function YA(){if(xy)return xh;xy=1;var r=nn();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var t=typeof Object.is=="function"?Object.is:e,s=r.useState,n=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function u(m,y){var w=y(),C=s({inst:{value:w,getSnapshot:y}}),v=C[0].inst,A=C[1];return a(function(){v.value=w,v.getSnapshot=y,d(v)&&A({inst:v})},[m,w,y]),n(function(){return d(v)&&A({inst:v}),m(function(){d(v)&&A({inst:v})})},[m]),l(w),w}function d(m){var y=m.getSnapshot;m=m.value;try{var w=y();return!t(m,w)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return xh.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:p,xh}var vy;function QA(){return vy||(vy=1,yh.exports=YA()),yh.exports}var xv=QA();class sa{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(t=>t!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const yo=typeof window>"u";function Hs(){}function JA(r,e){return typeof r=="function"?r(e):r}function $h(r){return typeof r=="number"&&r>=0&&r!==1/0}function vv(r,e){return Math.max(r+(e||0)-Date.now(),0)}function bc(r,e,t){return Lo(r)?typeof e=="function"?{...t,queryKey:r,queryFn:e}:{...e,queryKey:r}:r}function ZA(r,e,t){return Lo(r)?typeof e=="function"?{...t,mutationKey:r,mutationFn:e}:{...e,mutationKey:r}:typeof r=="function"?{...e,mutationFn:r}:{...r}}function fr(r,e,t){return Lo(r)?[{...e,queryKey:r},t]:[r||{},e]}function by(r,e){const{type:t="all",exact:s,fetchStatus:n,predicate:a,queryKey:l,stale:u}=r;if(Lo(l)){if(s){if(e.queryHash!==wf(l,e.options))return!1}else if(!jc(e.queryKey,l))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof n<"u"&&n!==e.state.fetchStatus||a&&!a(e))}function wy(r,e){const{exact:t,fetching:s,predicate:n,mutationKey:a}=r;if(Lo(a)){if(!e.options.mutationKey)return!1;if(t){if(qr(e.options.mutationKey)!==qr(a))return!1}else if(!jc(e.options.mutationKey,a))return!1}return!(typeof s=="boolean"&&e.state.status==="loading"!==s||n&&!n(e))}function wf(r,e){return(e?.queryKeyHashFn||qr)(r)}function qr(r){return JSON.stringify(r,(e,t)=>Hh(t)?Object.keys(t).sort().reduce((s,n)=>(s[n]=t[n],s),{}):t)}function jc(r,e){return bv(r,e)}function bv(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!bv(r[t],e[t])):!1}function wv(r,e){if(r===e)return r;const t=Sy(r)&&Sy(e);if(t||Hh(r)&&Hh(e)){const s=t?r.length:Object.keys(r).length,n=t?e:Object.keys(e),a=n.length,l=t?[]:{};let u=0;for(let d=0;d<a;d++){const f=t?d:n[d];l[f]=wv(r[f],e[f]),l[f]===r[f]&&u++}return s===a&&u===s?r:l}return e}function e2(r,e){if(r&&!e||e&&!r)return!1;for(const t in r)if(r[t]!==e[t])return!1;return!0}function Sy(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Hh(r){if(!Cy(r))return!1;const e=r.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!Cy(t)||!t.hasOwnProperty("isPrototypeOf"))}function Cy(r){return Object.prototype.toString.call(r)==="[object Object]"}function Lo(r){return Array.isArray(r)}function Sv(r){return new Promise(e=>{setTimeout(e,r)})}function Ay(r){Sv(0).then(r)}function t2(){if(typeof AbortController=="function")return new AbortController}function Vh(r,e,t){return t.isDataEqual!=null&&t.isDataEqual(r,e)?r:t.structuralSharing!==!1?wv(r,e):e}class s2 extends sa{constructor(){super(),this.setup=e=>{if(!yo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Tc=new s2;class n2 extends sa{constructor(){super(),this.setup=e=>{if(!yo&&window.addEventListener){const t=()=>e();return window.addEventListener("online",t,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(s=>{typeof s=="boolean"?this.setOnline(s):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Pc=new n2;function r2(r){return Math.min(1e3*2**r,3e4)}function Zc(r){return(r??"online")==="online"?Pc.isOnline():!0}class Cv{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function wc(r){return r instanceof Cv}function Av(r){let e=!1,t=0,s=!1,n,a,l;const u=new Promise((A,E)=>{a=A,l=E}),d=A=>{s||(w(new Cv(A)),r.abort==null||r.abort())},f=()=>{e=!0},p=()=>{e=!1},m=()=>!Tc.isFocused()||r.networkMode!=="always"&&!Pc.isOnline(),y=A=>{s||(s=!0,r.onSuccess==null||r.onSuccess(A),n?.(),a(A))},w=A=>{s||(s=!0,r.onError==null||r.onError(A),n?.(),l(A))},C=()=>new Promise(A=>{n=E=>{if(s||!m())return A(E)},r.onPause==null||r.onPause()}).then(()=>{n=void 0,s||r.onContinue==null||r.onContinue()}),v=()=>{if(s)return;let A;try{A=r.fn()}catch(E){A=Promise.reject(E)}Promise.resolve(A).then(y).catch(E=>{var D,O;if(s)return;const T=(D=r.retry)!=null?D:3,k=(O=r.retryDelay)!=null?O:r2,j=typeof k=="function"?k(t,E):k,R=T===!0||typeof T=="number"&&t<T||typeof T=="function"&&T(t,E);if(e||!R){w(E);return}t++,r.onFail==null||r.onFail(t,E),Sv(j).then(()=>{if(m())return C()}).then(()=>{e?w(E):v()})})};return Zc(r.networkMode)?v():C().then(v),{promise:u,cancel:d,continue:()=>{n?.()},cancelRetry:f,continueRetry:p}}const Sf=console;function i2(){let r=[],e=0,t=p=>{p()},s=p=>{p()};const n=p=>{let m;e++;try{m=p()}finally{e--,e||u()}return m},a=p=>{e?r.push(p):Ay(()=>{t(p)})},l=p=>(...m)=>{a(()=>{p(...m)})},u=()=>{const p=r;r=[],p.length&&Ay(()=>{s(()=>{p.forEach(m=>{t(m)})})})};return{batch:n,batchCalls:l,schedule:a,setNotifyFunction:p=>{t=p},setBatchNotifyFunction:p=>{s=p}}}const Nt=i2();class Nv{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$h(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(yo?1/0:300*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class a2 extends Nv{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Sf,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||o2(this.options),this.state=this.initialState,this.meta=e.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.meta=e?.meta,this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const s=Vh(this.state.data,e,this.options);return this.dispatch({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const s=this.promise;return(t=this.retryer)==null||t.cancel(e),s?s.then(Hs).catch(Hs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!vv(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var s,n;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(C=>C.options.queryFn);w&&this.setOptions(w.options)}Array.isArray(this.options.queryKey);const l=t2(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},d=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>{if(l)return this.abortSignalConsumed=!0,l.signal}})};d(u);const f=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn"),p={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f,meta:this.meta};if(d(p),(s=this.options.behavior)==null||s.onFetch(p),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((n=p.fetchOptions)==null?void 0:n.meta)){var m;this.dispatch({type:"fetch",meta:(m=p.fetchOptions)==null?void 0:m.meta})}const y=w=>{if(wc(w)&&w.silent||this.dispatch({type:"error",error:w}),!wc(w)){var C,v;(C=(v=this.cache.config).onError)==null||C.call(v,w,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Av({fn:p.fetchFn,abort:l?.abort.bind(l),onSuccess:w=>{var C,v;if(typeof w>"u"){y(new Error("Query data cannot be undefined"));return}this.setData(w),(C=(v=this.cache.config).onSuccess)==null||C.call(v,w,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:y,onFail:()=>{this.dispatch({type:"failed"})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=s=>{var n,a;switch(e.type){case"failed":return{...s,fetchFailureCount:s.fetchFailureCount+1};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,fetchFailureCount:0,fetchMeta:(n=e.meta)!=null?n:null,fetchStatus:Zc(this.options.networkMode)?"fetching":"paused",...!s.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(a=e.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0}};case"error":const l=e.error;return wc(l)&&l.revert&&this.revertState?{...this.revertState}:{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Nt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function o2(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u"?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,n=typeof e<"u";return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class l2 extends sa{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,s){var n;const a=t.queryKey,l=(n=t.queryHash)!=null?n:wf(a,t);let u=this.get(l);return u||(u=new a2({cache:this,logger:e.getLogger(),queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a),meta:t.meta}),this.add(u)),u}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(s=>s!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[s]=fr(e,t);return typeof s.exact>"u"&&(s.exact=!0),this.queries.find(n=>by(s,n))}findAll(e,t){const[s]=fr(e,t);return Object.keys(s).length>0?this.queries.filter(n=>by(s,n)):this.queries}notify(e){Nt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Nt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class c2 extends Nv{constructor(e){super(),this.options={...e.defaultOptions,...e.options},this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Sf,this.observers=[],this.state=e.state||Ev(),this.meta=e.meta,this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const e=()=>{var O;return this.retryer=Av({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:()=>{this.dispatch({type:"failed"})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(O=this.options.retry)!=null?O:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var s,n,a,l,u,d;if(!t){var f,p,m,y;this.dispatch({type:"loading",variables:this.options.variables}),(f=(p=this.mutationCache.config).onMutate)==null||f.call(p,this.state.variables,this);const T=await((m=(y=this.options).onMutate)==null?void 0:m.call(y,this.state.variables));T!==this.state.context&&this.dispatch({type:"loading",context:T,variables:this.state.variables})}const O=await e();return(s=(n=this.mutationCache.config).onSuccess)==null||s.call(n,O,this.state.variables,this.state.context,this),await((a=(l=this.options).onSuccess)==null?void 0:a.call(l,O,this.state.variables,this.state.context)),await((u=(d=this.options).onSettled)==null?void 0:u.call(d,O,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:O}),O}catch(O){try{var w,C,v,A,E,D;throw(w=(C=this.mutationCache.config).onError)==null||w.call(C,O,this.state.variables,this.state.context,this),await((v=(A=this.options).onError)==null?void 0:v.call(A,O,this.state.variables,this.state.context)),await((E=(D=this.options).onSettled)==null?void 0:E.call(D,void 0,O,this.state.variables,this.state.context)),O}finally{this.dispatch({type:"error",error:O})}}}dispatch(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:s.failureCount+1};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"loading":return{...s,context:e.context,data:void 0,error:null,isPaused:!Zc(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...s,data:e.data,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,isPaused:!1,status:"error"};case"setState":return{...s,...e.state}}};this.state=t(this.state),Nt.batch(()=>{this.observers.forEach(s=>{s.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Ev(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}class u2 extends sa{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,s){const n=new c2({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:s,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){Nt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>wy(e,t))}findAll(e){return this.mutations.filter(t=>wy(e,t))}notify(e){Nt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.mutations.filter(t=>t.state.isPaused);return Nt.batch(()=>e.reduce((t,s)=>t.then(()=>s.continue().catch(Hs)),Promise.resolve()))}}function d2(){return{onFetch:r=>{r.fetchFn=()=>{var e,t,s,n,a,l;const u=(e=r.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,d=(s=r.fetchOptions)==null||(n=s.meta)==null?void 0:n.fetchMore,f=d?.pageParam,p=d?.direction==="forward",m=d?.direction==="backward",y=((a=r.state.data)==null?void 0:a.pages)||[],w=((l=r.state.data)==null?void 0:l.pageParams)||[];let C=w,v=!1;const A=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>{var R;if((R=r.signal)!=null&&R.aborted)v=!0;else{var I;(I=r.signal)==null||I.addEventListener("abort",()=>{v=!0})}return r.signal}})},E=r.options.queryFn||(()=>Promise.reject("Missing queryFn")),D=(j,R,I,M)=>(C=M?[R,...C]:[...C,R],M?[I,...j]:[...j,I]),O=(j,R,I,M)=>{if(v)return Promise.reject("Cancelled");if(typeof I>"u"&&!R&&j.length)return Promise.resolve(j);const L={queryKey:r.queryKey,pageParam:I,meta:r.meta};A(L);const V=E(L);return Promise.resolve(V).then(U=>D(j,I,U,M))};let T;if(!y.length)T=O([]);else if(p){const j=typeof f<"u",R=j?f:Ny(r.options,y);T=O(y,j,R)}else if(m){const j=typeof f<"u",R=j?f:h2(r.options,y);T=O(y,j,R,!0)}else{C=[];const j=typeof r.options.getNextPageParam>"u";T=(u&&y[0]?u(y[0],0,y):!0)?O([],j,w[0]):Promise.resolve(D([],w[0],y[0]));for(let I=1;I<y.length;I++)T=T.then(M=>{if(u&&y[I]?u(y[I],I,y):!0){const V=j?w[I]:Ny(r.options,M);return O(M,j,V)}return Promise.resolve(D(M,w[I],y[I]))})}return T.then(j=>({pages:j,pageParams:C}))}}}}function Ny(r,e){return r.getNextPageParam==null?void 0:r.getNextPageParam(e[e.length-1],e)}function h2(r,e){return r.getPreviousPageParam==null?void 0:r.getPreviousPageParam(e[0],e)}class f2{constructor(e={}){this.queryCache=e.queryCache||new l2,this.mutationCache=e.mutationCache||new u2,this.logger=e.logger||Sf,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}mount(){this.unsubscribeFocus=Tc.subscribe(()=>{Tc.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Pc.subscribe(()=>{Pc.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})}unmount(){var e,t;(e=this.unsubscribeFocus)==null||e.call(this),(t=this.unsubscribeOnline)==null||t.call(this)}isFetching(e,t){const[s]=fr(e,t);return s.fetchStatus="fetching",this.queryCache.findAll(s).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var s;return(s=this.queryCache.find(e,t))==null?void 0:s.state.data}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.queryCache.find(e),a=n?.state.data,l=JA(t,a);if(typeof l>"u")return;const u=bc(e),d=this.defaultQueryOptions(u);return this.queryCache.build(this,d).setData(l,{...s,manual:!0})}setQueriesData(e,t,s){return Nt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e,t){var s;return(s=this.queryCache.find(e,t))==null?void 0:s.state}removeQueries(e,t){const[s]=fr(e,t),n=this.queryCache;Nt.batch(()=>{n.findAll(s).forEach(a=>{n.remove(a)})})}resetQueries(e,t,s){const[n,a]=fr(e,t,s),l=this.queryCache,u={type:"active",...n};return Nt.batch(()=>(l.findAll(n).forEach(d=>{d.reset()}),this.refetchQueries(u,a)))}cancelQueries(e,t,s){const[n,a={}]=fr(e,t,s);typeof a.revert>"u"&&(a.revert=!0);const l=Nt.batch(()=>this.queryCache.findAll(n).map(u=>u.cancel(a)));return Promise.all(l).then(Hs).catch(Hs)}invalidateQueries(e,t,s){const[n,a]=fr(e,t,s);return Nt.batch(()=>{var l,u;if(this.queryCache.findAll(n).forEach(f=>{f.invalidate()}),n.refetchType==="none")return Promise.resolve();const d={...n,type:(l=(u=n.refetchType)!=null?u:n.type)!=null?l:"active"};return this.refetchQueries(d,a)})}refetchQueries(e,t,s){const[n,a]=fr(e,t,s),l=Nt.batch(()=>this.queryCache.findAll(n).filter(d=>!d.isDisabled()).map(d=>{var f;return d.fetch(void 0,{...a,cancelRefetch:(f=a?.cancelRefetch)!=null?f:!0,meta:{refetchPage:n.refetchPage}})}));let u=Promise.all(l).then(Hs);return a!=null&&a.throwOnError||(u=u.catch(Hs)),u}fetchQuery(e,t,s){const n=bc(e,t,s),a=this.defaultQueryOptions(n);typeof a.retry>"u"&&(a.retry=!1);const l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(e,t,s){return this.fetchQuery(e,t,s).then(Hs).catch(Hs)}fetchInfiniteQuery(e,t,s){const n=bc(e,t,s);return n.behavior=d2(),this.fetchQuery(n)}prefetchInfiniteQuery(e,t,s){return this.fetchInfiniteQuery(e,t,s).then(Hs).catch(Hs)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const s=this.queryDefaults.find(n=>qr(e)===qr(n.queryKey));s?s.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(s=>jc(e,s.queryKey));return t?.defaultOptions}setMutationDefaults(e,t){const s=this.mutationDefaults.find(n=>qr(e)===qr(n.mutationKey));s?s.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(s=>jc(e,s.mutationKey));return t?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=wf(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class p2 extends sa{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Ey(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Wh(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wh(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const a=this.hasListeners();a&&ky(this.currentQuery,n,this.options,s)&&this.executeFetch(),this.updateResult(t),a&&(this.currentQuery!==n||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const l=this.computeRefetchInterval();a&&(this.currentQuery!==n||this.options.enabled!==s.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(s=>{Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),e[s])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Hs)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),yo||this.currentResult.isStale||!$h(this.options.staleTime))return;const t=vv(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(yo||this.options.enabled===!1||!$h(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Tc.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const s=this.currentQuery,n=this.options,a=this.currentResult,l=this.currentResultState,u=this.currentResultOptions,d=e!==s,f=d?e.state:this.currentQueryInitialState,p=d?this.currentResult:this.previousQueryResult,{state:m}=e;let{dataUpdatedAt:y,error:w,errorUpdatedAt:C,fetchStatus:v,status:A}=m,E=!1,D=!1,O;if(t._optimisticResults){const j=this.hasListeners(),R=!j&&Ey(e,t),I=j&&ky(e,s,t,n);(R||I)&&(v=Zc(e.options.networkMode)?"fetching":"paused",y||(A="loading")),t._optimisticResults==="isRestoring"&&(v="idle")}if(t.keepPreviousData&&!m.dataUpdateCount&&p!=null&&p.isSuccess&&A!=="error")O=p.data,y=p.dataUpdatedAt,A=p.status,E=!0;else if(t.select&&typeof m.data<"u")if(a&&m.data===l?.data&&t.select===this.selectFn)O=this.selectResult;else try{this.selectFn=t.select,O=t.select(m.data),O=Vh(a?.data,O,t),this.selectResult=O,this.selectError=null}catch(j){this.selectError=j}else O=m.data;if(typeof t.placeholderData<"u"&&typeof O>"u"&&A==="loading"){let j;if(a!=null&&a.isPlaceholderData&&t.placeholderData===u?.placeholderData)j=a.data;else if(j=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof j<"u")try{j=t.select(j),j=Vh(a?.data,j,t),this.selectError=null}catch(R){this.selectError=R}typeof j<"u"&&(A="success",O=j,D=!0)}this.selectError&&(w=this.selectError,O=this.selectResult,C=Date.now(),A="error");const T=v==="fetching";return{status:A,fetchStatus:v,isLoading:A==="loading",isSuccess:A==="success",isError:A==="error",data:O,dataUpdatedAt:y,error:w,errorUpdatedAt:C,failureCount:m.fetchFailureCount,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:T,isRefetching:T&&A!=="loading",isLoadingError:A==="error"&&m.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:D,isPreviousData:E,isRefetchError:A==="error"&&m.dataUpdatedAt!==0,isStale:Cf(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,e2(s,t))return;this.currentResult=s;const n={cache:!0},a=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options;if(l==="all"||!l&&!this.trackedProps.size)return!0;const u=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(d=>{const f=d;return this.currentResult[f]!==t[f]&&u.has(f)})};e?.listeners!==!1&&a()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!wc(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Nt.batch(()=>{if(e.onSuccess){var t,s,n,a;(t=(s=this.options).onSuccess)==null||t.call(s,this.currentResult.data),(n=(a=this.options).onSettled)==null||n.call(a,this.currentResult.data,null)}else if(e.onError){var l,u,d,f;(l=(u=this.options).onError)==null||l.call(u,this.currentResult.error),(d=(f=this.options).onSettled)==null||d.call(f,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(p=>{p(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function m2(r,e){return e.enabled!==!1&&!r.state.dataUpdatedAt&&!(r.state.status==="error"&&e.retryOnMount===!1)}function Ey(r,e){return m2(r,e)||r.state.dataUpdatedAt>0&&Wh(r,e,e.refetchOnMount)}function Wh(r,e,t){if(e.enabled!==!1){const s=typeof t=="function"?t(r):t;return s==="always"||s!==!1&&Cf(r,e)}return!1}function ky(r,e,t,s){return t.enabled!==!1&&(r!==e||s.enabled===!1)&&(!t.suspense||r.state.status!=="error")&&Cf(r,t)}function Cf(r,e){return r.isStaleByTime(e.staleTime)}let g2=class extends sa{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){this.options=this.client.defaultMutationOptions(e)}onUnsubscribe(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Ev(),t={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){Nt.batch(()=>{if(this.mutateOptions){if(e.onSuccess){var t,s,n,a;(t=(s=this.mutateOptions).onSuccess)==null||t.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(n=(a=this.mutateOptions).onSettled)==null||n.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var l,u,d,f;(l=(u=this.mutateOptions).onError)==null||l.call(u,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(d=(f=this.mutateOptions).onSettled)==null||d.call(f,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(p=>{p(this.currentResult)})})}};const _y=H.createContext(void 0),kv=H.createContext(!1);function _v(r,e){return r||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=_y),window.ReactQueryClientContext):_y)}const Af=({context:r}={})=>{const e=H.useContext(_v(r,H.useContext(kv)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},y2=({client:r,children:e,context:t,contextSharing:s=!1})=>{H.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]);const n=_v(t,s);return H.createElement(kv.Provider,{value:!t&&s},H.createElement(n.Provider,{value:r},e))},jv=H.createContext(!1),x2=()=>H.useContext(jv);jv.Provider;function v2(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}const b2=H.createContext(v2()),w2=()=>H.useContext(b2);function Tv(r,e){return typeof r=="function"?r(...e):!!r}function S2(r,e){const t=Af({context:r.context}),s=x2(),n=w2(),a=t.defaultQueryOptions(r);a._optimisticResults=s?"isRestoring":"optimistic",a.onError&&(a.onError=Nt.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Nt.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Nt.batchCalls(a.onSettled)),a.suspense&&typeof a.staleTime!="number"&&(a.staleTime=1e3),(a.suspense||a.useErrorBoundary)&&(n.isReset()||(a.retryOnMount=!1));const[l]=H.useState(()=>new e(t,a)),u=l.getOptimisticResult(a);if(xv.useSyncExternalStore(H.useCallback(d=>s?()=>{}:l.subscribe(Nt.batchCalls(d)),[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),H.useEffect(()=>{n.clearReset()},[n]),H.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),a.suspense&&u.isLoading&&u.isFetching&&!s)throw l.fetchOptimistic(a).then(({data:d})=>{a.onSuccess==null||a.onSuccess(d),a.onSettled==null||a.onSettled(d,null)}).catch(d=>{n.clearReset(),a.onError==null||a.onError(d),a.onSettled==null||a.onSettled(void 0,d)});if(u.isError&&!n.isReset()&&!u.isFetching&&Tv(a.useErrorBoundary,[u.error,l.getCurrentQuery()]))throw u.error;return a.notifyOnChangeProps?u:l.trackResult(u)}function kt(r,e,t){const s=bc(r,e,t);return S2(s,p2)}function Rt(r,e,t){const s=ZA(r,e,t),n=Af({context:s.context}),[a]=H.useState(()=>new g2(n,s));H.useEffect(()=>{a.setOptions(s)},[a,s]);const l=xv.useSyncExternalStore(H.useCallback(d=>a.subscribe(Nt.batchCalls(d)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=H.useCallback((d,f)=>{a.mutate(d,f).catch(C2)},[a]);if(l.error&&Tv(a.options.useErrorBoundary,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}function C2(){}const Pv=H.createContext(),A2=({children:r})=>{const{user:e}=Cr(),t=Af(),{data:s,isLoading:n}=kt("dashboard-stats",async()=>{const pe=await Oe.get(je.COMMUNICATION.STATISTICS);return Array.isArray(pe.data)?pe.data[0]:pe.data||{active_students:0,courses:0,success_rate:0,tutors:0}},{enabled:!!e,staleTime:300*1e3}),{data:a,isLoading:l}=kt("student-dashboard",async()=>(await Oe.get(je.DASHBOARD.STUDENT)).data,{enabled:e?.role==="student",staleTime:120*1e3}),{data:u,isLoading:d}=kt("courses",async()=>{let pe=je.ACADEMICS.COURSES;return e?.role==="student"?pe=je.ACADEMICS.ENROLLMENTS:e?.role==="tutor"&&(pe=`${je.ACADEMICS.COURSES}?tutor=${e.id}`),(await Oe.get(pe)).data},{enabled:!!e,staleTime:300*1e3}),{data:f,isLoading:p}=kt("class-schedules",async()=>(await Oe.get(je.ACADEMICS.CLASS_SCHEDULES)).data,{enabled:e?.role==="student",staleTime:600*1e3}),{data:m,isLoading:y}=kt("attendance",async()=>(await Oe.get(je.ACADEMICS.ATTENDANCE)).data,{enabled:e?.role==="student",staleTime:300*1e3}),{data:w,isLoading:C}=kt("assignments",async()=>{let pe=je.ACADEMICS.ASSIGNMENTS;if(e?.role==="student"){const Vt=(await Oe.get(je.ACADEMICS.ENROLLMENTS)).data.map(an=>an.course);Vt.length>0&&(pe+=`?course__in=${Vt.join(",")}`)}else if(e?.role==="tutor"){const Vt=(await Oe.get(`${je.ACADEMICS.COURSES}?tutor=${e.id}`)).data.map(an=>an.id);Vt.length>0&&(pe+=`?course__in=${Vt.join(",")}`)}return(await Oe.get(pe)).data},{enabled:!!e,staleTime:120*1e3}),{data:v,isLoading:A}=kt("news",async()=>(await Oe.get(je.COMMUNICATION.NEWS)).data,{enabled:!!e,staleTime:600*1e3}),{data:E,isLoading:D}=kt("events",async()=>(await Oe.get(je.COMMUNICATION.EVENTS)).data,{enabled:!!e,staleTime:600*1e3}),{data:O,isLoading:T}=kt("testimonials",async()=>(await Oe.get(je.COMMUNICATION.TESTIMONIALS)).data,{enabled:!!e,staleTime:600*1e3}),{data:k,isLoading:j}=kt("all-testimonials",async()=>(await Oe.get(`${je.COMMUNICATION.TESTIMONIALS}`)).data,{enabled:e?.role==="admin",staleTime:120*1e3}),{data:R,isLoading:I}=kt("pending-testimonials",async()=>(await Oe.get(`${je.COMMUNICATION.TESTIMONIALS}?approved=false`)).data,{enabled:e?.role==="admin",staleTime:60*1e3}),{data:M,isLoading:L}=kt("campus-life",async()=>(await Oe.get(je.COMMUNICATION.CAMPUS_LIFE)).data,{enabled:!!e,staleTime:600*1e3}),V=Hc.useMemo(()=>!v||!E||!O||!M?[]:[...v.map(pe=>({...pe,type:"news"})),...E.map(pe=>({...pe,type:"event"})),...O.map(pe=>({...pe,type:"testimonial"})),...M.map(pe=>({...pe,type:"campus_life"}))].sort((pe,Ge)=>new Date(Ge.created_at)-new Date(pe.created_at)),[v,E,O,M]),X=A||D||T||L,{data:U,isLoading:K}=kt("users",async()=>(await Oe.get(je.USERS)).data,{enabled:e?.role==="admin",staleTime:300*1e3}),{data:J,isLoading:Q}=kt("student-profiles",async()=>(await Oe.get(je.STUDENTS.PROFILES)).data,{enabled:e?.role==="admin",staleTime:300*1e3}),{data:b,isLoading:q}=kt("tutor-profiles",async()=>(await Oe.get(je.TUTORS.PROFILES)).data,{enabled:e?.role==="admin",staleTime:300*1e3}),F=Rt(async pe=>(await Oe.put(`${je.COMMUNICATION.STATISTICS}1/`,pe)).data,{onSuccess:()=>{t.invalidateQueries("dashboard-stats")}}),N=Rt(async({type:pe,data:Ge})=>{let ut="";switch(pe){case"news":ut=je.COMMUNICATION.NEWS;break;case"event":ut=je.COMMUNICATION.EVENTS;break;case"testimonial":ut=je.COMMUNICATION.TESTIMONIALS;break;case"campus_life":ut=je.COMMUNICATION.CAMPUS_LIFE;break;default:throw new Error("Invalid announcement type")}return(await Oe.post(ut,Ge)).data},{onSuccess:()=>{t.invalidateQueries("announcements")}}),_=Rt(async({type:pe,id:Ge,data:ut})=>{let Vt="";switch(pe){case"news":Vt=`${je.COMMUNICATION.NEWS}${Ge}/`;break;case"event":Vt=`${je.COMMUNICATION.EVENTS}${Ge}/`;break;case"testimonial":Vt=`${je.COMMUNICATION.TESTIMONIALS}${Ge}/`;break;case"campus_life":Vt=`${je.COMMUNICATION.CAMPUS_LIFE}${Ge}/`;break;default:throw new Error("Invalid announcement type")}return(await Oe.put(Vt,ut)).data},{onSuccess:()=>{t.invalidateQueries("announcements")}}),B=Rt(async({type:pe,id:Ge})=>{let ut="";switch(pe){case"news":ut=`${je.COMMUNICATION.NEWS}${Ge}/`;break;case"event":ut=`${je.COMMUNICATION.EVENTS}${Ge}/`;break;case"testimonial":ut=`${je.COMMUNICATION.TESTIMONIALS}${Ge}/`;break;case"campus_life":ut=`${je.COMMUNICATION.CAMPUS_LIFE}${Ge}/`;break;default:throw new Error("Invalid announcement type")}await Oe.delete(ut)},{onSuccess:()=>{t.invalidateQueries("announcements")}}),{data:te,isLoading:ee}=kt("tutor-dashboard",async()=>(await Oe.get(je.DASHBOARD.TUTOR)).data,{enabled:e?.role==="tutor",staleTime:120*1e3}),{data:le,isLoading:ae}=kt("pending-submissions",async()=>(await Oe.get(`${je.ACADEMICS.SUBMISSIONS}?grade__isnull=true`)).data,{enabled:e?.role==="tutor",staleTime:60*1e3}),W=Rt(async({submissionId:pe,grade:Ge,feedback:ut})=>(await Oe.post(`${je.ACADEMICS.SUBMISSIONS}${pe}/grade/`,{grade:Ge,feedback:ut})).data,{onSuccess:()=>{t.invalidateQueries("pending-submissions"),t.invalidateQueries("submissions"),t.invalidateQueries("tutor-dashboard")}}),{data:ne,isLoading:ce}=kt("class-schedules-tutor",async()=>(await Oe.get(je.ACADEMICS.CLASS_SCHEDULES)).data,{enabled:e?.role==="tutor",staleTime:600*1e3}),me=Rt(async pe=>(await Oe.post(je.STUDENTS.PROFILES,pe)).data,{onSuccess:()=>{t.invalidateQueries("student-profiles"),t.invalidateQueries("users")}}),Ie=Rt(async({id:pe,data:Ge})=>(await Oe.put(`${je.STUDENTS.PROFILES}${pe}/`,Ge)).data,{onSuccess:()=>{t.invalidateQueries("student-profiles"),t.invalidateQueries("users")}}),Fe=Rt(async pe=>{await Oe.delete(`${je.STUDENTS.PROFILES}${pe}/`)},{onSuccess:()=>{t.invalidateQueries("student-profiles"),t.invalidateQueries("users")}}),ye=Rt(async pe=>(await Oe.post(je.TUTORS.PROFILES,pe)).data,{onSuccess:()=>{t.invalidateQueries("tutor-profiles"),t.invalidateQueries("users")}}),ve=Rt(async({id:pe,data:Ge})=>(await Oe.put(`${je.TUTORS.PROFILES}${pe}/`,Ge)).data,{onSuccess:()=>{t.invalidateQueries("tutor-profiles"),t.invalidateQueries("users")}}),_e=Rt(async pe=>{await Oe.delete(`${je.TUTORS.PROFILES}${pe}/`)},{onSuccess:()=>{t.invalidateQueries("tutor-profiles"),t.invalidateQueries("users")}}),Be=Rt(async pe=>(await Oe.post(`${je.COMMUNICATION.TESTIMONIALS}${pe}/approve/`)).data,{onSuccess:()=>{t.invalidateQueries("testimonials"),t.invalidateQueries("pending-testimonials"),t.invalidateQueries("all-testimonials")}}),Pe=Rt(async pe=>(await Oe.post(`${je.COMMUNICATION.TESTIMONIALS}${pe}/unapprove/`)).data,{onSuccess:()=>{t.invalidateQueries("testimonials"),t.invalidateQueries("pending-testimonials"),t.invalidateQueries("all-testimonials")}}),Qe=Rt(async pe=>(await Oe.patch(`${je.COMMUNICATION.TESTIMONIALS}${pe}/toggle_approval/`)).data,{onSuccess:()=>{t.invalidateQueries("testimonials"),t.invalidateQueries("pending-testimonials"),t.invalidateQueries("all-testimonials")}}),{data:et,isLoading:nt}=kt("contact-messages",async()=>(await Oe.get(je.COMMUNICATION.CONTACT)).data,{enabled:e?.role==="admin",staleTime:120*1e3}),{data:tt,isLoading:Ht}=kt("unread-messages",async()=>(await Oe.get(`${je.COMMUNICATION.CONTACT}?read=false`)).data,{enabled:e?.role==="admin",staleTime:60*1e3}),{data:Ns,isLoading:Ws}=kt("books",async()=>(await Oe.get(je.COMMUNICATION.BOOKS)).data,{enabled:e?.role==="admin",staleTime:300*1e3}),os=Rt(async pe=>(await Oe.post(`${je.COMMUNICATION.CONTACT}${pe}/mark_read/`)).data,{onSuccess:()=>{t.invalidateQueries("contact-messages"),t.invalidateQueries("unread-messages")}}),qs=Rt(async pe=>(await Oe.post(`${je.COMMUNICATION.CONTACT}${pe}/mark_replied/`)).data,{onSuccess:()=>{t.invalidateQueries("contact-messages"),t.invalidateQueries("unread-messages")}}),ot=Rt(async pe=>{await Oe.delete(`${je.COMMUNICATION.CONTACT}${pe}/`)},{onSuccess:()=>{t.invalidateQueries("contact-messages"),t.invalidateQueries("unread-messages")}}),Ct=Rt(async pe=>(await Oe.post(je.COMMUNICATION.BOOKS,pe)).data,{onSuccess:()=>{t.invalidateQueries("books")}}),Qt=Rt(async({id:pe,data:Ge})=>(await Oe.put(`${je.COMMUNICATION.BOOKS}${pe}/`,Ge)).data,{onSuccess:()=>{t.invalidateQueries("books")}}),fs=Rt(async pe=>{await Oe.delete(`${je.COMMUNICATION.BOOKS}${pe}/`)},{onSuccess:()=>{t.invalidateQueries("books")}}),Cn={stats:s,courses:u,assignments:w,announcements:V,users:U,studentDashboard:a,classSchedules:f,attendance:m,news:v,events:E,testimonials:O,campusLife:M,studentProfiles:J,tutorProfiles:b,tutorDashboard:te,pendingSubmissions:le,tutorClassSchedules:ne,allTestimonials:k,pendingTestimonials:R,contactMessages:et,unreadMessages:tt,books:Ns,statsLoading:n,coursesLoading:d,assignmentsLoading:C,announcementsLoading:X,usersLoading:K,newsLoading:A,eventsLoading:D,testimonialsLoading:T,campusLifeLoading:L,studentProfilesLoading:Q,tutorProfilesLoading:q,studentDashboardLoading:l,classSchedulesLoading:p,attendanceLoading:y,tutorDashboardLoading:ee,pendingSubmissionsLoading:ae,tutorClassSchedulesLoading:ce,allTestimonialsLoading:j,pendingTestimonialsLoading:I,contactMessagesLoading:nt,unreadMessagesLoading:Ht,booksLoading:Ws,updateStats:F.mutateAsync,createAnnouncement:N.mutateAsync,updateAnnouncement:_.mutateAsync,deleteAnnouncement:B.mutateAsync,createStudent:me.mutateAsync,updateStudent:Ie.mutateAsync,deleteStudent:Fe.mutateAsync,createTutor:ye.mutateAsync,updateTutor:ve.mutateAsync,deleteTutor:_e.mutateAsync,gradeSubmission:W.mutateAsync,approveTestimonial:Be.mutateAsync,unapproveTestimonial:Pe.mutateAsync,toggleTestimonialApproval:Qe.mutateAsync,markMessageRead:os.mutateAsync,markMessageReplied:qs.mutateAsync,deleteContactMessage:ot.mutateAsync,createBook:Ct.mutateAsync,updateBook:Qt.mutateAsync,deleteBook:fs.mutateAsync,updatingStats:F.isLoading,creatingAnnouncement:N.isLoading,updatingAnnouncement:_.isLoading,deletingAnnouncement:B.isLoading,creatingStudent:me.isLoading,updatingStudent:Ie.isLoading,deletingStudent:Fe.isLoading,creatingTutor:ye.isLoading,updatingTutor:ve.isLoading,deletingTutor:_e.isLoading,gradingSubmission:W.isLoading,approvingTestimonial:Be.isLoading,unapprovingTestimonial:Pe.isLoading,togglingTestimonialApproval:Qe.isLoading,markingMessageRead:os.isLoading,markingMessageReplied:qs.isLoading,deletingContactMessage:ot.isLoading,creatingBook:Ct.isLoading,updatingBook:Qt.isLoading,deletingBook:fs.isLoading};return c.jsx(Pv.Provider,{value:Cn,children:r})},eu=()=>{const r=H.useContext(Pv);if(!r)throw new Error("useDashboard must be used within a DashboardProvider");return r},dr=({icon:r,title:e,value:t,change:s,color:n="blue"})=>{const a={blue:"bg-accent text-link",green:"bg-accent text-success",purple:"bg-accent text-link",orange:"bg-accent text-warning"};return c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text",children:e}),c.jsx("p",{className:"text-2xl font-bold text-text",children:t}),s&&c.jsx("p",{className:"text-sm text-accent",children:s})]}),c.jsx("div",{className:`p-3 rounded-full ${a[n]}`,children:c.jsx(r,{className:"w-6 h-6"})})]})})},Rv=({progress:r,className:e="",showPercentage:t=!0,color:s="blue"})=>{const n={blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",red:"bg-red-600",purple:"bg-purple-600"};return c.jsxs("div",{className:`w-full bg-gray-200 rounded-full h-2 ${e}`,children:[c.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${n[s]}`,style:{width:`${Math.min(Math.max(r,0),100)}%`}}),t&&c.jsxs("div",{className:"text-xs text-gray-600 mt-1 text-center",children:[Math.round(r),"%"]})]})},Nf=()=>{const{user:r,logout:e}=Cr(),{t}=yt(),s=Ji(),n=async()=>{if(window.confirm(t("dashboardFooter.confirm.logout")||"Are you sure you want to logout?"))try{await e()}catch(d){console.error("Logout error:",d)}},a=new Date().getFullYear(),l=()=>{window.scrollTo({top:0,behavior:"smooth"})},u=d=>{s(d),l()};return c.jsx("footer",{className:"shadow-sm border-t mt-auto animate-gradient",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--primary-color)"},children:c.jsx("span",{className:"text-white font-bold text-sm",children:"U"})}),c.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--light-text)"},children:t("dashboardFooter.university.name")})]}),c.jsx("p",{className:"text-sm",style:{color:"var(--light-text)"},children:t("dashboardFooter.university.description")}),c.jsx("div",{className:"flex gap-2",children:c.jsxs("div",{className:"flex items-center gap-1 text-xs",style:{color:"var(--light-text)"},children:[c.jsx(IC,{className:"w-3 h-3"}),c.jsx("span",{children:t("dashboardFooter.university.campus")})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold",style:{color:"var(--light-text)"},children:t("dashboardFooter.quickLinks.title")}),c.jsxs("nav",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>u("/"),className:"flex items-center gap-2 text-sm hover:scale-105 transition-all w-full text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:[c.jsx(cv,{className:"w-4 h-4"}),t("dashboardFooter.quickLinks.home")]}),c.jsxs("button",{onClick:()=>u("/dashboard"),className:"flex items-center gap-2 text-sm hover:scale-105 transition-all w-full text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:[c.jsx(nA,{className:"w-4 h-4"}),t("dashboardFooter.quickLinks.dashboard")]}),c.jsxs("button",{onClick:()=>u("/profile"),className:"flex items-center gap-2 text-sm hover:scale-105 transition-all w-full text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:[c.jsx(Yc,{className:"w-4 h-4"}),t("dashboardFooter.quickLinks.profile")]})]})]}),r?.role==="admin"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold",style:{color:"var(--light-text)"},children:t("dashboardFooter.admin.title")}),c.jsxs("nav",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>u("/admin/statistics"),className:"block text-sm hover:scale-105 transition-all w-full text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:t("dashboardFooter.admin.statistics")}),c.jsx("button",{onClick:()=>u("/admin/students"),className:"block text-sm hover:scale-105 transition-all w-full text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:t("dashboardFooter.admin.manageStudents")}),c.jsx("button",{onClick:()=>u("/admin/tutors"),className:"block text-sm hover:scale-105 transition-all w-full text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:t("dashboardFooter.admin.manageTutors")}),c.jsx("button",{onClick:()=>u("/admin/content"),className:"block text-sm hover:scale-105 transition-all w-full text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:t("dashboardFooter.admin.contentManagement")})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold",style:{color:"var(--light-text)"},children:t("dashboardFooter.support.title")}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--light-text)"},children:[c.jsx(OC,{className:"w-4 h-4"}),c.jsx("span",{children:t("dashboardFooter.support.email")})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--light-text)"},children:[c.jsx(VC,{className:"w-4 h-4"}),c.jsx("span",{children:t("dashboardFooter.support.phone")})]}),c.jsxs("button",{onClick:()=>u("/help"),className:"flex items-center gap-2 text-sm hover:scale-105 transition-all w-full text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:[c.jsx(CC,{className:"w-4 h-4"}),t("dashboardFooter.support.helpCenter")]})]})]})]}),c.jsxs("div",{className:"border-t mt-8 pt-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("p",{className:"text-sm",style:{color:"var(--light-text)"},children:t("dashboardFooter.copyright").replace("{year}",a)}),c.jsxs("div",{className:"flex gap-4 text-xs",children:[c.jsx("button",{onClick:()=>u("/privacy"),className:"hover:scale-105 transition-all text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:t("dashboardFooter.legal.privacyPolicy")}),c.jsx("button",{onClick:()=>u("/terms"),className:"hover:scale-105 transition-all text-left",style:{color:"var(--light-text)"},onMouseEnter:d=>d.target.style.color="var(--primary-color)",onMouseLeave:d=>d.target.style.color="var(--light-text)",children:t("dashboardFooter.legal.termsOfService")})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[r&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--light-text)"},children:[c.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-semibold",style:{backgroundColor:"var(--primary-color)"},children:r.first_name?.charAt(0)||"U"}),c.jsxs("span",{children:[t("dashboardFooter.user.welcome"),", ",r.first_name," ",r.last_name]}),c.jsx("span",{className:"px-2 py-1 text-xs rounded",style:{backgroundColor:"rgba(255,255,255,0.2)",color:"var(--light-text)"},children:r.role})]}),c.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:scale-105 transition-all hover-glow",style:{backgroundColor:"var(--error-color)",color:"var(--light-text)"},children:[c.jsx(LC,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:t("dashboardFooter.user.logout")})]})]})]})]})})},Lv=({className:r=""})=>{const{language:e,setLanguage:t}=yt(),s=()=>{t(e==="en"?"ar":"en")};return c.jsx("div",{className:`relative inline-block text-left ${r}`,children:c.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors","aria-label":"Toggle language",children:[c.jsx("span",{className:"text-lg",children:e==="en"?"":""}),c.jsx("span",{className:"hidden sm:inline",children:e==="en"?"English":""}),c.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})]})})},Rc=()=>{const{t:r}=yt(),[e,t]=H.useState("overview"),{studentDashboard:s,studentDashboardLoading:n,courses:a,assignments:l,classSchedules:u,attendance:d,coursesLoading:f,assignmentsLoading:p,classSchedulesLoading:m,attendanceLoading:y,news:w,events:C}=eu(),v=a?.map(b=>({id:b.course?.id||b.id,name:b.course?.title||r("student.fallbacks.course"),code:b.course?.code||"",progress:b.progress||0,grade:b.grade||null,status:b.status||"enrolled",nextClass:u?.find(q=>q.course===b.course?.id)?.scheduled_date||r("student.fallbacks.toBeDetermined")}))||[],A=l?.map(b=>({id:b.id,title:b.title,course:b.course?.title||r("student.fallbacks.course"),due:b.due_date,status:b.submissions?.[0]?.grade?"completed":b.submissions?.[0]?"inProgress":"pending",grade:b.submissions?.[0]?.grade||null,feedback:b.submissions?.[0]?.feedback||null,type:b.assignment_type||r("student.fallbacks.general")}))||[],E=u?.filter(b=>new Date(b.scheduled_date)>=new Date).slice(0,3)||[],D=w?.filter(b=>b.published).slice(0,3)||[],O=C?.filter(b=>b.published&&new Date(b.event_date)>=new Date).slice(0,3)||[],T=s||{enrolled_courses:v.length,completed_courses:v.filter(b=>b.status==="completed").length,pending_assignments:A.filter(b=>b.status==="pending").length,overall_progress:v.length>0?v.reduce((b,q)=>b+q.progress,0)/v.length:0,avg_grade:A.filter(b=>b.grade).reduce((b,q,F,N)=>b+q.grade/N.length,0)||0,attendance_rate:d?.filter(b=>b.status==="present"||b.status==="late").length/(d?.length||1)*100||0},k=T.enrolled_courses||0,j=T.completed_courses||0,R=T.pending_assignments||0,I=Math.round(T.overall_progress||0),M=Math.round((T.avg_grade||0)*10)/10,L=Math.round(T.attendance_rate||0),V=A.filter(b=>new Date(b.due)>=new Date&&b.status!=="completed").slice(0,5),X=A.filter(b=>b.status==="completed").slice(0,5),U=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(dr,{icon:Bn,title:r("student.enrolledCourses"),value:k.toString(),change:`${j} ${r("student.completedCourses").toLowerCase()}`,color:"blue"}),c.jsx(dr,{icon:yr,title:r("student.pendingAssignments"),value:R.toString(),change:r("student.dueThisWeek"),color:"orange"}),c.jsx(dr,{icon:JC,title:r("student.overallProgress"),value:`${I}%`,change:r("student.courseCompletion"),color:"green"}),c.jsx(dr,{icon:co,title:r("student.averageGrade"),value:M>0?`${M}%`:r("student.fallbacks.notAvailable"),change:r("student.assignmentAverage"),color:"purple"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(dr,{icon:Bh,title:r("student.attendanceRate"),value:`${L}%`,change:r("student.classAttendance"),color:"indigo"}),c.jsx(dr,{icon:Vs,title:r("student.upcomingClasses"),value:E.length.toString(),change:r("student.next7Days"),color:"cyan"}),c.jsx(dr,{icon:Fh,title:r("student.completedTasks"),value:X.length.toString(),change:r("student.thisMonth"),color:"emerald"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(gn,{title:r("student.courseProgress"),action:c.jsxs(ns,{variant:"outline",size:"sm",children:[r("student.viewAll")," ",c.jsx(ro,{className:"w-4 h-4 ml-1"})]}),children:f?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-600 mt-2",children:r("student.loadingCourses")})]}):v.length>0?c.jsx("div",{className:"space-y-4",children:v.slice(0,4).map(b=>c.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:b.name}),c.jsx("p",{className:"text-sm text-gray-600",children:b.code})]}),c.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[b.progress,"%"]})]}),c.jsx(Rv,{progress:b.progress,className:"mb-2",color:b.status==="completed"?"green":"blue"}),c.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[c.jsxs("span",{children:[r("student.status"),": ",b.status]}),b.grade&&c.jsxs("span",{children:[r("student.grade"),": ",b.grade,"%"]})]})]},b.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Bn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:r("student.noCoursesEnrolled")})]})}),c.jsx(gn,{title:r("student.assignmentStatus"),action:c.jsxs(ns,{variant:"outline",size:"sm",children:[r("student.viewAll")," ",c.jsx(ro,{className:"w-4 h-4 ml-1"})]}),children:p?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-600 mt-2",children:r("student.loadingAssignments")})]}):A.length>0?c.jsx("div",{className:"space-y-3",children:A.slice(0,5).map(b=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-gray-800",children:b.title}),c.jsx("p",{className:"text-sm text-gray-600",children:b.course}),c.jsxs("p",{className:"text-xs text-gray-500",children:[r("student.due"),": ",new Date(b.due).toLocaleDateString()]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${b.status==="completed"?"bg-green-100 text-green-700":b.status==="inProgress"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:r(`student.${b.status}`)}),b.grade&&c.jsxs("p",{className:"text-sm font-medium text-gray-700 mt-1",children:[b.grade,"%"]})]})]},b.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(yr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:r("student.noAssignmentsFound")})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(gn,{title:r("student.upcomingClasses"),action:c.jsxs(ns,{variant:"outline",size:"sm",children:[r("student.viewSchedule")," ",c.jsx(ro,{className:"w-4 h-4 ml-1"})]}),children:m?c.jsxs("div",{className:"text-center py-6",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-600 mt-2",children:r("student.loadingSchedule")})]}):E.length>0?c.jsx("div",{className:"space-y-3",children:E.map((b,q)=>c.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-lg",children:[c.jsx(Vs,{className:"w-5 h-5 text-blue-600 mr-3"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-gray-800",children:b.course_title||r("student.fallbacks.course")}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(b.scheduled_date).toLocaleDateString()})]}),c.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[b.start_time," - ",b.end_time]})]},q))}):c.jsxs("div",{className:"text-center py-6 text-gray-500",children:[c.jsx(Vs,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:r("student.noUpcomingClasses")})]})}),c.jsx(gn,{title:r("student.newsUpdates"),action:c.jsxs(ns,{variant:"outline",size:"sm",children:[r("student.viewAll")," ",c.jsx(ro,{className:"w-4 h-4 ml-1"})]}),children:D.length>0||O.length>0?c.jsxs("div",{className:"space-y-4",children:[D.map((b,q)=>c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[c.jsx(Ih,{className:"w-5 h-5 text-blue-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-gray-800",children:b.title}),c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:b.content}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.created_at).toLocaleDateString()})]})]},q)),O.map((b,q)=>c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[c.jsx(Vs,{className:"w-5 h-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-gray-800",children:b.title}),c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:b.content}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.event_date).toLocaleDateString()})]})]},`event-${q}`))]}):c.jsxs("div",{className:"text-center py-6 text-gray-500",children:[c.jsx(Ih,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:r("student.noRecentUpdates")})]})})]})]}),K=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:r("student.assignmentManagement")}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs(ns,{variant:"outline",size:"sm",children:[c.jsx(uv,{className:"w-4 h-4 mr-2"}),r("student.submitAssignment")]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(gn,{title:r("student.pendingAssignments"),children:V.length>0?c.jsx("div",{className:"space-y-4",children:V.map(b=>c.jsxs("div",{className:"border border-orange-200 bg-orange-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:b.title}),c.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded",children:b.type})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.course}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[r("student.due"),": ",new Date(b.due).toLocaleDateString()]}),c.jsx(ns,{size:"sm",children:r("student.submit")})]})]},b.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Fh,{className:"w-12 h-12 mx-auto mb-4 text-green-300"}),c.jsx("p",{children:r("student.allAssignmentsCompleted")})]})}),c.jsx(gn,{title:r("student.recentSubmissions"),children:X.length>0?c.jsx("div",{className:"space-y-4",children:X.map(b=>c.jsxs("div",{className:"border border-green-200 bg-green-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:b.title}),b.grade&&c.jsxs("span",{className:"text-sm font-medium text-green-700",children:[r("student.grade"),": ",b.grade,"%"]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.course}),b.feedback&&c.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',b.feedback,'"']}),c.jsx("span",{className:"inline-flex mt-2 px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:r("student.completed")})]},b.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(yr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:r("student.noSubmissionsYet")})]})})]})]}),J=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:r("student.attendanceOverview")}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:r("student.overallAttendanceRate")}),c.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[L,"%"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(gn,{title:r("student.attendanceSummary"),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:r("student.totalClasses")}),c.jsx("span",{className:"font-semibold",children:d?.length||0})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:r("student.present")}),c.jsx("span",{className:"font-semibold text-green-600",children:d?.filter(b=>b.status==="present").length||0})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:r("student.late")}),c.jsx("span",{className:"font-semibold text-yellow-600",children:d?.filter(b=>b.status==="late").length||0})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:r("student.absent")}),c.jsx("span",{className:"font-semibold text-red-600",children:d?.filter(b=>b.status==="absent").length||0})]})]})}),c.jsx(gn,{title:r("student.recentAttendance"),children:y?c.jsxs("div",{className:"text-center py-6",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-600 mt-2",children:r("student.loadingAttendance")})]}):d&&d.length>0?c.jsx("div",{className:"space-y-3",children:d.slice(0,5).map((b,q)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-800",children:b.class_schedule?.course_title||r("student.fallbacks.course")}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(b.date).toLocaleDateString()})]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b.status==="present"?"bg-green-100 text-green-700":b.status==="late"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:r(`student.${b.status}`)})]},q))}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(vr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:r("student.noAttendanceRecords")})]})})]})]}),Q=n;return c.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--accent-color)"},children:[c.jsx("header",{className:"shadow-sm border-b",style:{backgroundColor:"var(--primary-color)"},children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(xf,{className:"w-8 h-8",style:{color:"var(--tertiary-color)"}}),c.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--light-text)"},children:r("student.dashboard")})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Lv,{}),c.jsx("button",{className:"p-2 rounded-lg transition-all hover:scale-105 hover-glow",style:{color:"var(--tertiary-color)"},children:c.jsx(Yc,{className:"w-5 h-5"})})]})]})})}),c.jsx(Ro,{isLoading:Q,loadingText:r("student.loadingDashboard"),overlayColor:"rgba(0, 0, 0, 0.8)",spinnerColor:"var(--primary-color)",textColor:"white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"rounded-lg shadow-sm mb-6 p-2 flex flex-wrap gap-2 hover-lift",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("button",{onClick:()=>t("overview"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${e==="overview"?"text-white":""}`,style:{backgroundColor:e==="overview"?"var(--primary-color)":"transparent",color:e==="overview"?"var(--light-text)":"var(--text-color)"},onMouseEnter:b=>{e!=="overview"&&(b.target.style.backgroundColor="var(--accent-color)",b.target.style.color="var(--primary-color)")},onMouseLeave:b=>{e!=="overview"&&(b.target.style.backgroundColor="transparent",b.target.style.color="var(--text-color)")},children:[c.jsx(Uh,{className:"w-4 h-4"}),r("student.tabs.overview")]}),c.jsxs("button",{onClick:()=>t("assignments"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${e==="assignments"?"text-white":""}`,style:{backgroundColor:e==="assignments"?"var(--primary-color)":"transparent",color:e==="assignments"?"var(--light-text)":"var(--text-color)"},onMouseEnter:b=>{e!=="assignments"&&(b.target.style.backgroundColor="var(--accent-color)",b.target.style.color="var(--primary-color)")},onMouseLeave:b=>{e!=="assignments"&&(b.target.style.backgroundColor="transparent",b.target.style.color="var(--text-color)")},children:[c.jsx(yr,{className:"w-4 h-4"}),r("student.tabs.assignments")]}),c.jsxs("button",{onClick:()=>t("attendance"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${e==="attendance"?"text-white":""}`,style:{backgroundColor:e==="attendance"?"var(--primary-color)":"transparent",color:e==="attendance"?"var(--light-text)":"var(--text-color)"},onMouseEnter:b=>{e!=="attendance"&&(b.target.style.backgroundColor="var(--accent-color)",b.target.style.color="var(--primary-color)")},onMouseLeave:b=>{e!=="attendance"&&(b.target.style.backgroundColor="transparent",b.target.style.color="var(--text-color)")},children:[c.jsx(vr,{className:"w-4 h-4"}),r("student.tabs.attendance")]})]}),e==="overview"&&U(),e==="assignments"&&K(),e==="attendance"&&J()]})}),c.jsx(Nf,{})]})},qh=()=>{const[r,e]=H.useState("stats"),[t,s]=H.useState(!1),[n,a]=H.useState({}),[l,u]=H.useState(null),[d,f]=H.useState(!1),[p,m]=H.useState({}),[y,w]=H.useState(null),[C,v]=H.useState(!1),[A,E]=H.useState({user:"",student_number:"",course_of_study:"",admission_year:new Date().getFullYear(),status:"active"}),[D,O]=H.useState(null),[T,k]=H.useState(!1),[j,R]=H.useState({user:"",staff_number:"",department:"",bio:"",subjects:""}),[I,M]=H.useState(null),[L,V]=H.useState(!1),[X,U]=H.useState({title:"",author:"",description:"",genre:"",cover_image:null,pdf_file:null,publication_year:""}),[K,J]=H.useState(null),Q=async($,oe=null)=>{try{if(oe&&(oe.cover_image||oe.pdf_file)){const ge=new FormData;ge.append("title",$.title||""),ge.append("author",$.author||""),ge.append("description",$.description||""),ge.append("genre",$.genre||""),ge.append("publication_year",$.publication_year||""),oe.cover_image&&ge.append("cover_image",oe.cover_image),oe.pdf_file&&ge.append("pdf_file",oe.pdf_file),$.id?(await Er({id:$.id,data:ge}),J({message:"Book updated successfully!",type:"success"})):(await Nr(ge),J({message:"Book created successfully!",type:"success"}))}else $.id?(await Er({id:$.id,data:$}),J({message:"Book updated successfully!",type:"success"})):(await Nr($),J({message:"Book created successfully!",type:"success"}));M(null),V(!1),U({title:"",author:"",description:"",genre:"",cover_image:null,pdf_file:null,publication_year:""})}catch(ge){console.error("Error saving book:",ge),J({message:"Failed to save book. Please try again.",type:"error"})}},b=async $=>{if(window.confirm(`Are you sure you want to delete book "${$.title}"?`))try{await ua($.id),J({message:"Book deleted successfully!",type:"success"})}catch(oe){console.error("Error deleting book:",oe),J({message:"Failed to delete book. Please try again.",type:"error"})}},q=($=null)=>{const oe=!!$,ge=oe?$:{};return c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:oe?"Edit Book":"Add New Book"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),c.jsx("input",{type:"text",value:oe?ge.title:X.title,onChange:De=>{oe?M({...ge,title:De.target.value}):U({...X,title:De.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"Enter book title"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Author"}),c.jsx("input",{type:"text",value:oe?ge.author:X.author,onChange:De=>{oe?M({...ge,author:De.target.value}):U({...X,author:De.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"Enter author name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Genre"}),c.jsx("input",{type:"text",value:oe?ge.genre:X.genre,onChange:De=>{oe?M({...ge,genre:De.target.value}):U({...X,genre:De.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"Enter genre"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Publication Year"}),c.jsx("input",{type:"number",value:oe?ge.publication_year:X.publication_year,onChange:De=>{const Ae=parseInt(De.target.value)||"";oe?M({...ge,publication_year:Ae}):U({...X,publication_year:Ae})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"2024",min:"1000",max:"2030"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cover Image"}),c.jsx("input",{type:"file",accept:"image/*",onChange:De=>{const Ae=De.target.files[0];oe?M({...ge,cover_image:Ae}):U({...X,cover_image:Ae})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all"}),(oe?ge.cover_image:X.cover_image)&&typeof(oe?ge.cover_image:X.cover_image)=="object"&&c.jsxs("p",{className:"text-sm mt-1 text-gray-600",children:["Selected: ",(oe?ge.cover_image:X.cover_image).name]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"PDF File"}),c.jsx("input",{type:"file",accept:".pdf",onChange:De=>{const Ae=De.target.files[0];oe?M({...ge,pdf_file:Ae}):U({...X,pdf_file:Ae})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all"}),(oe?ge.pdf_file:X.pdf_file)&&typeof(oe?ge.pdf_file:X.pdf_file)=="object"&&c.jsxs("p",{className:"text-sm mt-1 text-gray-600",children:["Selected: ",(oe?ge.pdf_file:X.pdf_file).name]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),c.jsx("textarea",{value:oe?ge.description:X.description,onChange:De=>{oe?M({...ge,description:De.target.value}):U({...X,description:De.target.value})},rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"Enter book description"})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsxs("button",{onClick:()=>{oe?Q(ge,ge):Q(X,X)},disabled:Vo||Wo,className:"bg-success text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:[c.jsx($r,{className:"w-4 h-4"}),Vo||Wo?"Saving...":"Save Book"]}),c.jsxs("button",{onClick:()=>{M(null),V(!1),U({title:"",author:"",description:"",genre:"",cover_image:null,pdf_file:null,publication_year:""})},className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[c.jsx(en,{className:"w-4 h-4"}),"Cancel"]})]})]})},{stats:F,users:N,news:_,events:B,testimonials:te,campusLife:ee,studentProfiles:le,tutorProfiles:ae,pendingTestimonials:W,contactMessages:ne,unreadMessages:ce,statsLoading:me,usersLoading:Ie,newsLoading:Fe,eventsLoading:ye,testimonialsLoading:ve,campusLifeLoading:_e,studentProfilesLoading:Be,tutorProfilesLoading:Pe,pendingTestimonialsLoading:Qe,contactMessagesLoading:et,unreadMessagesLoading:nt,updateStats:tt,createAnnouncement:Ht,updateAnnouncement:Ns,deleteAnnouncement:Ws,createStudent:os,updateStudent:qs,deleteStudent:ot,createTutor:Ct,updateTutor:Qt,deleteTutor:fs,approveTestimonial:Cn,unapproveTestimonial:pe,toggleTestimonialApproval:Ge,markMessageRead:ut,markMessageReplied:Vt,deleteContactMessage:an,updatingStats:ri,creatingAnnouncement:$n,updatingAnnouncement:Hn,deletingAnnouncement:Ho,creatingStudent:An,updatingStudent:Nn,deletingStudent:fu,creatingTutor:ia,updatingTutor:aa,deletingTutor:pu,approvingTestimonial:oa,unapprovingTestimonial:ii,togglingTestimonialApproval:la,markingMessageRead:Vn,markingMessageReplied:ai,deletingContactMessage:Wn,books:ca,booksLoading:Ar,createBook:Nr,updateBook:Er,deleteBook:ua,creatingBook:Vo,updatingBook:Wo}=eu(),mu=async()=>{try{await tt(n),s(!1),a({}),alert("Stats updated successfully!")}catch($){console.error("Error updating stats:",$),alert("Failed to update stats")}},En=()=>{a(F),s(!0)},qo=()=>{s(!1),a({})},da=async($,oe)=>{try{oe.id?await Ns({type:$,id:oe.id,data:oe}):await Ht({type:$,data:oe}),u(null),f(!1),m({}),alert(`${$.charAt(0).toUpperCase()+$.slice(1)} saved successfully!`)}catch(ge){console.error("Error saving announcement:",ge),alert("Failed to save announcement")}},gu=async($,oe)=>{if(window.confirm(`Are you sure you want to delete this ${$}?`))try{await Ws({type:$,id:oe.id}),alert(`${$.charAt(0).toUpperCase()+$.slice(1)} deleted successfully!`)}catch(ge){console.error("Error deleting announcement:",ge),alert("Failed to delete announcement")}},Go=async $=>{try{$.id?(await qs({id:$.id,data:$}),alert("Student updated successfully!")):(await os($),alert("Student created successfully!")),w(null),v(!1),E({user:"",student_number:"",course_of_study:"",admission_year:new Date().getFullYear(),status:"active"})}catch(oe){console.error("Error saving student:",oe),alert("Failed to save student")}},Ko=async $=>{if(window.confirm(`Are you sure you want to delete student ${$.user?.username||$.student_number}?`))try{await ot($.id),alert("Student deleted successfully!")}catch(oe){console.error("Error deleting student:",oe),alert("Failed to delete student")}},Xo=async $=>{try{$.id?(await Qt({id:$.id,data:$}),alert("Tutor updated successfully!")):(await Ct($),alert("Tutor created successfully!")),O(null),k(!1),R({user:"",staff_number:"",department:"",bio:"",subjects:""})}catch(oe){console.error("Error saving tutor:",oe),alert("Failed to save tutor")}},Yo=async $=>{if(window.confirm(`Are you sure you want to delete tutor ${$.user?.username||$.staff_number}?`))try{await fs($.id),alert("Tutor deleted successfully!")}catch(oe){console.error("Error deleting tutor:",oe),alert("Failed to delete tutor")}},yu=()=>c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 animate-scale-in",style:{color:"var(--primary-color)"},children:"Statistics Management"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Active Students"}),c.jsx("input",{type:"number",value:t?n?.active_students:F?.active_students||0,onChange:$=>t&&a({...n,active_students:parseInt($.target.value)}),disabled:!t,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent disabled:opacity-50 transition-all",style:{borderColor:"var(--primary-color)",backgroundColor:t?"var(--light-text)":"var(--accent-color)",color:"var(--text-color)"}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Courses"}),c.jsx("input",{type:"number",value:t?n?.courses:F?.courses||0,onChange:$=>t&&a({...n,courses:parseInt($.target.value)}),disabled:!t,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent disabled:opacity-50 transition-all",style:{borderColor:"var(--primary-color)",backgroundColor:t?"var(--light-text)":"var(--accent-color)",color:"var(--text-color)"}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Success Rate (%)"}),c.jsx("input",{type:"number",value:t?n?.success_rate:F?.success_rate||0,onChange:$=>t&&a({...n,success_rate:parseInt($.target.value)}),disabled:!t,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent disabled:opacity-50 transition-all",style:{borderColor:"var(--primary-color)",backgroundColor:t?"var(--light-text)":"var(--accent-color)",color:"var(--text-color)"}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Tutors"}),c.jsx("input",{type:"number",value:t?n?.tutors:F?.tutors||0,onChange:$=>t&&a({...n,tutors:parseInt($.target.value)}),disabled:!t,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent disabled:opacity-50 transition-all",style:{borderColor:"var(--primary-color)",backgroundColor:t?"var(--light-text)":"var(--accent-color)",color:"var(--text-color)"}})]})]}),c.jsx("div",{className:"mt-6 flex gap-2",children:t?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:mu,disabled:ri,className:"px-6 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 disabled:opacity-50 hover-glow",style:{backgroundColor:"var(--success-color)",color:"var(--light-text)"},children:[c.jsx($r,{className:"w-4 h-4"}),ri?"Saving...":"Save Statistics"]}),c.jsxs("button",{onClick:qo,className:"px-6 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--secondary-color)",color:"var(--light-text)"},children:[c.jsx(en,{className:"w-4 h-4"}),"Cancel"]})]}):c.jsxs("button",{onClick:En,className:"px-6 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(Br,{className:"w-4 h-4"}),"Edit Statistics"]})})]}),Qo=($,oe=!1)=>{const ge=De=>{oe?m({...$,...De}):u({...$,...De})};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),c.jsx("input",{type:"text",value:$.title||"",onChange:De=>ge({title:De.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),c.jsx("textarea",{value:$.content||"",onChange:De=>ge({content:De.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),c.jsx("input",{type:"text",value:$.image||"",onChange:De=>ge({image:De.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/api/placeholder/400/250"})]})]})},ft=($,oe=!1)=>{const ge=De=>{oe?m({...$,...De}):u({...$,...De})};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),c.jsx("input",{type:"text",value:$.title||"",onChange:De=>ge({title:De.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Details"}),c.jsx("textarea",{value:$.content||"",onChange:De=>ge({content:De.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),c.jsx("input",{type:"datetime-local",value:$.event_date||"",onChange:De=>ge({event_date:De.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),c.jsx("input",{type:"text",value:$.location||"",onChange:De=>ge({location:De.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube Video ID"}),c.jsx("input",{type:"text",value:$.video_id||"",onChange:De=>ge({video_id:De.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"dQw4w9WgXcQ"})]})]})},Jo=($,oe,ge=!1)=>{const De=c.jsxs(c.Fragment,{children:[$!=="campus_life"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),c.jsx("input",{type:"text",value:oe.title||"",onChange:Ae=>ge?m({...oe,title:Ae.target.value}):u({...oe,title:Ae.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),c.jsx("textarea",{value:oe.content||"",onChange:Ae=>ge?m({...oe,content:Ae.target.value}):u({...oe,content:Ae.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3"})]})]}),(oe.type==="news"||oe.type==="testimonial"||oe.type==="campus_life")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),c.jsx("input",{type:"text",value:oe.image||"",onChange:Ae=>ge?m({...oe,image:Ae.target.value}):u({...oe,image:Ae.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/api/placeholder/400/250"})]}),oe.type==="testimonial"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Name"}),c.jsx("input",{type:"text",value:oe.author||"",onChange:Ae=>ge?m({...oe,author:Ae.target.value}):u({...oe,author:Ae.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author Title"}),c.jsx("input",{type:"text",value:oe.author_title||"",onChange:Ae=>ge?m({...oe,author_title:Ae.target.value}):u({...oe,author_title:Ae.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]});return c.jsx(c.Fragment,{children:De})},oi=($=null,oe=!1)=>{const ge=oe?A:$||{},De=!oe&&$;return c.jsxs("div",{className:"rounded-lg p-4 mb-4 border-2 hover-lift",style:{borderColor:"var(--primary-color)",backgroundColor:"var(--accent-color)"},children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--primary-color)"},children:De?"Edit Student":"Add New Student"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"User ID"}),c.jsx("input",{type:"number",value:ge.user||"",onChange:Ae=>{const Wt=parseInt(Ae.target.value);oe?E({...A,user:Wt}):w({...$,user:Wt})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},placeholder:"Enter user ID"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Student Number"}),c.jsx("input",{type:"text",value:ge.student_number||"",onChange:Ae=>{oe?E({...A,student_number:Ae.target.value}):w({...$,student_number:Ae.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},placeholder:"STU000001"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Course of Study"}),c.jsx("input",{type:"text",value:ge.course_of_study||"",onChange:Ae=>{oe?E({...A,course_of_study:Ae.target.value}):w({...$,course_of_study:Ae.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},placeholder:"Computer Science"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Admission Year"}),c.jsx("input",{type:"number",value:ge.admission_year||new Date().getFullYear(),onChange:Ae=>{const Wt=parseInt(Ae.target.value);oe?E({...A,admission_year:Wt}):w({...$,admission_year:Wt})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},min:"2000",max:"2030"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Status"}),c.jsxs("select",{value:ge.status||"active",onChange:Ae=>{oe?E({...A,status:Ae.target.value}):w({...$,status:Ae.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"graduated",children:"Graduated"}),c.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsxs("button",{onClick:()=>{Go(oe?A:$)},disabled:An||Nn,className:"px-6 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--success-color)",color:"var(--light-text)"},children:[c.jsx($r,{className:"w-4 h-4"}),An||Nn?"Saving...":"Save Student"]}),c.jsxs("button",{onClick:()=>{w(null),v(!1),E({user:"",student_number:"",course_of_study:"",admission_year:new Date().getFullYear(),status:"active"})},className:"px-6 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--secondary-color)",color:"var(--light-text)"},children:[c.jsx(en,{className:"w-4 h-4"}),"Cancel"]})]})]})},ha=($=null,oe=!1)=>{const ge=oe?j:$||{},De=!oe&&$;return c.jsxs("div",{className:"rounded-lg p-4 mb-4 border-2 hover-lift",style:{borderColor:"var(--primary-color)",backgroundColor:"var(--accent-color)"},children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--primary-color)"},children:De?"Edit Tutor":"Add New Tutor"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"User ID"}),c.jsx("input",{type:"number",value:ge.user||"",onChange:Ae=>{const Wt=parseInt(Ae.target.value);oe?R({...j,user:Wt}):O({...$,user:Wt})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},placeholder:"Enter user ID"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Staff Number"}),c.jsx("input",{type:"text",value:ge.staff_number||"",onChange:Ae=>{oe?R({...j,staff_number:Ae.target.value}):O({...$,staff_number:Ae.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},placeholder:"TUT000001"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Department"}),c.jsx("input",{type:"text",value:ge.department||"",onChange:Ae=>{oe?R({...j,department:Ae.target.value}):O({...$,department:Ae.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},placeholder:"Computer Science"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Subjects (comma-separated)"}),c.jsx("input",{type:"text",value:ge.subjects||"",onChange:Ae=>{oe?R({...j,subjects:Ae.target.value}):O({...$,subjects:Ae.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},placeholder:"Python, JavaScript, Data Structures"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-color)"},children:"Bio"}),c.jsx("textarea",{value:ge.bio||"",onChange:Ae=>{oe?R({...j,bio:Ae.target.value}):O({...$,bio:Ae.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",style:{borderColor:"var(--primary-color)",color:"var(--text-color)"},rows:"3",placeholder:"Brief description about the tutor..."})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsxs("button",{onClick:()=>{Xo(oe?j:$)},disabled:ia||aa,className:"px-6 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--success-color)",color:"var(--light-text)"},children:[c.jsx($r,{className:"w-4 h-4"}),ia||aa?"Saving...":"Save Tutor"]}),c.jsxs("button",{onClick:()=>{O(null),k(!1),R({user:"",staff_number:"",department:"",bio:"",subjects:""})},className:"px-6 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--secondary-color)",color:"var(--light-text)"},children:[c.jsx(en,{className:"w-4 h-4"}),"Cancel"]})]})]})},kn=($,oe,ge,De,Ae)=>{const Wt=$.charAt(0).toUpperCase()+$.slice(1).replace("_"," ");return c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[De,c.jsxs("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:[Wt," Management"]})]}),c.jsxs("button",{onClick:()=>{f(!0),m({type:$}),u(null)},className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(io,{className:"w-4 h-4"}),"Add New ",Wt.slice(0,-1)]})]}),d&&c.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 border-2 border-blue-200",children:c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[$==="news"&&Qo(p,!0),$==="event"&&ft(p,!0),$!=="news"&&$!=="event"&&Jo($,p,!0),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>da($,p),disabled:$n||Hn,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[c.jsx($r,{className:"w-4 h-4"}),$n||Hn?"Saving...":"Save"]}),c.jsxs("button",{onClick:()=>{u(null),f(!1),m({})},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[c.jsx(en,{className:"w-4 h-4"}),"Cancel"]})]})]})}),ge?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Loading ",Wt.toLowerCase(),"..."]})]}):c.jsxs("div",{className:"space-y-4",children:[oe&&oe.map(Mt=>c.jsx("div",{children:l?.id===Mt.id?c.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 border-2 border-blue-200",children:c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[$==="news"&&Qo(l),$==="event"&&ft(l),$!=="news"&&$!=="event"&&Jo($,l),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>da($,l),disabled:$n||Hn,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[c.jsx($r,{className:"w-4 h-4"}),$n||Hn?"Saving...":"Save"]}),c.jsxs("button",{onClick:()=>{u(null),f(!1),m({})},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[c.jsx(en,{className:"w-4 h-4"}),"Cancel"]})]})]})}):c.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--tertiary-color)",color:"var(--primary-color)"},children:Wt}),c.jsx("span",{className:"text-xs",style:{color:"var(--text-color)"},children:new Date(Mt.created_at).toLocaleDateString()})]}),Mt.title&&c.jsx("h3",{className:"font-semibold mb-1",style:{color:"var(--primary-color)"},children:Mt.title}),Mt.content&&c.jsxs("p",{className:"text-sm mb-2",style:{color:"var(--text-color)"},children:[Mt.content.substring(0,100),"..."]}),Mt.author&&c.jsxs("p",{className:"text-sm",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Author:"})," ",Mt.author]}),Mt.event_date&&c.jsxs("p",{className:"text-sm",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Event Date:"})," ",new Date(Mt.event_date).toLocaleDateString()]}),Mt.location&&c.jsxs("p",{className:"text-sm",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Location:"})," ",Mt.location]}),Mt.video_id&&c.jsxs("p",{className:"text-sm",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Video ID:"})," ",Mt.video_id]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx("button",{onClick:()=>u(Mt),className:"p-2 rounded-lg transition-all hover:scale-110 hover-glow",style:{color:"var(--primary-color)"},onMouseEnter:_n=>_n.target.style.backgroundColor="var(--accent-color)",onMouseLeave:_n=>_n.target.style.backgroundColor="transparent",children:c.jsx(Br,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>gu($,Mt),className:"p-2 rounded-lg transition-all hover:scale-110 hover-glow",style:{color:"var(--error-color)"},onMouseEnter:_n=>_n.target.style.backgroundColor="var(--accent-color)",onMouseLeave:_n=>_n.target.style.backgroundColor="transparent",children:c.jsx(Xa,{className:"w-4 h-4"})})]})]})})},Mt.id)),(!oe||oe.length===0)&&c.jsxs("p",{className:"text-gray-500 text-center py-8",children:["No ",Wt.toLowerCase()," found. Add your first ",Wt.slice(0,-1).toLowerCase(),"!"]})]})]})},xu=me||Ie||Fe||ye||ve||_e||Be||Pe;return c.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--accent-color)"},children:[c.jsx("header",{className:"shadow-sm border-b",style:{backgroundColor:"var(--primary-color)"},children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(xf,{className:"w-8 h-8",style:{color:"var(--tertiary-color)"}}),c.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--light-text)"},children:"Admin Dashboard"})]}),c.jsx("button",{className:"p-2 rounded-lg transition-all hover:scale-105 hover-glow",style:{color:"var(--tertiary-color)"},children:c.jsx(Yc,{className:"w-5 h-5"})})]})})}),c.jsx(Ro,{isLoading:xu,loadingText:"Loading admin dashboard...",overlayColor:"rgba(0, 0, 0, 0.8)",spinnerColor:"var(--primary-color)",textColor:"white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"rounded-lg shadow-sm mb-6 p-2 flex flex-wrap gap-2 hover-lift",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("button",{onClick:()=>e("stats"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${r==="stats"?"text-white":""}`,style:{backgroundColor:r==="stats"?"var(--primary-color)":"transparent",color:r==="stats"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="stats"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="stats"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(lv,{className:"w-4 h-4"}),"Statistics"]}),c.jsxs("button",{onClick:()=>e("news"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${r==="news"?"text-white":""}`,style:{backgroundColor:r==="news"?"var(--primary-color)":"transparent",color:r==="news"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="news"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="news"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(ey,{className:"w-4 h-4"}),"News"]}),c.jsxs("button",{onClick:()=>e("events"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${r==="events"?"text-white":""}`,style:{backgroundColor:r==="events"?"var(--primary-color)":"transparent",color:r==="events"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="events"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="events"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(Vs,{className:"w-4 h-4"}),"Events"]}),c.jsxs("button",{onClick:()=>e("testimonials"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${r==="testimonials"?"text-white":""}`,style:{backgroundColor:r==="testimonials"?"var(--primary-color)":"transparent",color:r==="testimonials"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="testimonials"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="testimonials"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(Ka,{className:"w-4 h-4"}),"Testimonials"]}),c.jsxs("button",{onClick:()=>e("campus-life"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${r==="campus-life"?"text-white":""}`,style:{backgroundColor:r==="campus-life"?"var(--primary-color)":"transparent",color:r==="campus-life"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="campus-life"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="campus-life"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(ic,{className:"w-4 h-4"}),"Campus Life"]}),c.jsxs("button",{onClick:()=>e("students"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${r==="students"?"text-white":""}`,style:{backgroundColor:r==="students"?"var(--primary-color)":"transparent",color:r==="students"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="students"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="students"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(vr,{className:"w-4 h-4"}),"Students"]}),c.jsxs("button",{onClick:()=>e("tutors"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${r==="tutors"?"text-white":""}`,style:{backgroundColor:r==="tutors"?"var(--primary-color)":"transparent",color:r==="tutors"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="tutors"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="tutors"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(jC,{className:"w-4 h-4"}),"Tutors"]}),c.jsxs("button",{onClick:()=>e("books"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${r==="books"?"text-white":""}`,style:{backgroundColor:r==="books"?"var(--primary-color)":"transparent",color:r==="books"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="books"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="books"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(ic,{className:"w-4 h-4"}),"Books"]}),c.jsxs("button",{onClick:()=>e("testimonial-approval"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 relative ${r==="testimonial-approval"?"text-white":""}`,style:{backgroundColor:r==="testimonial-approval"?"var(--primary-color)":"transparent",color:r==="testimonial-approval"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="testimonial-approval"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="testimonial-approval"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(co,{className:"w-4 h-4"}),"Testimonial Approval",W&&W.length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:W.length})]}),c.jsxs("button",{onClick:()=>e("contact-messages"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 relative ${r==="contact-messages"?"text-white":""}`,style:{backgroundColor:r==="contact-messages"?"var(--primary-color)":"transparent",color:r==="contact-messages"?"var(--light-text)":"var(--text-color)"},onMouseEnter:$=>{r!=="contact-messages"&&($.target.style.backgroundColor="var(--accent-color)",$.target.style.color="var(--primary-color)")},onMouseLeave:$=>{r!=="contact-messages"&&($.target.style.backgroundColor="transparent",$.target.style.color="var(--text-color)")},children:[c.jsx(Ka,{className:"w-4 h-4"}),"Contact Messages",ce&&ce.length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:ce.length})]})]}),r==="stats"&&yu(),r==="news"&&kn("news",_,Fe,c.jsx(ey,{className:"w-6 h-6",style:{color:"var(--primary-color)"}})),r==="events"&&kn("event",B,ye,c.jsx(Vs,{className:"w-6 h-6",style:{color:"var(--primary-color)"}})),r==="testimonials"&&kn("testimonial",te,ve,c.jsx(Ka,{className:"w-6 h-6",style:{color:"var(--primary-color)"}})),r==="campus-life"&&kn("campus_life",ee,_e,c.jsx(ic,{className:"w-6 h-6",style:{color:"var(--primary-color)"}})),r==="testimonial-approval"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:"Testimonial Approval"}),W&&W.length>0&&c.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-semibold",style:{backgroundColor:"var(--error-color)",color:"var(--light-text)"},children:[W.length," pending approval",W.length!==1?"s":""]})]}),Qe?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto animate-bounce-in",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2 animate-fade-in-up",style:{color:"var(--text-color)"},children:"Loading pending testimonials..."})]}):c.jsx("div",{className:"space-y-4",children:W&&W.length>0?W.map($=>c.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:[c.jsx("div",{className:"flex justify-between items-start mb-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--tertiary-color)",color:"var(--primary-color)"},children:"Pending"}),c.jsx("span",{className:"text-xs",style:{color:"var(--text-color)"},children:new Date($.created_at).toLocaleDateString()})]}),c.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--primary-color)"},children:$.title}),c.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-color)"},children:$.content}),$.author&&c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Author:"})," ",$.author," - ",$.author_title]}),$.image&&c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Image:"})," ",$.image]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:async()=>{try{await Cn($.id),alert("Testimonial approved successfully!")}catch(oe){console.error("Error approving testimonial:",oe),alert("Failed to approve testimonial")}},disabled:oa,className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--success-color)",color:"var(--light-text)"},children:[c.jsx(co,{className:"w-4 h-4"}),oa?"Approving...":"Approve"]}),c.jsxs("button",{onClick:async()=>{try{await pe($.id),alert("Testimonial unapproved successfully!")}catch(oe){console.error("Error unapproving testimonial:",oe),alert("Failed to unapprove testimonial")}},disabled:ii,className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--secondary-color)",color:"var(--light-text)"},children:[c.jsx(en,{className:"w-4 h-4"}),ii?"Unapproving...":"Unapprove"]}),c.jsxs("button",{onClick:async()=>{try{await Ge($.id),alert("Testimonial approval toggled successfully!")}catch(oe){console.error("Error toggling testimonial approval:",oe),alert("Failed to toggle testimonial approval")}},disabled:la,className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(Br,{className:"w-4 h-4"}),la?"Toggling...":"Toggle"]})]})]},$.id)):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(co,{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--text-color)"}}),c.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--primary-color)"},children:"All Caught Up!"}),c.jsx("p",{className:"text-gray-500",children:"No testimonials pending approval at this time."})]})})]}),r==="contact-messages"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:"Contact Messages"}),ce&&ce.length>0&&c.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-semibold",style:{backgroundColor:"var(--error-color)",color:"var(--light-text)"},children:[ce.length," unread message",ce.length!==1?"s":""]})]}),et?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto animate-bounce-in",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2 animate-fade-in-up",style:{color:"var(--text-color)"},children:"Loading contact messages..."})]}):c.jsx("div",{className:"space-y-4",children:ne&&ne.length>0?ne.map($=>c.jsxs("div",{className:`border rounded-lg p-6 hover:shadow-md transition-all hover-lift ${$.read?"":"ring-2"}`,style:{borderColor:$.read?"var(--primary-color)":"var(--error-color)",backgroundColor:$.read?"var(--light-text)":"var(--accent-color)"},children:[c.jsx("div",{className:"flex justify-between items-start mb-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${$.read?"":"text-white"}`,style:{backgroundColor:$.read?"var(--tertiary-color)":"var(--error-color)",color:$.read?"var(--primary-color)":"var(--light-text)"},children:$.read?"Read":"Unread"}),c.jsx("span",{className:"text-xs",style:{color:"var(--text-color)"},children:new Date($.created_at).toLocaleDateString()}),$.replied&&c.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--success-color)",color:"var(--light-text)"},children:"Replied"})]}),c.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--primary-color)"},children:$.subject||"No Subject"}),c.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-color)"},children:$.message}),c.jsxs("div",{className:"text-sm",style:{color:"var(--text-color)"},children:[c.jsxs("p",{children:[c.jsx("strong",{children:"From:"})," ",$.name," (",$.email,")"]}),$.phone&&c.jsxs("p",{children:[c.jsx("strong",{children:"Phone:"})," ",$.phone]})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[!$.read&&c.jsxs("button",{onClick:async()=>{try{await ut($.id),alert("Message marked as read!")}catch(oe){console.error("Error marking message as read:",oe),alert("Failed to mark message as read")}},disabled:Vn,className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(Br,{className:"w-4 h-4"}),Vn?"Marking...":"Mark Read"]}),!$.replied&&c.jsxs("button",{onClick:async()=>{try{await Vt($.id),alert("Message marked as replied!")}catch(oe){console.error("Error marking message as replied:",oe),alert("Failed to mark message as replied")}},disabled:ai,className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--success-color)",color:"var(--light-text)"},children:[c.jsx(Ka,{className:"w-4 h-4"}),ai?"Marking...":"Mark Replied"]}),c.jsxs("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this message?"))try{await an($.id),alert("Message deleted successfully!")}catch(oe){console.error("Error deleting message:",oe),alert("Failed to delete message")}},disabled:Wn,className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--error-color)",color:"var(--light-text)"},children:[c.jsx(Xa,{className:"w-4 h-4"}),Wn?"Deleting...":"Delete"]})]})]},$.id)):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ka,{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--text-color)"}}),c.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--primary-color)"},children:"No Messages"}),c.jsx("p",{className:"text-gray-500",children:"No contact messages have been received yet."})]})})]}),r==="students"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:"Students Management"}),c.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(io,{className:"w-4 h-4"}),"Add New Student"]})]}),C&&oi(null,!0),y&&oi(y),Be?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto animate-bounce-in",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2 animate-fade-in-up",style:{color:"var(--text-color)"},children:"Loading students..."})]}):c.jsxs("div",{className:"space-y-4",children:[le&&le.map($=>c.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--tertiary-color)",color:"var(--primary-color)"},children:"Student"}),c.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:$.status==="active"?"var(--success-color)":$.status==="inactive"?"var(--secondary-color)":$.status==="graduated"?"var(--primary-color)":"var(--error-color)",color:"var(--light-text)"},children:$.status})]}),c.jsxs("h3",{className:"font-semibold mb-1",style:{color:"var(--primary-color)"},children:[$.user?.first_name," ",$.user?.last_name," (",$.user?.username,")"]}),c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Student Number:"})," ",$.student_number]}),c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Course:"})," ",$.course_of_study]}),c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Admission Year:"})," ",$.admission_year]}),c.jsxs("p",{className:"text-sm",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Email:"})," ",$.user?.email]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx("button",{onClick:()=>w($),className:"p-2 rounded-lg transition-all hover:scale-110 hover-glow",style:{color:"var(--primary-color)"},onMouseEnter:oe=>oe.target.style.backgroundColor="var(--accent-color)",onMouseLeave:oe=>oe.target.style.backgroundColor="transparent",children:c.jsx(Br,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>Ko($),className:"p-2 rounded-lg transition-all hover:scale-110 hover-glow",style:{color:"var(--error-color)"},onMouseEnter:oe=>oe.target.style.backgroundColor="var(--accent-color)",onMouseLeave:oe=>oe.target.style.backgroundColor="transparent",children:c.jsx(Xa,{className:"w-4 h-4"})})]})]})},$.id)),(!le||le.length===0)&&c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No students found. Add your first student!"})]})]}),r==="tutors"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:"Tutors Management"}),c.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(io,{className:"w-4 h-4"}),"Add New Tutor"]})]}),T&&ha(null,!0),D&&ha(D),Pe?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto animate-bounce-in",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2 animate-fade-in-up",style:{color:"var(--text-color)"},children:"Loading tutors..."})]}):c.jsxs("div",{className:"space-y-4",children:[ae&&ae.map($=>c.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--tertiary-color)",color:"var(--primary-color)"},children:"Tutor"})}),c.jsxs("h3",{className:"font-semibold mb-1",style:{color:"var(--primary-color)"},children:[$.user?.first_name," ",$.user?.last_name," (",$.user?.username,")"]}),c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Staff Number:"})," ",$.staff_number]}),c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Department:"})," ",$.department]}),c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Subjects:"})," ",$.subjects]}),$.bio&&c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Bio:"})," ",$.bio]}),c.jsxs("p",{className:"text-sm",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Email:"})," ",$.user?.email]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx("button",{onClick:()=>O($),className:"p-2 rounded-lg transition-all hover:scale-110 hover-glow",style:{color:"var(--primary-color)"},onMouseEnter:oe=>oe.target.style.backgroundColor="var(--accent-color)",onMouseLeave:oe=>oe.target.style.backgroundColor="transparent",children:c.jsx(Br,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>Yo($),className:"p-2 rounded-lg transition-all hover:scale-110 hover-glow",style:{color:"var(--error-color)"},onMouseEnter:oe=>oe.target.style.backgroundColor="var(--accent-color)",onMouseLeave:oe=>oe.target.style.backgroundColor="transparent",children:c.jsx(Xa,{className:"w-4 h-4"})})]})]})},$.id)),(!ae||ae.length===0)&&c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tutors found. Add your first tutor!"})]})]}),r==="books"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:"Digital Bookshelf Management"}),!L&&!I&&c.jsxs("button",{onClick:()=>{console.error("error"),V(!0)},className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(io,{className:"w-4 h-4"}),"Add New Book"]})]}),K&&c.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center justify-between ${K.type==="success"?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}`,children:[c.jsx("span",{children:K.message}),c.jsx("button",{onClick:()=>J(null),className:"ml-4 text-sm underline hover:no-underline",children:"Dismiss"})]}),(L||I)&&q(I),Ar?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto animate-bounce-in",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2 animate-fade-in-up",style:{color:"var(--text-color)"},children:"Loading books..."})]}):c.jsx("div",{className:"space-y-4",children:ca&&ca.length>0?ca.map($=>c.jsx("div",{className:"border rounded-lg p-6 hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--tertiary-color)",color:"var(--primary-color)"},children:"Book"}),$.genre&&c.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--accent-color)",color:"var(--primary-color)"},children:$.genre})]}),c.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--primary-color)"},children:$.title}),c.jsxs("p",{className:"mb-3",style:{color:"var(--text-color)"},children:[c.jsx("strong",{children:"Author:"})," ",$.author]}),$.description&&c.jsx("p",{className:"mb-3 line-clamp-2",style:{color:"var(--text-color)"},children:$.description}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",style:{color:"var(--text-color)"},children:[$.publication_year&&c.jsxs("span",{children:[c.jsx("strong",{children:"Published:"})," ",$.publication_year]}),$.pdf_file&&c.jsx("a",{href:$.pdf_file,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",style:{color:"var(--primary-color)"},children:"View PDF"})]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx("button",{onClick:()=>M($),className:"p-2 rounded-lg transition-all hover:scale-110 hover-glow",style:{color:"var(--primary-color)"},onMouseEnter:oe=>oe.target.style.backgroundColor="var(--accent-color)",onMouseLeave:oe=>oe.target.style.backgroundColor="transparent",children:c.jsx(Br,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>b($),className:"p-2 rounded-lg transition-all hover:scale-110 hover-glow",style:{color:"var(--error-color)"},onMouseEnter:oe=>oe.target.style.backgroundColor="var(--accent-color)",onMouseLeave:oe=>oe.target.style.backgroundColor="transparent",children:c.jsx(Xa,{className:"w-4 h-4"})})]})]})},$.id)):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:c.jsx(ic,{className:"w-12 h-12 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--primary-color)"},children:"No Books Yet"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Start building your digital bookshelf by adding your first book!"})]})})]})]})}),c.jsx(Nf,{})]})};function N2(){if(console&&console.warn){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const jy={};function Gh(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];typeof e[0]=="string"&&jy[e[0]]||(typeof e[0]=="string"&&(jy[e[0]]=new Date),N2(...e))}const Mv=(r,e)=>()=>{if(r.isInitialized)e();else{const t=()=>{setTimeout(()=>{r.off("initialized",t)},0),e()};r.on("initialized",t)}};function Ty(r,e,t){r.loadNamespaces(e,Mv(r,t))}function Py(r,e,t,s){typeof t=="string"&&(t=[t]),t.forEach(n=>{r.options.ns.indexOf(n)<0&&r.options.ns.push(n)}),r.loadLanguages(e,Mv(r,s))}function E2(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=e.languages[0],n=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const f=e.services.backendConnector.state[`${u}|${d}`];return f===-1||f===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!l(e.isLanguageChangingTo,r)?!1:!!(e.hasResourceBundle(s,r)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||l(s,r)&&(!n||l(a,r)))}function k2(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Gh("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(r,{lng:t.lng,precheck:(n,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,r))return!1}}):E2(r,e,t)}const _2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,j2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},T2=r=>j2[r],P2=r=>r.replace(_2,T2);let Kh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:P2};function R2(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Kh={...Kh,...r}}function L2(){return Kh}let Ov;function M2(r){Ov=r}function O2(){return Ov}const D2={type:"3rdParty",init(r){R2(r.options.react),M2(r)}},I2=H.createContext();class F2{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const B2=(r,e)=>{const t=H.useRef();return H.useEffect(()=>{t.current=r},[r,e]),t.current};function U2(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:s,defaultNS:n}=H.useContext(I2)||{},a=t||s||O2();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new F2),!a){Gh("You will need to pass in an i18next instance by using initReactI18next");const O=(k,j)=>typeof j=="string"?j:j&&typeof j=="object"&&typeof j.defaultValue=="string"?j.defaultValue:Array.isArray(k)?k[k.length-1]:k,T=[O,{},!1];return T.t=O,T.i18n={},T.ready=!1,T}a.options.react&&a.options.react.wait!==void 0&&Gh("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...L2(),...a.options.react,...e},{useSuspense:u,keyPrefix:d}=l;let f=n||a.options&&a.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(f);const p=(a.isInitialized||a.initializedStoreOnce)&&f.every(O=>k2(O,a,l));function m(){return a.getFixedT(e.lng||null,l.nsMode==="fallback"?f:f[0],d)}const[y,w]=H.useState(m);let C=f.join();e.lng&&(C=`${e.lng}${C}`);const v=B2(C),A=H.useRef(!0);H.useEffect(()=>{const{bindI18n:O,bindI18nStore:T}=l;A.current=!0,!p&&!u&&(e.lng?Py(a,e.lng,f,()=>{A.current&&w(m)}):Ty(a,f,()=>{A.current&&w(m)})),p&&v&&v!==C&&A.current&&w(m);function k(){A.current&&w(m)}return O&&a&&a.on(O,k),T&&a&&a.store.on(T,k),()=>{A.current=!1,O&&a&&O.split(" ").forEach(j=>a.off(j,k)),T&&a&&T.split(" ").forEach(j=>a.store.off(j,k))}},[a,C]);const E=H.useRef(!0);H.useEffect(()=>{A.current&&!E.current&&w(m),E.current=!1},[a,d]);const D=[y,a,p];if(D.t=y,D.i18n=a,D.ready=p,p||!p&&!u)return D;throw new Promise(O=>{e.lng?Py(a,e.lng,f,()=>O()):Ty(a,f,()=>O())})}const z2=({submission:r,onGrade:e,grading:t})=>{const[s,n]=H.useState(!1),[a,l]=H.useState(""),[u,d]=H.useState(""),f=async()=>{try{await e(r.id,a,u),n(!1),l(""),d("")}catch(p){console.error("Failed to submit grade:",p)}};return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-800",children:r.assignment?.title}),c.jsxs("p",{className:"text-sm text-gray-600",children:["By ",r.student?.username]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(r.submitted_at).toLocaleDateString()]})]}),c.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:"Pending"})]}),r.submission_text&&c.jsx("div",{className:"mb-3",children:c.jsxs("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded border-l-4 border-blue-200",children:[r.submission_text.substring(0,200),r.submission_text.length>200&&"..."]})}),r.attachment&&c.jsx("div",{className:"mb-3",children:c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600",children:[c.jsx("span",{children:""}),c.jsxs("span",{children:["Attachment: ",r.attachment]})]})}),s?c.jsxs("div",{className:"mt-4 space-y-3 border-t pt-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade (0-100)"}),c.jsx("input",{type:"number",min:"0",max:"100",value:a,onChange:p=>l(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter grade"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback"}),c.jsx("textarea",{value:u,onChange:p=>d(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Provide feedback to the student"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ns,{size:"sm",onClick:f,disabled:!a||t,children:t?"Grading...":"Submit Grade"}),c.jsx(ns,{size:"sm",variant:"outline",onClick:()=>n(!1),disabled:t,children:"Cancel"})]})]}):c.jsx(ns,{size:"sm",onClick:()=>n(!0),className:"w-full",disabled:t,children:t?"Grading...":"Grade Submission"})]})},Dv=()=>{const{t:r}=U2(),{user:e}=Cr(),[t,s]=H.useState("overview"),{tutorDashboard:n,pendingSubmissions:a,tutorClassSchedules:l,courses:u,assignments:d,coursesLoading:f,assignmentsLoading:p,tutorDashboardLoading:m,pendingSubmissionsLoading:y,tutorClassSchedulesLoading:w,gradeSubmission:C,gradingSubmission:v}=eu(),A=[{icon:Bn,title:r("tutor.courses"),value:n?.courses_taught?.toString()||"0",change:"Courses teaching",color:"blue"},{icon:vr,title:r("tutor.students"),value:n?.total_students?.toString()||"0",change:"Total enrolled",color:"green"},{icon:yr,title:"Pending Grading",value:n?.pending_grading?.toString()||"0",change:"Submissions to grade",color:"orange"},{icon:Vs,title:"Upcoming Classes",value:n?.upcoming_classes?.toString()||"0",change:"Classes scheduled",color:"purple"}],E=async(T,k,j)=>{await C(T,k,j)},D=(T,k,j)=>{const R=k?.filter(X=>X.course===T.id)||[],I=j?.filter(X=>R.some(U=>U.id===X.assignment))||[],M=I.filter(X=>X.grade!==null),L=R.length>0?M.length/R.length*100:0,V=M.length>0?M.reduce((X,U)=>X+parseFloat(U.grade),0)/M.length:0;return{totalAssignments:R.length,submittedAssignments:I.length,gradedAssignments:M.length,completionRate:Math.round(L),avgGrade:Math.round(V)}},O=f||p||m;return c.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--accent-color)"},children:[c.jsx("header",{className:"shadow-sm border-b",style:{backgroundColor:"var(--primary-color)"},children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(xf,{className:"w-8 h-8",style:{color:"var(--tertiary-color)"}}),c.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--light-text)"},children:"Tutor Dashboard"})]}),c.jsx("button",{className:"p-2 rounded-lg transition-all hover:scale-105 hover-glow",style:{color:"var(--tertiary-color)"},children:c.jsx(Yc,{className:"w-5 h-5"})})]})})}),c.jsx(Ro,{isLoading:O,loadingText:"Loading dashboard...",overlayColor:"rgba(0, 0, 0, 0.8)",spinnerColor:"var(--primary-color)",textColor:"white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"rounded-lg shadow-sm mb-6 p-2 flex flex-wrap gap-2 hover-lift",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("button",{onClick:()=>s("overview"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${t==="overview"?"text-white":""}`,style:{backgroundColor:t==="overview"?"var(--primary-color)":"transparent",color:t==="overview"?"var(--light-text)":"var(--text-color)"},onMouseEnter:T=>{t!=="overview"&&(T.target.style.backgroundColor="var(--accent-color)",T.target.style.color="var(--primary-color)")},onMouseLeave:T=>{t!=="overview"&&(T.target.style.backgroundColor="transparent",T.target.style.color="var(--text-color)")},children:[c.jsx(lv,{className:"w-4 h-4"}),"Overview"]}),c.jsxs("button",{onClick:()=>s("courses"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${t==="courses"?"text-white":""}`,style:{backgroundColor:t==="courses"?"var(--primary-color)":"transparent",color:t==="courses"?"var(--light-text)":"var(--text-color)"},onMouseEnter:T=>{t!=="courses"&&(T.target.style.backgroundColor="var(--accent-color)",T.target.style.color="var(--primary-color)")},onMouseLeave:T=>{t!=="courses"&&(T.target.style.backgroundColor="transparent",T.target.style.color="var(--text-color)")},children:[c.jsx(Bn,{className:"w-4 h-4"}),"Courses"]}),c.jsxs("button",{onClick:()=>s("assignments"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${t==="assignments"?"text-white":""}`,style:{backgroundColor:t==="assignments"?"var(--primary-color)":"transparent",color:t==="assignments"?"var(--light-text)":"var(--text-color)"},onMouseEnter:T=>{t!=="assignments"&&(T.target.style.backgroundColor="var(--accent-color)",T.target.style.color="var(--primary-color)")},onMouseLeave:T=>{t!=="assignments"&&(T.target.style.backgroundColor="transparent",T.target.style.color="var(--text-color)")},children:[c.jsx(lh,{className:"w-4 h-4"}),"Assignments"]}),c.jsxs("button",{onClick:()=>s("submissions"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${t==="submissions"?"text-white":""}`,style:{backgroundColor:t==="submissions"?"var(--primary-color)":"transparent",color:t==="submissions"?"var(--light-text)":"var(--text-color)"},onMouseEnter:T=>{t!=="submissions"&&(T.target.style.backgroundColor="var(--accent-color)",T.target.style.color="var(--primary-color)")},onMouseLeave:T=>{t!=="submissions"&&(T.target.style.backgroundColor="transparent",T.target.style.color="var(--text-color)")},children:[c.jsx(yr,{className:"w-4 h-4"}),"Submissions"]}),c.jsxs("button",{onClick:()=>s("schedule"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${t==="schedule"?"text-white":""}`,style:{backgroundColor:t==="schedule"?"var(--primary-color)":"transparent",color:t==="schedule"?"var(--light-text)":"var(--text-color)"},onMouseEnter:T=>{t!=="schedule"&&(T.target.style.backgroundColor="var(--accent-color)",T.target.style.color="var(--primary-color)")},onMouseLeave:T=>{t!=="schedule"&&(T.target.style.backgroundColor="transparent",T.target.style.color="var(--text-color)")},children:[c.jsx(Vs,{className:"w-4 h-4"}),"Schedule"]}),c.jsxs("button",{onClick:()=>s("students"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${t==="students"?"text-white":""}`,style:{backgroundColor:t==="students"?"var(--primary-color)":"transparent",color:t==="students"?"var(--light-text)":"var(--text-color)"},onMouseEnter:T=>{t!=="students"&&(T.target.style.backgroundColor="var(--accent-color)",T.target.style.color="var(--primary-color)")},onMouseLeave:T=>{t!=="students"&&(T.target.style.backgroundColor="transparent",T.target.style.color="var(--text-color)")},children:[c.jsx(vr,{className:"w-4 h-4"}),"Students"]}),c.jsxs("button",{onClick:()=>s("analytics"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 hover:scale-105 ${t==="analytics"?"text-white":""}`,style:{backgroundColor:t==="analytics"?"var(--primary-color)":"transparent",color:t==="analytics"?"var(--light-text)":"var(--text-color)"},onMouseEnter:T=>{t!=="analytics"&&(T.target.style.backgroundColor="var(--accent-color)",T.target.style.color="var(--primary-color)")},onMouseLeave:T=>{t!=="analytics"&&(T.target.style.backgroundColor="transparent",T.target.style.color="var(--text-color)")},children:[c.jsx(Uh,{className:"w-4 h-4"}),"Analytics"]})]}),t==="overview"&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("h2",{className:"text-2xl font-bold mb-4 animate-scale-in",style:{color:"var(--primary-color)"},children:["Welcome, ",e?.first_name||e?.username,"!"]}),c.jsx("p",{style:{color:"var(--text-color)"},children:"Here's an overview of your tutoring activities and student progress."})]}),c.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:A.map((T,k)=>c.jsx(dr,{icon:T.icon,title:T.title,value:T.value,change:T.change,color:T.color},k))}),c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--primary-color)"},children:"Quick Actions"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("button",{className:"p-4 rounded-lg border-2 hover:scale-105 transition-all hover-glow",style:{borderColor:"var(--primary-color)"},children:[c.jsx(Bn,{className:"w-6 h-6 mx-auto mb-2",style:{color:"var(--primary-color)"}}),c.jsx("span",{style:{color:"var(--text-color)"},children:"Create Assignment"})]}),c.jsxs("button",{className:"p-4 rounded-lg border-2 hover:scale-105 transition-all hover-glow",style:{borderColor:"var(--primary-color)"},children:[c.jsx(yr,{className:"w-6 h-6 mx-auto mb-2",style:{color:"var(--primary-color)"}}),c.jsx("span",{style:{color:"var(--text-color)"},children:"Grade Submissions"})]}),c.jsxs("button",{className:"p-4 rounded-lg border-2 hover:scale-105 transition-all hover-glow",style:{borderColor:"var(--primary-color)"},children:[c.jsx(Vs,{className:"w-6 h-6 mx-auto mb-2",style:{color:"var(--primary-color)"}}),c.jsx("span",{style:{color:"var(--text-color)"},children:"Schedule Class"})]})]})]})]}),t==="courses"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:"My Courses"}),c.jsxs("button",{className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(Bn,{className:"w-4 h-4"}),"Manage Courses"]})]}),c.jsx("div",{className:"space-y-4",children:f?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 mx-auto",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2",style:{color:"var(--text-color)"},children:"Loading courses..."})]}):u&&u.length>0?u.map(T=>c.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h4",{className:"font-semibold",style:{color:"var(--primary-color)"},children:T.title}),c.jsx("span",{className:"text-sm",style:{color:"var(--text-color)"},children:T.code})]}),c.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-color)"},children:T.description}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-sm",style:{color:"var(--text-color)"},children:[T.enrollments?.length||0," students enrolled"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-3 py-1 text-sm rounded hover:scale-105 transition-all",style:{backgroundColor:"var(--accent-color)",color:"var(--primary-color)"},children:"View Details"}),c.jsx("button",{className:"px-3 py-1 text-sm rounded hover:scale-105 transition-all",style:{backgroundColor:"var(--tertiary-color)",color:"var(--primary-color)"},children:"Edit"})]})]})]},T.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Bn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{style:{color:"var(--text-color)"},children:"No courses assigned"})]})})]}),t==="assignments"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:"Assignments"}),c.jsxs("button",{className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(lh,{className:"w-4 h-4"}),"Create Assignment"]})]}),c.jsx("div",{className:"space-y-4",children:p?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 mx-auto",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2",style:{color:"var(--text-color)"},children:"Loading assignments..."})]}):d&&d.length>0?d.map(T=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium mb-1",style:{color:"var(--primary-color)"},children:T.title}),c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[T.course?.title||"Course","  Due: ",new Date(T.due_date).toLocaleDateString()]}),c.jsxs("p",{className:"text-xs",style:{color:"var(--text-color)"},children:[T.submissions?.length||0," submissions  ",T.submissions?.filter(k=>k.grade).length||0," graded"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-3 py-1 text-sm rounded hover:scale-105 transition-all",style:{backgroundColor:"var(--accent-color)",color:"var(--primary-color)"},children:"View"}),c.jsx("button",{className:"px-3 py-1 text-sm rounded hover:scale-105 transition-all",style:{backgroundColor:"var(--tertiary-color)",color:"var(--primary-color)"},children:"Edit"})]})]},T.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(lh,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{style:{color:"var(--text-color)"},children:"No assignments created"})]})})]}),t==="submissions"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 animate-scale-in",style:{color:"var(--primary-color)"},children:"Pending Submissions"}),y?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 mx-auto",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2",style:{color:"var(--text-color)"},children:"Loading submissions..."})]}):a&&a.length>0?c.jsx("div",{className:"space-y-4",children:a.map(T=>c.jsx(z2,{submission:T,onGrade:E,grading:v},T.id))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Fh,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),c.jsx("p",{style:{color:"var(--text-color)"},children:"No pending submissions"}),c.jsx("p",{className:"text-sm",style:{color:"var(--text-color)"},children:"All caught up!"})]})]}),t==="schedule"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold animate-scale-in",style:{color:"var(--primary-color)"},children:"Upcoming Classes"}),c.jsxs("button",{className:"px-4 py-2 rounded-lg hover:scale-105 transition-all flex items-center gap-2 hover-glow",style:{backgroundColor:"var(--primary-color)",color:"var(--light-text)"},children:[c.jsx(Vs,{className:"w-4 h-4"}),"Schedule Class"]})]}),c.jsx("div",{className:"space-y-4",children:w?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 mx-auto",style:{borderColor:"var(--primary-color)"}}),c.jsx("p",{className:"mt-2",style:{color:"var(--text-color)"},children:"Loading schedule..."})]}):l&&l.length>0?l.map(T=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium mb-1",style:{color:"var(--primary-color)"},children:T.course?.title}),c.jsxs("p",{className:"text-sm mb-1",style:{color:"var(--text-color)"},children:[new Date(T.date).toLocaleDateString()," at ",T.time]}),c.jsxs("p",{className:"text-xs",style:{color:"var(--text-color)"},children:["Room: ",T.room,"  Duration: ",T.duration," minutes  ",T.students?.length||0," students"]})]}),c.jsx("button",{className:"px-3 py-1 text-sm rounded hover:scale-105 transition-all",style:{backgroundColor:"var(--accent-color)",color:"var(--primary-color)"},children:"View Details"})]},T.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Vs,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{style:{color:"var(--text-color)"},children:"No upcoming classes"}),c.jsx("p",{className:"text-sm",style:{color:"var(--text-color)"},children:"Schedule some classes"})]})})]}),t==="students"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 animate-scale-in",style:{color:"var(--primary-color)"},children:"Student Management"}),c.jsx("div",{className:"space-y-4",children:u&&u.length>0?u.map(T=>c.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-all hover-lift",style:{borderColor:"var(--primary-color)"},children:[c.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--primary-color)"},children:T.title}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium mb-2",style:{color:"var(--text-color)"},children:["Enrolled Students (",T.enrollments?.length||0,")"]}),T.enrollments&&T.enrollments.length>0?c.jsxs("div",{className:"space-y-2",children:[T.enrollments.slice(0,5).map(k=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[c.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-semibold",style:{backgroundColor:"var(--primary-color)"},children:k.student?.first_name?.charAt(0)||"S"}),c.jsxs("span",{className:"text-sm",style:{color:"var(--text-color)"},children:[k.student?.first_name," ",k.student?.last_name]})]},k.id)),T.enrollments.length>5&&c.jsxs("p",{className:"text-xs",style:{color:"var(--text-color)"},children:["And ",T.enrollments.length-5," more..."]})]}):c.jsx("p",{className:"text-sm",style:{color:"var(--text-color)"},children:"No students enrolled"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text-color)"},children:"Quick Actions"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{className:"w-full px-3 py-2 text-sm rounded hover:scale-105 transition-all",style:{backgroundColor:"var(--accent-color)",color:"var(--primary-color)"},children:"View All Students"}),c.jsx("button",{className:"w-full px-3 py-2 text-sm rounded hover:scale-105 transition-all",style:{backgroundColor:"var(--tertiary-color)",color:"var(--primary-color)"},children:"Send Message"})]})]})]})]},T.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(vr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{style:{color:"var(--text-color)"},children:"No courses to show students for"})]})})]}),t==="analytics"&&c.jsxs("div",{className:"rounded-lg shadow-md p-6 hover-lift animate-fade-in-up",style:{backgroundColor:"var(--light-text)"},children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 animate-scale-in",style:{color:"var(--primary-color)"},children:"Student Performance Analytics"}),c.jsx("div",{className:"space-y-4",children:u&&u.length>0?u.map(T=>{const k=D(T,d,a);return c.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--accent-color)"},children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold",style:{color:"var(--primary-color)"},children:T.title}),c.jsx("p",{className:"text-sm",style:{color:"var(--text-color)"},children:T.code})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--primary-color)"},children:[k.avgGrade||0,"%"]}),c.jsx("div",{className:"text-xs",style:{color:"var(--text-color)"},children:"Average Grade"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[k.completionRate,"%"]}),c.jsx("div",{className:"text-xs",style:{color:"var(--text-color)"},children:"Completion Rate"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:k.gradedAssignments}),c.jsx("div",{className:"text-xs",style:{color:"var(--text-color)"},children:"Graded"})]})]}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1",style:{color:"var(--text-color)"},children:[c.jsx("span",{children:"Assignment Progress"}),c.jsxs("span",{children:[k.submittedAssignments,"/",k.totalAssignments]})]}),c.jsx(Rv,{progress:k.completionRate,color:"green"})]}),c.jsxs("div",{className:"text-xs",style:{color:"var(--text-color)"},children:[k.totalAssignments," total assignments  ",k.submittedAssignments," submitted  ",k.gradedAssignments," graded"]})]},T.id)}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Uh,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{style:{color:"var(--text-color)"},children:"No course performance data available"})]})})]})]})}),c.jsx(Nf,{})]})},$2=()=>{const{language:r}=yt(),e=r==="ar";return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-accent to-light-text",children:[c.jsx(dv,{}),c.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"text-8xl sm:text-9xl md:text-[12rem] font-bold text-primary opacity-20 leading-none",children:"404"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 bg-primary rounded-full flex items-center justify-center shadow-lg",children:c.jsx(pr,{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 text-light-text"})})})]})}),c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-4",children:e?"  ":"Page Not Found"}),c.jsx("p",{className:"text-lg sm:text-xl text-text max-w-lg mx-auto leading-relaxed",children:e?"            .":"Sorry, the page you're looking for doesn't exist or has been moved to another location."}),c.jsx("p",{className:"text-base sm:text-lg text-text/80 max-w-2xl mx-auto",children:e?"        .":"Double-check the URL or return to our homepage to continue your journey."})]}),c.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 justify-center items-center ${e?"sm:flex-row-reverse":""}`,children:[c.jsxs(ns,{as:tn,to:"/",size:"lg",className:"w-full sm:w-auto min-w-[180px] flex items-center gap-2 justify-center",children:[c.jsx(cv,{className:"w-5 h-5"}),e?" ":"Go Home"]}),c.jsxs(ns,{variant:"outline",size:"lg",onClick:()=>window.history.back(),className:"w-full sm:w-auto min-w-[180px] flex items-center gap-2 justify-center",children:[c.jsx(fC,{className:`w-5 h-5 ${e?"rotate-180":""}`}),e?" ":"Go Back"]})]}),c.jsxs("div",{className:"mt-12 pt-8 border-t border-accent",children:[c.jsx("h2",{className:"text-lg font-semibold text-text mb-4",children:e?" :":"Helpful Links:"}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm",children:[c.jsx(tn,{to:"/",className:"text-link hover:text-link-hover transition-colors hover:underline",children:e?" ":"Home"}),c.jsx(tn,{to:"/login",className:"text-link hover:text-link-hover transition-colors hover:underline",children:e?" ":"Login"}),c.jsx(tn,{to:"/signup",className:"text-link hover:text-link-hover transition-colors hover:underline",children:e?" ":"Sign Up"}),c.jsx("a",{href:"#contact",className:"text-link hover:text-link-hover transition-colors hover:underline",children:e?" ":"Contact Us"})]})]})]})}),c.jsx(ta,{})]})},Yt=(r={})=>{const[e,t]=H.useState(!1),[s,n]=H.useState(!1),a=H.useRef(null),{threshold:l=.1,rootMargin:u="0px 0px -50px 0px",triggerOnce:d=!0}=r;return H.useEffect(()=>{const p=new IntersectionObserver(([y])=>{y.isIntersecting?(t(!0),d&&n(!0)):d||t(!1)},{threshold:l,rootMargin:u}),m=a.current;return m&&p.observe(m),()=>{m&&p.unobserve(m)}},[l,u,d]),{ref:a,isVisible:e,hasAnimated:s,animationClasses:e||s?"animate-fade-in-up":"opacity-0 translate-y-8"}},H2=(r,e=100)=>{const[t,s]=H.useState(new Set),n=H.useRef(null);return H.useEffect(()=>{const a=new IntersectionObserver(([u])=>{if(u.isIntersecting)for(let d=0;d<r;d++)setTimeout(()=>{s(f=>new Set([...f,d]))},d*e)},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),l=n.current;return l&&a.observe(l),()=>{l&&a.unobserve(l)}},[r,e]),{ref:n,visibleItems:t}},V2="/assets/logo-1-C_1FE9Uf.png",tu=()=>{const{t:r}=yt(),e=Qi(),[t,s]=H.useState(!1),n=[{path:"/",label:r("nav.home"),key:"home"},{path:"/about",label:r("nav.about"),key:"about"},{path:"/academics",label:r("nav.academics"),key:"academics"},{path:"/admissions",label:r("nav.admissions"),key:"admissions"}],a=()=>{s(!t)};return c.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center space-x-4",children:c.jsx(tn,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:c.jsx("img",{src:V2,alt:"Logo",className:"h-10 w-auto sm:h-12"})})}),c.jsx("nav",{className:"hidden md:flex space-x-6 lg:space-x-8",children:n.map(l=>c.jsx(tn,{to:l.path,className:`text-sm lg:text-base font-medium transition-colors hover:text-blue-600 ${e.pathname===l.path?"text-blue-600 border-b-2 border-blue-600 pb-1":"text-gray-700 hover:text-blue-600"}`,children:l.label},l.key))}),c.jsx("div",{className:"flex items-center space-x-4",children:c.jsx(Lv,{})}),c.jsx("div",{className:"md:hidden",children:c.jsx("button",{onClick:a,className:"text-gray-700 hover:text-blue-600 transition-colors",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})})]}),c.jsx("div",{className:`md:hidden overflow-hidden transition-all duration-300 ease-in-out ${t?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("nav",{className:"border-t border-gray-200 pt-3 pb-3",children:c.jsx("div",{className:"flex flex-col space-y-1",children:n.map((l,u)=>c.jsx("div",{className:`transform transition-all duration-300 ease-out ${t?"translate-x-0 opacity-100":"translate-x-4 opacity-0"}`,style:{transitionDelay:t?`${u*100}ms`:"0ms"},children:c.jsx(tn,{to:l.path,onClick:()=>s(!1),className:`group text-sm font-medium transition-all duration-200 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg block transform hover:scale-105 ${e.pathname===l.path?"text-blue-600 bg-blue-50 border-l-4 border-blue-600":"text-gray-700 hover:text-blue-600"}`,children:c.jsxs("span",{className:"flex items-center",children:[c.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.label]})})},l.key))})})})]})})},W2=()=>{const{t:r}=yt(),{ref:e,animationClasses:t}=Yt();Yt(),Yt(),Yt(),Yt(),Yt();const[s,n]=H.useState({founded:0,students:0,faculty:0,employment:0}),{visibleItems:a}=H2(4,200);return H.useEffect(()=>{if(a.size>0){const l={founded:1900,students:25e3,faculty:1200,employment:95},u=2e3,d=60,f=u/d;Object.keys(l).forEach((p,m)=>{if(a.has(m)){const y=l[p],w=y/d;let C=0;const v=setInterval(()=>{C+=w,C>=y&&(C=y,clearInterval(v)),n(A=>({...A,[p]:Math.floor(C)}))},f)}})}},[a]),c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(tu,{}),c.jsx("section",{ref:e,className:"bg-primary text-white py-12 sm:py-16 lg:py-20",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:`text-center ${t}`,children:[c.jsx("h1",{className:"text-2xl xs:text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4 lg:mb-6 leading-tight",children:r("about.title")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-200 max-w-2xl sm:max-w-3xl lg:max-w-4xl mx-auto leading-relaxed",children:r("about.subtitle")})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 lg:gap-12",children:[c.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-lg shadow-lg hover-lift",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("about.missionTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg leading-relaxed",children:r("about.missionText")})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-lg shadow-lg hover-lift",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("about.visionTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg leading-relaxed",children:r("about.visionText")})]})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-4 sm:mb-6 lg:mb-8",children:r("about.historyTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg leading-relaxed mb-6 sm:mb-8",children:r("about.historyText")}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 mt-6 sm:mt-8 lg:mt-12",children:[c.jsxs("div",{className:`text-center hover-scale transition-transform duration-300 ${a.has(0)?"animate-count-up":""}`,children:[c.jsxs("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-accent mb-1 sm:mb-2",children:[s.founded,s.founded>0&&s.founded<1900?"+":""]}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:r("about.founded")})]}),c.jsxs("div",{className:`text-center hover-scale transition-transform duration-300 ${a.has(1)?"animate-count-up":""}`,children:[c.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-accent mb-1 sm:mb-2",children:s.students>0?s.students>=1e3?`${(s.students/1e3).toFixed(0)}K+`:s.students:"0"}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:r("about.students")})]}),c.jsxs("div",{className:`text-center hover-scale transition-transform duration-300 ${a.has(2)?"animate-count-up":""}`,children:[c.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-accent mb-1 sm:mb-2",children:s.faculty>0?s.faculty>=1e3?`${(s.faculty/1e3).toFixed(0)}K+`:s.faculty:"0"}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:r("about.faculty")})]}),c.jsxs("div",{className:`text-center hover-scale transition-transform duration-300 ${a.has(3)?"animate-count-up":""}`,children:[c.jsxs("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-accent mb-1 sm:mb-2",children:[s.employment,"%"]}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:r("about.employmentRate")})]})]})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("about.leadershipTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg max-w-xl sm:max-w-2xl mx-auto",children:r("about.leadershipSubtitle")})]}),c.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg text-center hover-lift hover-glow",children:[c.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 bg-gray-300 rounded-full mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover-scale"}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("about.presidentName")}),c.jsx("p",{className:"text-accent text-xs sm:text-sm lg:text-base mb-1 sm:mb-2",children:r("about.presidentTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:r("about.presidentBio")})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg text-center hover-lift hover-glow",children:[c.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 bg-gray-300 rounded-full mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover-scale"}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("about.vpName")}),c.jsx("p",{className:"text-accent text-xs sm:text-sm lg:text-base mb-1 sm:mb-2",children:r("about.vpTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:r("about.vpBio")})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg text-center hover-lift hover-glow xs:col-span-2 lg:col-span-1",children:[c.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 bg-gray-300 rounded-full mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover-scale"}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("about.deanName")}),c.jsx("p",{className:"text-accent text-xs sm:text-sm lg:text-base mb-1 sm:mb-2",children:r("about.deanTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:r("about.deanBio")})]})]})]})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("about.valuesTitle")})}),c.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6 hover-lift hover-scale animate-fade-in-up animate-stagger-1",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover:rotate-12",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl font-bold",children:"E"})}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("about.excellenceTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("about.excellenceText")})]}),c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6 hover-lift hover-scale animate-fade-in-up animate-stagger-2",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover:rotate-12",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl font-bold",children:"I"})}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("about.innovationTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("about.innovationText")})]}),c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6 hover-lift hover-scale animate-fade-in-up animate-stagger-3 xs:col-span-2 lg:col-span-1",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover:rotate-12",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl font-bold",children:"C"})}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("about.communityTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("about.communityText")})]})]})]})}),c.jsx(ta,{})]})},q2=()=>{const{t:r}=yt(),{ref:e,animationClasses:t}=Yt();return Yt(),Yt(),Yt(),Yt(),c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(tu,{}),c.jsx("section",{ref:e,className:"bg-primary text-white py-12 sm:py-16 lg:py-20",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:`text-center ${t}`,children:[c.jsx("h1",{className:"text-2xl xs:text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4 lg:mb-6 leading-tight",children:r("academics.title")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-200 max-w-2xl sm:max-w-3xl lg:max-w-4xl mx-auto leading-relaxed",children:r("academics.subtitle")})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("academics.collegesTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg max-w-xl sm:max-w-2xl mx-auto",children:r("academics.collegesSubtitle")})]}),c.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-up animate-stagger-1",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.engineeringTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.engineeringDesc")}),c.jsxs("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1",children:[c.jsxs("li",{children:[" ",r("academics.csProgram")]}),c.jsxs("li",{children:[" ",r("academics.mechanicalProgram")]}),c.jsxs("li",{children:[" ",r("academics.electricalProgram")]})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-up animate-stagger-2",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.businessTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.businessDesc")}),c.jsxs("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1",children:[c.jsxs("li",{children:[" ",r("academics.mbaProgram")]}),c.jsxs("li",{children:[" ",r("academics.financeProgram")]}),c.jsxs("li",{children:[" ",r("academics.marketingProgram")]})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-up animate-stagger-3 xs:col-span-2 lg:col-span-1",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.sciencesTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.sciencesDesc")}),c.jsxs("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1",children:[c.jsxs("li",{children:[" ",r("academics.biologyProgram")]}),c.jsxs("li",{children:[" ",r("academics.chemistryProgram")]}),c.jsxs("li",{children:[" ",r("academics.physicsProgram")]})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-up animate-stagger-4",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.liberalArtsTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.liberalArtsDesc")}),c.jsxs("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1",children:[c.jsxs("li",{children:[" ",r("academics.englishProgram")]}),c.jsxs("li",{children:[" ",r("academics.historyProgram")]}),c.jsxs("li",{children:[" ",r("academics.philosophyProgram")]})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-up animate-stagger-5",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.medicineTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.medicineDesc")}),c.jsxs("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1",children:[c.jsxs("li",{children:[" ",r("academics.medicineProgram")]}),c.jsxs("li",{children:[" ",r("academics.nursingProgram")]}),c.jsxs("li",{children:[" ",r("academics.pharmacyProgram")]})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-up animate-stagger-6 xs:col-span-2 lg:col-span-1",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.educationTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.educationDesc")}),c.jsxs("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1",children:[c.jsxs("li",{children:[" ",r("academics.elementaryProgram")]}),c.jsxs("li",{children:[" ",r("academics.secondaryProgram")]}),c.jsxs("li",{children:[" ",r("academics.specialEdProgram")]})]})]})]})]})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("academics.undergraduateTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg",children:r("academics.undergraduateDesc")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[c.jsxs("div",{className:"bg-gray-50 p-4 sm:p-6 rounded-lg",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-3 sm:mb-4",children:r("academics.bachelorDegrees")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.bachelorDesc")}),c.jsxs("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1 sm:space-y-2",children:[c.jsxs("li",{children:[" ",r("academics.120CreditHour")]}),c.jsxs("li",{children:[" ",r("academics.generalEducation")]}),c.jsxs("li",{children:[" ",r("academics.majorRequirements")]}),c.jsxs("li",{children:[" ",r("academics.electiveCourses")]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 sm:p-6 rounded-lg",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-3 sm:mb-4",children:r("academics.associateDegrees")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.associateDesc")}),c.jsxs("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1 sm:space-y-2",children:[c.jsxs("li",{children:[" ",r("academics.60CreditHour")]}),c.jsxs("li",{children:[" ",r("academics.transferReady")]}),c.jsxs("li",{children:[" ",r("academics.careerFocused")]}),c.jsxs("li",{children:[" ",r("academics.fastTrack")]})]})]})]})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("academics.graduateTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg",children:r("academics.graduateDesc")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.masterDegrees")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.masterDesc")}),c.jsxs("p",{className:"text-accent text-xs sm:text-sm font-semibold",children:[r("academics.duration"),": 1-2 ",r("academics.years")]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.doctoralDegrees")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.doctoralDesc")}),c.jsxs("p",{className:"text-accent text-xs sm:text-sm font-semibold",children:[r("academics.duration"),": 4-6 ",r("academics.years")]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg lg:col-span-1",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2 sm:mb-3",children:r("academics.certificatePrograms")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base mb-3 sm:mb-4",children:r("academics.certificateDesc")}),c.jsxs("p",{className:"text-accent text-xs sm:text-sm font-semibold",children:[r("academics.duration"),": 6-12 ",r("academics.months")]})]})]})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("academics.resourcesTitle")})}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6 hover-lift hover-scale animate-fade-in-up animate-stagger-1 cursor-pointer",onClick:()=>window.location.href="/library",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover:rotate-12 animate-pulse-gentle",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl",children:""})}),c.jsx("h3",{className:"text-xs sm:text-sm lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("academics.libraryTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:r("academics.libraryDesc")})]}),c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6 hover-lift hover-scale animate-fade-in-up animate-stagger-2",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover:rotate-12 animate-pulse-gentle",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl",children:""})}),c.jsx("h3",{className:"text-xs sm:text-sm lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("academics.onlineLearningTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:r("academics.onlineLearningDesc")})]}),c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6 hover-lift hover-scale animate-fade-in-up animate-stagger-3",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover:rotate-12 animate-pulse-gentle",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl",children:""})}),c.jsx("h3",{className:"text-xs sm:text-sm lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("academics.researchTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:r("academics.researchDesc")})]}),c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6 hover-lift hover-scale animate-fade-in-up animate-stagger-4",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 transition-transform duration-300 hover:rotate-12 animate-pulse-gentle",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl",children:""})}),c.jsx("h3",{className:"text-xs sm:text-sm lg:text-xl font-bold text-primary mb-1 sm:mb-2",children:r("academics.calendarTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:r("academics.calendarDesc")})]})]})]})}),c.jsx(ta,{})]})},G2=()=>{const{t:r}=yt(),{ref:e,animationClasses:t}=Yt();return Yt(),Yt(),Yt(),Yt(),Yt(),c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(tu,{}),c.jsx("section",{ref:e,className:"bg-primary text-white py-12 sm:py-16 lg:py-20",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:`text-center ${t}`,children:[c.jsx("h1",{className:"text-2xl xs:text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4 lg:mb-6 leading-tight",children:r("admissions.title")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-200 max-w-2xl sm:max-w-3xl lg:max-w-4xl mx-auto leading-relaxed",children:r("admissions.subtitle")})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("admissions.applyNowTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg max-w-xl sm:max-w-2xl mx-auto mb-4 sm:mb-6 lg:mb-8",children:r("admissions.applyNowDesc")}),c.jsx("button",{className:"bg-accent hover:bg-accent/90 text-white px-4 sm:px-6 lg:px-8 py-2.5 sm:py-3 lg:py-4 rounded-lg font-semibold text-sm sm:text-base lg:text-lg transition-all duration-300 transform hover:scale-105 animate-pulse-gentle",children:r("admissions.startApplication")})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("admissions.undergraduateTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg",children:r("admissions.undergraduateDesc")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-6 sm:mb-8 lg:mb-12",children:[c.jsxs("div",{className:"bg-gray-50 p-4 sm:p-6 rounded-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-left animate-stagger-1",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-3 sm:mb-4",children:r("admissions.requirementsTitle")}),c.jsxs("ul",{className:"text-gray-600 text-xs sm:text-sm lg:text-base space-y-1 sm:space-y-2",children:[c.jsxs("li",{children:[" ",r("admissions.highSchoolDiploma")]}),c.jsxs("li",{children:[" ",r("admissions.satOrAct")]}),c.jsxs("li",{children:[" ",r("admissions.transcripts")]}),c.jsxs("li",{children:[" ",r("admissions.essays")]}),c.jsxs("li",{children:[" ",r("admissions.letterOfRecommendation")]}),c.jsxs("li",{children:[" ",r("admissions.applicationFee")]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 sm:p-6 rounded-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-right animate-stagger-2",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-3 sm:mb-4",children:r("admissions.timelineTitle")}),c.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[c.jsxs("div",{className:"flex justify-between animate-timeline-in",children:[c.jsx("span",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.earlyDecision")}),c.jsx("span",{className:"text-primary font-semibold text-xs sm:text-sm lg:text-base",children:r("admissions.november1")})]}),c.jsxs("div",{className:"flex justify-between animate-timeline-in animate-stagger-1",children:[c.jsx("span",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.earlyAction")}),c.jsx("span",{className:"text-primary font-semibold text-xs sm:text-sm lg:text-base",children:r("admissions.november15")})]}),c.jsxs("div",{className:"flex justify-between animate-timeline-in animate-stagger-2",children:[c.jsx("span",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.regularDecision")}),c.jsx("span",{className:"text-primary font-semibold text-xs sm:text-sm lg:text-base",children:r("admissions.january15")})]}),c.jsxs("div",{className:"flex justify-between animate-timeline-in animate-stagger-3",children:[c.jsx("span",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.transferDeadline")}),c.jsx("span",{className:"text-primary font-semibold text-xs sm:text-sm lg:text-base",children:r("admissions.march1")})]})]})]})]}),c.jsx("div",{className:"text-center",children:c.jsx("button",{className:"bg-primary hover:bg-primary/90 text-white px-4 sm:px-6 lg:px-8 py-2.5 sm:py-3 lg:py-4 rounded-lg font-semibold text-sm sm:text-base lg:text-lg transition-all duration-300 transform hover:scale-105 animate-pulse-gentle",children:r("admissions.undergraduateChecklist")})})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("admissions.graduateTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg",children:r("admissions.graduateDesc")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-6 sm:mb-8 lg:mb-12",children:[c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-up animate-stagger-1",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-3 sm:mb-4",children:r("admissions.masterRequirements")}),c.jsxs("ul",{className:"text-gray-600 text-xs sm:text-sm lg:text-base space-y-1 sm:space-y-2",children:[c.jsxs("li",{children:[" ",r("admissions.bachelorDegree")]}),c.jsxs("li",{children:[" ",r("admissions.greScores")]}),c.jsxs("li",{children:[" ",r("admissions.transcripts")]}),c.jsxs("li",{children:[" ",r("admissions.statementsOfPurpose")]}),c.jsxs("li",{children:[" ",r("admissions.lettersOfRecommendation")]}),c.jsxs("li",{children:[" ",r("admissions.interview")]})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg hover-lift hover-glow transition-all duration-300 animate-fade-in-up animate-stagger-2",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-3 sm:mb-4",children:r("admissions.phdRequirements")}),c.jsxs("ul",{className:"text-gray-600 text-xs sm:text-sm lg:text-base space-y-1 sm:space-y-2",children:[c.jsxs("li",{children:[" ",r("admissions.masterDegree")]}),c.jsxs("li",{children:[" ",r("admissions.researchProposal")]}),c.jsxs("li",{children:[" ",r("admissions.academicWriting")]}),c.jsxs("li",{children:[" ",r("admissions.facultySupport")]}),c.jsxs("li",{children:[" ",r("admissions.qualifyingExam")]}),c.jsxs("li",{children:[" ",r("admissions.comprehensiveExam")]})]})]})]}),c.jsx("div",{className:"text-center",children:c.jsx("button",{className:"bg-primary hover:bg-primary/90 text-white px-4 sm:px-6 lg:px-8 py-2.5 sm:py-3 lg:py-4 rounded-lg font-semibold text-sm sm:text-base lg:text-lg transition-all duration-300 transform hover:scale-105 animate-pulse-gentle",children:r("admissions.graduateChecklist")})})]})})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("admissions.financialAidTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg max-w-xl sm:max-w-2xl mx-auto",children:r("admissions.financialAidDesc")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl",children:""})}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2",children:r("admissions.scholarshipsTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.scholarshipsDesc")})]}),c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl",children:""})}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2",children:r("admissions.grantsTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.grantsDesc")})]}),c.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-6",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:c.jsx("span",{className:"text-white text-lg sm:text-xl lg:text-2xl",children:""})}),c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2",children:r("admissions.studentLoansTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.studentLoansDesc")})]})]}),c.jsx("div",{className:"text-center mt-6 sm:mt-8 lg:mt-12",children:c.jsx("button",{className:"bg-accent hover:bg-accent/90 text-white px-4 sm:px-6 lg:px-8 py-2.5 sm:py-3 lg:py-4 rounded-lg font-semibold text-sm sm:text-base lg:text-lg transition-colors",children:r("admissions.financialAidCalculator")})})]})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[c.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary mb-3 sm:mb-4 lg:mb-6",children:r("admissions.visitCampusTitle")}),c.jsx("p",{className:"text-gray-700 text-sm sm:text-base lg:text-lg mb-4 sm:mb-6 lg:mb-8",children:r("admissions.visitCampusDesc")}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 mb-4 sm:mb-6 lg:mb-8",children:[c.jsxs("div",{className:"bg-white p-3 sm:p-4 lg:p-6 rounded-lg shadow-lg",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2",children:r("admissions.campusToursTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.campusToursDesc")})]}),c.jsxs("div",{className:"bg-white p-3 sm:p-4 lg:p-6 rounded-lg shadow-lg",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2",children:r("admissions.infoSessionsTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.infoSessionsDesc")})]}),c.jsxs("div",{className:"bg-white p-3 sm:p-4 lg:p-6 rounded-lg shadow-lg",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-primary mb-2",children:r("admissions.overnightStaysTitle")}),c.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base",children:r("admissions.overnightStaysDesc")})]})]}),c.jsx("button",{className:"bg-primary hover:bg-primary/90 text-white px-4 sm:px-6 lg:px-8 py-2.5 sm:py-3 lg:py-4 rounded-lg font-semibold text-sm sm:text-base lg:text-lg transition-colors",children:r("admissions.scheduleVisit")})]})})}),c.jsx(ta,{})]})},ds=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Xh=[.001,0,0,.001,0,0],vh=1.35,Ts={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},bn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},xo="pdfjs_internal_editor_",$e={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Iv={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Kt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},uo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_t={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Mi={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Mo={ERRORS:0,WARNINGS:1,INFOS:5},qi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ac={moveTo:0,lineTo:1,curveTo:2,closePath:3},Fv={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let su=Mo.WARNINGS;function K2(r){Number.isInteger(r)&&(su=r)}function X2(){return su}function nu(r){su>=Mo.INFOS&&console.info(`Info: ${r}`)}function He(r){su>=Mo.WARNINGS&&console.warn(`Warning: ${r}`)}function at(r){throw new Error(r)}function Ye(r,e){r||at(e)}function Y2(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ef(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"&&(t.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),t.tryConvertEncoding))try{r=tN(r)}catch{}const s=e?URL.parse(r,e):URL.parse(r);return Y2(s)?s:null}function kf(r,e,t=!1){const s=URL.parse(r);return s?(s.hash=e,s.href):t&&Ef(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function We(r,e,t,s=!1){return Object.defineProperty(r,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const si=(function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e})();class Ry extends si{constructor(e,t){super(e,"PasswordException"),this.code=t}}class bh extends si{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Lc extends si{constructor(e){super(e,"InvalidPDFException")}}class vo extends si{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class Q2 extends si{constructor(e){super(e,"FormatError")}}class Un extends si{constructor(e){super(e,"AbortException")}}function Bv(r){(typeof r!="object"||r?.length===void 0)&&at("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const s=[];for(let n=0;n<e;n+=t){const a=Math.min(n+t,e),l=r.subarray(n,a);s.push(String.fromCharCode.apply(null,l))}return s.join("")}function Oo(r){typeof r!="string"&&at("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=r.charCodeAt(s)&255;return t}function J2(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function Z2(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function eN(){try{return new Function(""),!0}catch{return!1}}class $t{static get isLittleEndian(){return We(this,"isLittleEndian",Z2())}static get isEvalSupported(){return We(this,"isEvalSupported",eN())}static get isOffscreenCanvasSupported(){return We(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return We(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return We(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return We(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const wh=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class Ce{static makeHexColor(e,t,s){return`#${wh[e]}${wh[t]}${wh[s]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,s=0){const n=e[s],a=e[s+1];e[s]=n*t[0]+a*t[2]+t[4],e[s+1]=n*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const n=t[0],a=t[1],l=t[2],u=t[3],d=t[4],f=t[5];for(let p=0;p<6;p+=2){const m=e[s+p],y=e[s+p+1];e[s+p]=m*n+y*l+d,e[s+p+1]=m*a+y*u+f}}static applyInverseTransform(e,t){const s=e[0],n=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-n*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-s*t[1]+n*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,s){const n=t[0],a=t[1],l=t[2],u=t[3],d=t[4],f=t[5],p=e[0],m=e[1],y=e[2],w=e[3];let C=n*p+d,v=C,A=n*y+d,E=A,D=u*m+f,O=D,T=u*w+f,k=T;if(a!==0||l!==0){const j=a*p,R=a*y,I=l*m,M=l*w;C+=I,E+=I,A+=M,v+=M,D+=j,k+=j,T+=R,O+=R}s[0]=Math.min(s[0],C,A,v,E),s[1]=Math.min(s[1],D,T,O,k),s[2]=Math.max(s[2],C,A,v,E),s[3]=Math.max(s[3],D,T,O,k)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],n=e[1],a=e[2],l=e[3],u=s**2+n**2,d=s*a+n*l,f=a**2+l**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-d**2));t[0]=Math.sqrt(p+m||1),t[1]=Math.sqrt(p-m||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),n=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>n)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>l?null:[s,a,n,l]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,n,a){a[0]=Math.min(a[0],e,s),a[1]=Math.min(a[1],t,n),a[2]=Math.max(a[2],e,s),a[3]=Math.max(a[3],t,n)}static#e(e,t,s,n,a,l,u,d,f,p){if(f<=0||f>=1)return;const m=1-f,y=f*f,w=y*f,C=m*(m*(m*e+3*f*t)+3*y*s)+w*n,v=m*(m*(m*a+3*f*l)+3*y*u)+w*d;p[0]=Math.min(p[0],C),p[1]=Math.min(p[1],v),p[2]=Math.max(p[2],C),p[3]=Math.max(p[3],v)}static#t(e,t,s,n,a,l,u,d,f,p,m,y){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#e(e,t,s,n,a,l,u,d,-m/p,y);return}const w=p**2-4*m*f;if(w<0)return;const C=Math.sqrt(w),v=2*f;this.#e(e,t,s,n,a,l,u,d,(-p+C)/v,y),this.#e(e,t,s,n,a,l,u,d,(-p-C)/v,y)}static bezierBoundingBox(e,t,s,n,a,l,u,d,f){f[0]=Math.min(f[0],e,u),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,u),f[3]=Math.max(f[3],t,d),this.#t(e,s,a,u,t,n,l,d,3*(-e+3*(s-a)+u),6*(e-2*s+a),3*(s-e),f),this.#t(e,s,a,u,t,n,l,d,3*(-t+3*(n-l)+d),6*(t-2*n+l),3*(n-t),f)}}function tN(r){return decodeURIComponent(escape(r))}let Sh=null,Ly=null;function Uv(r){return Sh||(Sh=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ly=new Map([["","t"]])),r.replaceAll(Sh,(e,t,s)=>t?t.normalize("NFKC"):Ly.get(s))}function _f(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),Bv(r)}const jf="pdfjs_internal_id_";function sN(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,n,...a]=t;if(!r(s)&&!Number.isInteger(s)||!e(n))return!1;const l=a.length;let u=!0;switch(n.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of a)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function ss(r,e,t){return Math.min(Math.max(r,e),t)}function zv(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(Bv(r))}function nN(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):Oo(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class bo{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function n(a){if(!a)return;let l=null;const u=a.name;if(u==="#text")l=a.value;else if(bo.shouldBuildText(u))a?.attributes?.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&t.push({str:l}),!!a.children)for(const d of a.children)n(d)}return n(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class Tf{static setupStorage(e,t,s,n,a){const l=n.getValue(t,{value:null});switch(s.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),a==="print")break;e.addEventListener("input",u=>{n.setValue(t,{value:u.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(l.value===s.attributes.xfaOn?e.setAttribute("checked",!0):l.value===s.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",u=>{n.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),a==="print")break;e.addEventListener("input",u=>{n.setValue(t,{value:u.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const u of s.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;n.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:n,linkService:a}){const{attributes:l}=t,u=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${n}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}u&&a.addLinkAttributes(e,l.href,l.newWindow),s&&l.dataId&&this.setupStorage(e,l.dataId,t,s)}static render(e){const t=e.annotationStorage,s=e.linkService,n=e.xfaHtml,a=e.intent||"display",l=document.createElement(n.name);n.attributes&&this.setAttributes({html:l,element:n,intent:a,linkService:s});const u=a!=="richText",d=e.div;if(d.append(l),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=m}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(n.children.length===0){if(n.value){const m=document.createTextNode(n.value);l.append(m),u&&bo.shouldBuildText(n.name)&&f.push(m)}return{textDivs:f}}const p=[[n,-1,l]];for(;p.length>0;){const[m,y,w]=p.at(-1);if(y+1===m.children.length){p.pop();continue}const C=m.children[++p.at(-1)[1]];if(C===null)continue;const{name:v}=C;if(v==="#text"){const E=document.createTextNode(C.value);f.push(E),w.append(E);continue}const A=C?.attributes?.xmlns?document.createElementNS(C.attributes.xmlns,v):document.createElement(v);if(w.append(A),C.attributes&&this.setAttributes({html:A,element:C,storage:t,intent:a,linkService:s}),C.children?.length>0)p.push([C,-1,A]);else if(C.value){const E=document.createTextNode(C.value);u&&bo.shouldBuildText(v)&&f.push(E),A.append(E)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const In="http://www.w3.org/2000/svg";class Zr{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function na(r,e="text"){if(ao(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType=e,n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE){if(n.status===200||n.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(n.response);return}t(n.responseText);return}s(new Error(n.statusText))}},n.send(null)})}class Do{constructor({viewBox:e,userUnit:t,scale:s,rotation:n,offsetX:a=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=n,this.offsetX=a,this.offsetY=l,s*=t;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,m,y,w;switch(n%=360,n<0&&(n+=360),n){case 180:p=-1,m=0,y=0,w=1;break;case 90:p=0,m=1,y=1,w=0;break;case 270:p=0,m=-1,y=-1,w=0;break;case 0:p=1,m=0,y=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,w=-w);let C,v,A,E;p===0?(C=Math.abs(f-e[1])*s+a,v=Math.abs(d-e[0])*s+l,A=(e[3]-e[1])*s,E=(e[2]-e[0])*s):(C=Math.abs(d-e[0])*s+a,v=Math.abs(f-e[1])*s+l,A=(e[2]-e[0])*s,E=(e[3]-e[1])*s),this.transform=[p*s,m*s,y*s,w*s,C-p*s*d-y*s*f,v-m*s*d-w*s*f],this.width=A,this.height=E}get rawDims(){const e=this.viewBox;return We(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:n=this.offsetY,dontFlip:a=!1}={}){return new Do({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:n,dontFlip:a})}convertToViewportPoint(e,t){const s=[e,t];return Ce.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];Ce.applyTransform(t,this.transform);const s=[e[2],e[3]];return Ce.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return Ce.applyInverseTransform(s,this.transform),s}}class ru extends si{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Io(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function iu(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function $v(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function Hv(r,e="document.pdf"){if(typeof r!="string")return e;if(Io(r))return He('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(r);if(!s)return e;const n=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},a=/\.pdf$/i,l=s.pathname.split("/").at(-1);if(a.test(l))return n(l);if(s.searchParams.size>0){const u=Array.from(s.searchParams.values()).reverse();for(const f of u)if(a.test(f))return n(f);const d=Array.from(s.searchParams.keys()).reverse();for(const f of d)if(a.test(f))return n(f)}if(s.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(d)return n(d[0])}return e}class My{started=Object.create(null);times=[];time(e){e in this.started&&He(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||He(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:n,end:a}of this.times)e.push(`${s.padEnd(t)} ${a-n}ms
`);return e.join("")}}function ao(r,e){const t=e?URL.parse(r,e):URL.parse(r);return t?.protocol==="http:"||t?.protocol==="https:"}function Ls(r){r.preventDefault()}function wt(r){r.preventDefault(),r.stopPropagation()}function rN(r){console.log("Deprecated API usage: "+r)}class Mc{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const s=parseInt(t[1],10);let n=parseInt(t[2],10);n=n>=1&&n<=12?n-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(t[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(l+=p,u+=m):f==="+"&&(l-=p,u-=m),new Date(Date.UTC(s,n,a,l,u,d))}}function Vv(r,{scale:e=1,rotation:t=0}){const{width:s,height:n}=r.attributes.style,a=[0,0,parseInt(s),parseInt(n)];return new Do({viewBox:a,userUnit:1,scale:e,rotation:t})}function ra(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(He(`Not a valid color format: "${r}"`),[0,0,0])}function iN(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;r.set(t,ra(s))}e.remove()}function bt(r){const{a:e,b:t,c:s,d:n,e:a,f:l}=r.getTransform();return[e,t,s,n,a,l]}function pn(r){const{a:e,b:t,c:s,d:n,e:a,f:l}=r.getTransform().invertSelf();return[e,t,s,n,a,l]}function br(r,e,t=!1,s=!0){if(e instanceof Do){const{pageWidth:n,pageHeight:a}=e.rawDims,{style:l}=r,u=$t.isCSSRoundSupported,d=`var(--total-scale-factor) * ${n}px`,f=`var(--total-scale-factor) * ${a}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}s&&r.setAttribute("data-main-rotation",e.rotation)}class sn{constructor(){const{pixelRatio:e}=sn;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,n,a=-1){let l=1/0,u=1/0,d=1/0;s=sn.capPixels(s,a),s>0&&(l=Math.sqrt(s/(e*t))),n!==-1&&(u=n/e,d=n/t);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const Oc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class aN{static get isDarkMode(){return We(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Wv{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:s}=window.getComputedStyle(e);return e.remove(),We(this,"commentForegroundColor",ra(s))}}function qv(r,e,t,s){s=Math.min(Math.max(s??1,0),1);const n=255*(1-s);return r=Math.round(r*s+n),e=Math.round(e*s+n),t=Math.round(t*s+n),[r,e,t]}function Oy(r,e){const t=r[0]/255,s=r[1]/255,n=r[2]/255,a=Math.max(t,s,n),l=Math.min(t,s,n),u=(a+l)/2;if(a===l)e[0]=e[1]=0;else{const d=a-l;switch(e[1]=u<.5?d/(a+l):d/(2-a-l),a){case t:e[0]=((s-n)/d+(s<n?6:0))*60;break;case s:e[0]=((n-t)/d+2)*60;break;case n:e[0]=((t-s)/d+4)*60;break}}e[2]=u}function Yh(r,e){const t=r[0],s=r[1],n=r[2],a=(1-Math.abs(2*n-1))*s,l=a*(1-Math.abs(t/60%2-1)),u=n-a/2;switch(Math.floor(t/60)){case 0:e[0]=a+u,e[1]=l+u,e[2]=u;break;case 1:e[0]=l+u,e[1]=a+u,e[2]=u;break;case 2:e[0]=u,e[1]=a+u,e[2]=l+u;break;case 3:e[0]=u,e[1]=l+u,e[2]=a+u;break;case 4:e[0]=l+u,e[1]=u,e[2]=a+u;break;case 5:case 6:e[0]=a+u,e[1]=u,e[2]=l+u;break}}function Dy(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function Iy(r,e,t){Yh(r,t),t.map(Dy);const s=.2126*t[0]+.7152*t[1]+.0722*t[2];Yh(e,t),t.map(Dy);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];return s>n?(s+.05)/(n+.05):(n+.05)/(s+.05)}const Fy=new Map;function Gv(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let s=Fy.get(t);if(s)return s;const n=new Float32Array(9),a=n.subarray(0,3),l=n.subarray(3,6);Oy(r,l);const u=n.subarray(6,9);Oy(e,u);const d=u[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),Iy(l,u,a)<f){let p,m;d?(p=l[2],m=1):(p=0,m=l[2]);const y=.005;for(;m-p>y;){const w=l[2]=(p+m)/2;d===Iy(l,u,a)<f?p=w:m=w}l[2]=d?m:p}return Yh(l,a),s=Ce.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),Fy.set(t,s),s}function Pf({html:r,dir:e,className:t},s){const n=document.createDocumentFragment();if(typeof r=="string"){const a=document.createElement("p");a.dir=e||"auto";const l=r.split(/(?:\r\n?|\n)/);for(let u=0,d=l.length;u<d;++u){const f=l[u];a.append(document.createTextNode(f)),u<d-1&&a.append(document.createElement("br"))}n.append(a)}else Tf.render({xfaHtml:r,div:n,intent:"richText"});n.firstChild.classList.add("richText",t),s.append(n)}class ho{#e=null;#t=null;#n;#s=null;#a=null;#r=null;#i=null;#o=null;static#c=null;constructor(e){this.#n=e,ho.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Ls,{signal:t}),e.addEventListener("pointerdown",ho.#l,{signal:t}));const s=this.#s=document.createElement("div");s.className="buttons",e.append(s);const n=this.#n.toolbarPosition;if(n){const{style:a}=e,l=this.#n._uiManager.direction==="ltr"?1-n[0]:n[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*n[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#n._focusEventsAllowed=!1,wt(e)}#d(e){this.#n._focusEventsAllowed=!0,wt(e)}#f(e){const t=this.#n._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ls,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#r?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,s=document.createElement("button");s.classList.add("basic","deleteButton"),s.tabIndex=0,s.setAttribute("data-l10n-id",ho.#c[e]),this.#f(s)&&s.addEventListener("click",n=>{t.delete()},{signal:t._signal}),this.#s.append(s)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#s.append(t,this.#g),this.#a=e}addComment(e,t=null){if(this.#r)return;const s=e.renderForToolbar();if(!s)return;this.#f(s);const n=this.#i=this.#g;t?(this.#s.insertBefore(s,t),this.#s.insertBefore(n,t)):this.#s.append(s,n),this.#r=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#s.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#n);this.#f(t),this.#s.append(t,this.#g)}removeButton(e){switch(e){case"comment":this.#r?.removeToolbarCommentButton(),this.#r=null,this.#i?.remove(),this.#i=null;break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,s){const n=this.#s.querySelector(s);n&&e==="comment"&&this.addComment(t,n)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class oN{#e=null;#t=null;#n;constructor(e){this.#n=e}#s(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Ls,{signal:t});const s=this.#e=document.createElement("div");return s.className="buttons",e.append(s),this.#n.hasCommentManager()&&this.#r("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#r("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),e}#a(e,t){let s=0,n=0;for(const a of e){const l=a.y+a.height;if(l<s)continue;const u=a.x+(t?a.width:0);if(l>s){n=u,s=l;continue}t?u>n&&(n=u):u<n&&(n=u)}return[t?1-n:n,s]}show(e,t,s){const[n,a]=this.#a(t,s),{style:l}=this.#t||=this.#s();e.append(this.#t),l.insetInlineEnd=`${100*n}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(e,t,s,n){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",t);const l=document.createElement("span");a.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",s);const u=this.#n._signal;u instanceof AbortSignal&&!u.aborted&&(a.addEventListener("contextmenu",Ls,{signal:u}),a.addEventListener("click",n,{signal:u})),this.#e.append(a)}}function Kv(r,e,t){for(const s of t)e.addEventListener(s,r[s].bind(r))}class lN{#e=0;get id(){return`${xo}${this.#e++}`}}class Rf{#e=_f();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),n=new Image;n.src=e;const a=n.decode().then(()=>(s.drawImage(n,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return We(this,"_isSVGFittingCanvas",a)}async#s(e,t){this.#n||=new Map;let s=this.#n.get(e);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let n;if(typeof t=="string"?(s.url=t,n=await na(t,"blob")):t instanceof File?n=s.file=t:t instanceof Blob&&(n=t),n.type==="image/svg+xml"){const a=Rf._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{s.bitmap=u,s.isSvg=!0,f()},l.onload=async()=>{const m=s.svgUrl=l.result;u.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=l.onerror=p});l.readAsDataURL(n),await d}else s.bitmap=await createImageBitmap(n);s.refCounter=1}catch(n){He(n),s=null}return this.#n.set(e,s),s&&this.#n.set(s.id,s),s}async getFromFile(e){const{lastModified:t,name:s,size:n,type:a}=e;return this.#s(`${t}_${s}_${n}_${a}`,e)}async getFromUrl(e){return this.#s(e,e)}async getFromBlob(e,t){const s=await t;return this.#s(e,s)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let s=this.#n.get(e);if(s?.bitmap)return s.refCounter+=1,s;const n=new OffscreenCanvas(t.width,t.height);return n.getContext("2d").drawImage(t,0,0),s={bitmap:n.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,s),this.#n.set(s.id,s),s}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const n=new OffscreenCanvas(s.width,s.height);n.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=n.convertToBlob()}s.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class cN{#e=[];#t=!1;#n;#s=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:s,mustExec:n,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(n&&e(),this.#t)return;const d={cmd:e,undo:t,post:s,type:a};if(this.#s===-1){this.#e.length>0&&(this.#e.length=0),this.#s=0,this.#e.push(d);return}if(l&&this.#e[this.#s].type===a){u&&(d.undo=this.#e[this.#s].undo),this.#e[this.#s]=d;return}const f=this.#s+1;f===this.#n?this.#e.splice(0,1):(this.#s=f,f<this.#e.length&&this.#e.splice(f)),this.#e.push(d)}undo(){if(this.#s===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#s];e(),t?.(),this.#t=!1,this.#s-=1}redo(){if(this.#s<this.#e.length-1){this.#s+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#s];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#s!==-1}hasSomethingToRedo(){return this.#s<this.#e.length-1}cleanType(e){if(this.#s!==-1){for(let t=this.#s;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#s-t),this.#s=t;return}this.#e.length=0,this.#s=-1}}destroy(){this.#e=null}}class Fo{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=$t.platform;for(const[s,n,a={}]of e)for(const l of s){const u=l.startsWith("mac+");t&&u?(this.callbacks.set(l.slice(4),{callback:n,options:a}),this.allKeys.add(l.split("+").at(-1))):!t&&!u&&(this.callbacks.set(l,{callback:n,options:a}),this.allKeys.add(l.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(this.#e(t));if(!s)return;const{callback:n,options:{bubbles:a=!1,args:l=[],checker:u=null}}=s;u&&!u(e,t)||(n.bind(e,...l,t)(),a||wt(t))}}class Lf{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return iN(e),We(this,"_colors",e)}convert(e){const t=ra(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,n]of this._colors)if(n.every((a,l)=>a===t[l]))return Lf._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?Ce.makeHexColor(...t):e}}class zn{#e=new AbortController;#t=null;#n=null;#s=new Map;#a=new Map;#r=null;#i=null;#o=null;#c=new cN;#l=null;#h=null;#d=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#v=!1;#x=!1;#N=null;#C=null;#b=null;#k=null;#S=!1;#A=null;#T=new lN;#_=!1;#j=!1;#I=!1;#R=null;#M=null;#F=null;#O=null;#V=null;#E=$e.NONE;#w=new Set;#L=null;#B=null;#z=null;#G=null;#q=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#$=[0,0];#D=null;#W=null;#J=null;#Z=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=zn.prototype,t=l=>l.#W.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),s=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},n=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return We(this,"_keyboardManager",new Fo([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#W.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#W.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}constructor(e,t,s,n,a,l,u,d,f,p,m,y,w,C,v,A){const E=this._signal=this.#e.signal;this.#W=e,this.#J=t,this.#Z=s,this.#r=n,this.#l=a,this.#B=l,this.#q=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:E}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),u._on("setpreference",this.onSetPreference.bind(this),{signal:E}),u._on("switchannotationeditorparams",D=>this.updateParams(D.type,D.value),{signal:E}),window.addEventListener("pointerdown",()=>{this.#j=!0},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{this.#j=!1},{capture:!0,signal:E}),this.#le(),this.#he(),this.#te(),this.#i=d.annotationStorage,this.#N=d.filterFactory,this.#z=f,this.#k=p||null,this.#y=m,this.#v=y,this.#x=w,this.#V=C||null,this.viewParameters={realScale:Zr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=A!==!1,a?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#s.clear(),this.#m.clear(),this.#O?.clear(),this.#t=null,this.#w.clear(),this.#c.destroy(),this.#r?.destroy(),this.#l?.destroy(),this.#B?.destroy(),this.#A?.hide(),this.#A=null,this.#F?.destroy(),this.#F=null,this.#n=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#D&&(clearTimeout(this.#D),this.#D=null),this._editorUndoBar?.destroy(),this.#q=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#V}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#x}get hcmFilter(){return We(this,"hcmFilter",this.#z?this.#N.addHCMFilter(this.#z.foreground,this.#z.background):"none")}get direction(){return We(this,"direction",getComputedStyle(this.#W).direction)}get _highlightColors(){return We(this,"_highlightColors",this.#k?new Map(this.#k.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return We(this,"highlightColors",null);const t=new Map,s=!!this.#z;for(const[n,a]of e){const l=n.endsWith("_HCM");if(s&&l){t.set(n.replace("_HCM",""),a);continue}!s&&!l&&t.set(n,a)}return We(this,"highlightColors",t)}get highlightColorNames(){return We(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#F=e}editAltText(e,t=!1){this.#r?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,s,n){this.#l?.showDialog(this,e,t,s,n)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,s=void 0){this.#l?.toggleCommentPopup(e,t,s)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:s}=Promise.withResolvers(),n=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",n),t())};this._eventBus.on("editorsrendered",n),await s}getSignature(e){this.#B?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#B}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#x=t;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#W.focus()}findParent(e,t){for(const s of this.#a.values()){const{x:n,y:a,width:l,height:u}=s.div.getBoundingClientRect();if(e>=n&&e<=n+l&&t>=a&&t<=a+u)return s}return null}disableUserSelect(e=!1){this.#J.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Zr.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of this.#a.values())if(s.hasTextLayer(e))return s;return null}highlightSelection(e="",t=!1){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:n,anchorOffset:a,focusNode:l,focusOffset:u}=s,d=s.toString(),p=this.#Q(s).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;s.empty();const y=this.#ee(p),w=this.#E===$e.NONE,C=()=>{const v=y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:n,anchorOffset:a,focusNode:l,focusOffset:u,text:d});w&&this.showAllEditors("highlight",!0,!0),t&&v?.editComment()};if(w){this.switchToMode($e.HIGHLIGHT,C);return}C()}commentSelection(e=""){this.highlightSelection(e,!0)}#ae(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=this.#Q(e).closest(".textLayer"),n=this.getSelectionBoxes(s);n&&(this.#A||=new oN(this),this.#A.show(s,n,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const t=`${xo}${e}`,s=this.#i.getRawValue(t);return s&&this.#i.remove(t),s}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,t=null){const s=this.#Z;s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}#oe(){const e=document.getSelection();if(!e||e.isCollapsed){this.#L&&(this.#A?.hide(),this.#L=null,this.#P({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#L)return;const n=this.#Q(e).closest(".textLayer");if(!n){this.#L&&(this.#A?.hide(),this.#L=null,this.#P({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#L=t,this.#P({hasSelectedText:!0}),!(this.#E!==$e.HIGHLIGHT&&this.#E!==$e.NONE)&&(this.#E===$e.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#E===$e.HIGHLIGHT?this.#ee(n):null;if(a?.toggleDrawing(),this.#j){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),a?.toggleDrawing(!0),f.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else a?.toggleDrawing(!0),this.#X("main_toolbar")}}#X(e=""){this.#E===$e.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#ae()}#le(){document.addEventListener("selectionchange",this.#oe.bind(this),{signal:this._signal})}#ce(){if(this.#b)return;this.#b=new AbortController;const e=this.combinedSignal(this.#b);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ue(){this.#b?.abort(),this.#b=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#w)if(t.div.contains(e)){this.#M=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[e,t]=this.#M;this.#M=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#R)return;this.#R=new AbortController;const e=this.combinedSignal(this.#R);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#de(){this.#R?.abort(),this.#R=null}#se(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ne(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#se()}removeEditListeners(){this.#de(),this.#ne()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of this.#u)if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of this.#u)if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of this.#w){const n=s.serialize(!0);n&&t.push(n)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(a){He(`paste: "${a.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const n=this.currentLayer;try{const a=[];for(const d of s){const f=await n.deserialize(d);if(!f)return;a.push(f)}const l=()=>{for(const d of a)this.#re(d);this.#ie(a)},u=()=>{for(const d of a)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(a){He(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==$e.NONE&&!this.isEditorHandlingKeyboard&&zn._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#X("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#P(e){Object.entries(e).some(([s,n])=>this.#K[s]!==n)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,e)}),this.#E===$e.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#H([[Xe.HIGHLIGHT_FREE,!0]]))}#H(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#se(),this.#P({isEditing:this.#E!==$e.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ue(),this.#ne(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#H(t.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#_?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,s=!1,n=!1,a=!1){if(this.#E!==e&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#E===$e.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#E=e,e===$e.NONE){this.setEditingState(!1),this.#pe();for(const l of this.#s.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const l of this.#s.values())l.addStandaloneCommentButton();e===$e.SIGNATURE&&await this.#B?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const l of this.#a.values())l.updateMode(e);if(e===$e.POPUP){this.#n||=await this.#q.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,u=[];for(const d of this.#s.values()){const{annotationElementId:f,hasComment:p,deleted:m}=d;f&&l.add(f),p&&!m&&u.push(d.getData())}for(const d of this.#n){const{id:f,popupRef:p,contentsObj:m}=d;p&&m?.str&&!l.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!t){s&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const l of this.#s.values())l.uid===t?(this.setSelected(l),a?l.editComment():n?l.enterInEditMode():l.focus()):l.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case Xe.CREATE:this.currentLayer.addNewEditor(t);return;case Xe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const s of this.#w)s.updateParams(e,t);else for(const s of this.#u)s.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){for(const a of this.#s.values())a.editorType===e&&a.show(t);(this.#G?.get(Xe.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#H([[Xe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#I!==e){this.#I=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#_){this.#_=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#s.values())t.enable()}}#pe(){if(this.unselectAll(),this.#_){this.#_=!1;for(const e of this.#a.values())e.disable();for(const e of this.#s.values())e.disable()}}*getEditors(e){for(const t of this.#s.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#s.get(e)}addEditor(e){this.#s.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#s.delete(e.id),e.annotationElementId&&this.#O?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#re(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#H(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#w);return e}updateUI(e){this.#me===e&&this.#H(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#H(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#P({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#d?.commitOrRemove();for(const t of this.#w)t!==e&&t.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#P({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(e){this.#c.add(e),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(e){this.#c.cleanType(e)}#Y(){if(this.#s.size===0)return!0;if(this.#s.size===1)for(const e of this.#s.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#w],s=()=>{this._editorUndoBar?.show(n,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},n=()=>{for(const a of t)this.#re(a)};this.addCommands({cmd:s,undo:n,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#w)t.unselect();this.#w.clear();for(const t of e)t.isEmpty()||(this.#w.add(t),t.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#ie(this.#s.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==$e.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#$[0]+=e,this.#$[1]+=t;const[n,a]=this.#$,l=[...this.#w],u=1e3;this.#D&&clearTimeout(this.#D),this.#D=setTimeout(()=>{this.#D=null,this.#$[0]=this.#$[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#s.has(d.id)&&(d.translateInPage(n,a),d.translationDone())},undo:()=>{for(const d of l)this.#s.has(d.id)&&(d.translateInPage(-n,-a),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#w)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let t=!1;for(const[{x:n,y:a,pageIndex:l},u]of e)u.newX=n,u.newY=a,u.newPageIndex=l,t||=n!==u.savedX||a!==u.savedY||l!==u.savedPageIndex;if(!t)return!1;const s=(n,a,l,u)=>{if(this.#s.has(n.id)){const d=this.#a.get(u);d?n._setParentAndPosition(d,a,l):(n.pageIndex=u,n.x=a,n.y=l)}};return this.addCommands({cmd:()=>{for(const[n,{newX:a,newY:l,newPageIndex:u}]of e)s(n,a,l,u)},undo:()=>{for(const[n,{savedX:a,savedY:l,savedPageIndex:u}]of e)s(n,a,l,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#p)for(const s of this.#p.keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}isEditingMode(){return this.#E!==$e.NONE}get imageManager(){return We(this,"imageManager",new Rf)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,p=t.rangeCount;f<p;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:s,y:n,width:a,height:l}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(f,p,m,y)=>({x:(p-n)/l,y:1-(f+m-s)/a,width:y/l,height:m/a});break;case"180":u=(f,p,m,y)=>({x:1-(f+m-s)/a,y:1-(p+y-n)/l,width:m/a,height:y/l});break;case"270":u=(f,p,m,y)=>({x:1-(p+y-n)/l,y:(f-s)/a,width:y/l,height:m/a});break;default:u=(f,p,m,y)=>({x:(f-s)/a,y:(p-n)/l,width:m/a,height:y/l});break}const d=[];for(let f=0,p=t.rangeCount;f<p;f++){const m=t.getRangeAt(f);if(!m.collapsed)for(const{x:y,y:w,width:C,height:v}of m.getClientRects())C===0||v===0||d.push(u(y,w,C,v))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const s=this.#i.getRawValue(t);s&&(this.#E===$e.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){const n=this.#O?.get(e);n&&(n.setCanvas(t,s),this.#O.delete(e))}addMissingCanvas(e,t){(this.#O||=new Map).set(e,t)}}class xn{#e=null;#t=!1;#n=null;#s=null;#a=null;#r=null;#i=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,xn.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){xn._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#s=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",xn.#f.missing),t.setAttribute("data-l10n-id",xn.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#c._uiManager._signal;e.addEventListener("contextmenu",Ls,{signal:s}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:s});const n=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",n,{capture:!0,signal:s}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#i=!0,n(a))},{signal:s}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await xn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:n,cancel:a=!1}){s&&(this.#l=s,this.#h=n),!(this.#e===e&&this.#t===t)&&(a||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#s=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#n;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",xn.#f[this.#g]),this.#s?.setAttribute("data-l10n-id",xn.#f[`${this.#g}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const n=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},n)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#a?.classList.remove("show")},{signal:a})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class oc{#e=null;#t=null;#n=!1;#s=null;#a=null;#r=null;#i=null;#o=null;#c=!1;#l=null;constructor(e){this.#s=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#s.commentButtonPosition;if(t){const{style:s}=e;s.insetInlineEnd=`calc(${100*(this.#s._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,s.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const n=this.#s.commentButtonColor;n&&(s.backgroundColor=n)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#s.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#s._uiManager.updatePopupColor(this.#s)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#s.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:s}=this.#e.getBoundingClientRect(),{x:n,y:a,width:l,height:u}=this.#s.parent.boundingClientRect;return[(e-n)/l,(t+s-a)/u]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#h(e,t){if(!this.#s._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#s._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const s=this.#s._uiManager._signal;if(!(s instanceof AbortSignal)||s.aborted)return e;e.addEventListener("contextmenu",Ls,{signal:s}),t&&(e.addEventListener("focusin",a=>{this.#s._focusEventsAllowed=!1,wt(a)},{capture:!0,signal:s}),e.addEventListener("focusout",a=>{this.#s._focusEventsAllowed=!0,wt(a)},{capture:!0,signal:s})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:s});const n=a=>{a.preventDefault(),e===this.#t?this.edit():this.#s.toggleComment(!0)};return e.addEventListener("click",n,{capture:!0,signal:s}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#n=!0,n(a))},{signal:s}),e.addEventListener("pointerenter",()=>{this.#s.toggleComment(!1,!0)},{signal:s}),e.addEventListener("pointerleave",()=>{this.#s.toggleComment(!1,!1)},{signal:s}),e}edit(e){const t=this.commentPopupPositionInLayer;let s,n;if(t)[s,n]=t;else{[s,n]=this.#s.commentButtonPosition;const{width:p,height:m,x:y,y:w}=this.#s;s=y+s*p,n=w+n*m}const a=this.#s.parent.boundingClientRect,{x:l,y:u,width:d,height:f}=a;this.#s._uiManager.editComment(this.#s,l+s*d,u+n*f,{...e,parentDimensions:a})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#n}),this.#n=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#a}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#r,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#r=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#r=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#r=null,this.#o=null,this.#s=null,this.#n=!1,this.#c=!1}}class Bo{#e;#t=!1;#n=null;#s;#a;#r;#i;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:n=null,onPinching:a=null,onPinchEnd:l=null,signal:u}){this.#e=e,this.#n=s,this.#s=t,this.#a=n,this.#r=a,this.#i=l,this.#h=new AbortController,this.#c=AbortSignal.any([u,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/sn.pixelRatio}#f(e){if(this.#s?.())return;if(e.touches.length===1){if(this.#o)return;const n=this.#o=new AbortController,a=AbortSignal.any([this.#c,n.signal]),l=this.#e,u={capture:!0,signal:a,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(wt(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#d){this.#d=new AbortController;const n=AbortSignal.any([this.#c,this.#d.signal]),a=this.#e,l={signal:n,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),l);const u=this.#p.bind(this);a.addEventListener("touchend",u,l),a.addEventListener("touchcancel",u,l),l.capture=!0,a.addEventListener("pointerdown",wt,l),a.addEventListener("pointermove",wt,l),a.addEventListener("pointercancel",wt,l),a.addEventListener("pointerup",wt,l),this.#a?.()}if(wt(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;wt(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:n,screenY:a}=t,{screenX:l,screenY:u}=s,d=this.#l,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:y}=d,w=m-f,C=y-p,v=l-n,A=u-a,E=Math.hypot(v,A)||1,D=Math.hypot(w,C)||1;if(!this.#t&&Math.abs(D-E)<=Bo.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=n,d.touch0Y=a,d.touch1X=l,d.touch1Y=u,!this.#t){this.#t=!0;return}const O=[(n+l)/2,(a+u)/2];this.#r?.(O,D,E)}#p(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(wt(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Te{#e=null;#t=null;#n=null;#s=null;#a=null;#r=!1;#i=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#v=!1;#x=null;#N=0;#C=0;#b=null;#k=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#A=Te._zIndex++;static _borderLineWidth=-1;static _colorManager=new Lf;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Te.prototype._resizeWithKeyboard,t=zn.TRANSLATE_SMALL,s=zn.TRANSLATE_BIG;return We(this,"_resizerKeyboardManager",new Fo([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],Te.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:n,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,n],this.pageTranslation=[a,l];const[u,d]=this.parentDimensions;this.x=e.x/u,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return We(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new uN({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Te._l10n??=e,Te._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Te._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Te._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){at("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(e){this.#S=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#D(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,n){const[a,l]=this.parentDimensions;[s,n]=this.screenToPageTranslation(s,n),this.x=(e+s)/a,this.y=(t+n)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,n]=this.parentDimensions;this.setAt(e*s,t*n,this.width*s,this.height*n),this._onTranslated()}#T([e,t],s,n){[s,n]=this.screenToPageTranslation(s,n),this.x+=s/e,this.y+=n/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#T(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[n,a]}=this;if(this.x+=e/n,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=s;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=Te,n=s/e,a=s/t;switch(this.rotation){case 90:return[-n,a];case 180:return[n,a];case 270:return[n,-a];default:return[-n,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,n]}=this;let{x:a,y:l,width:u,height:d}=this;if(u*=s,d*=n,a*=s,l*=n,this._mustFixPosition)switch(e){case 0:a=ss(a,0,s-u),l=ss(l,0,n-d);break;case 90:a=ss(a,0,s-d),l=ss(l,u,n);break;case 180:a=ss(a,u,s),l=ss(l,d,n);break;case 270:a=ss(a,d,s),l=ss(l,0,n-u);break}this.x=a/=s,this.y=l/=n;const[f,p]=this.getBaseTranslation();a+=f,l+=p,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#_(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Te.#_(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Te.#_(e,t,360-this.parentRotation)}#j(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(){const{div:{style:e},width:t,height:s}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*s).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const n=document.createElement("div");this.#c.append(n),n.classList.add("resizer",s),n.setAttribute("data-resizer-name",s),n.addEventListener("pointerdown",this.#R.bind(this,s),{signal:t}),n.addEventListener("contextmenu",Ls,{signal:t}),n.tabIndex=-1}this.div.prepend(this.#c)}#R(e,t){t.preventDefault();const{isMac:s}=$t.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#n?.toggle(!1);const n=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#O.bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",wt,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ls,{signal:l}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=n,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#F()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#M(e,t,s,n){this.width=s,this.height=n,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#h)return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:n}=this.#h;this.#h=null;const a=this.x,l=this.y,u=this.width,d=this.height;a===e&&l===t&&u===s&&d===n||this.addCommands({cmd:this.#M.bind(this,a,l,u,d),undo:this.#M.bind(this,e,t,s,n),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#O(e,t){const[s,n]=this.parentDimensions,a=this.x,l=this.y,u=this.width,d=this.height,f=Te.MIN_SIZE/s,p=Te.MIN_SIZE/n,m=this.#j(this.rotation),y=(Q,b)=>[m[0]*Q+m[2]*b,m[1]*Q+m[3]*b],w=this.#j(360-this.rotation),C=(Q,b)=>[w[0]*Q+w[2]*b,w[1]*Q+w[3]*b];let v,A,E=!1,D=!1;switch(e){case"topLeft":E=!0,v=(Q,b)=>[0,0],A=(Q,b)=>[Q,b];break;case"topMiddle":v=(Q,b)=>[Q/2,0],A=(Q,b)=>[Q/2,b];break;case"topRight":E=!0,v=(Q,b)=>[Q,0],A=(Q,b)=>[0,b];break;case"middleRight":D=!0,v=(Q,b)=>[Q,b/2],A=(Q,b)=>[0,b/2];break;case"bottomRight":E=!0,v=(Q,b)=>[Q,b],A=(Q,b)=>[0,0];break;case"bottomMiddle":v=(Q,b)=>[Q/2,b],A=(Q,b)=>[Q/2,0];break;case"bottomLeft":E=!0,v=(Q,b)=>[0,b],A=(Q,b)=>[Q,0];break;case"middleLeft":D=!0,v=(Q,b)=>[0,b/2],A=(Q,b)=>[Q,b/2];break}const O=v(u,d),T=A(u,d);let k=y(...T);const j=Te._round(a+k[0]),R=Te._round(l+k[1]);let I=1,M=1,L,V;if(t.fromKeyboard)({deltaX:L,deltaY:V}=t);else{const{screenX:Q,screenY:b}=t,[q,F]=this.#l;[L,V]=this.screenToPageTranslation(Q-q,b-F),this.#l[0]=Q,this.#l[1]=b}if([L,V]=C(L/s,V/n),E){const Q=Math.hypot(u,d);I=M=Math.max(Math.min(Math.hypot(T[0]-O[0]-L,T[1]-O[1]-V)/Q,1/u,1/d),f/u,p/d)}else D?I=ss(Math.abs(T[0]-O[0]-L),f,1)/u:M=ss(Math.abs(T[1]-O[1]-V),p,1)/d;const X=Te._round(u*I),U=Te._round(d*M);k=y(...A(X,U));const K=j-k[0],J=R-k[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=X,this.height=U,this.x=K,this.y=J,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new ho(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#n?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(xn.initialize(Te._l10n),this.#n=new xn(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}focusCommentButton(){this.#s?.focusButton()}addCommentButton(){return this.#s||=new oc(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#s.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#s.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:s,deleted:n}}=this.#s;return{text:t,richText:e,date:s,deleted:n,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#s||=new oc(this),this.#s.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:s}){if(!t||(this.#s||=new oc(this),this.#s.setInitialText(e,s),!this.annotationElementId))return;const n=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);n&&this.updateFromAnnotationLayer(n)}get hasEditedComment(){return this.#s?.hasBeenEdited()}get hasDeletedComment(){return this.#s?.isDeleted()}get hasComment(){return!!this.#s&&!this.#s.isEmpty()&&!this.#s.isDeleted()}async editComment(e){this.#s||=new oc(this),this.#s.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#s.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,n]=e.rect,[a]=this.pageDimensions,[l]=this.pageTranslation,u=l+a+1,d=n-100,f=u+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,n]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#s.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#r?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#z();const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[n,a]=this.getInitialTranslation();return this.translate(n,a),Kv(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#k||=new Bo({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#V.bind(this),onPinching:this.#E.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#V(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#E(e,t,s){let a=.7*(s/t)+1-.7;if(a===1)return;const l=this.#j(this.rotation),u=(j,R)=>[l[0]*j+l[2]*R,l[1]*j+l[3]*R],[d,f]=this.parentDimensions,p=this.x,m=this.y,y=this.width,w=this.height,C=Te.MIN_SIZE/d,v=Te.MIN_SIZE/f;a=Math.max(Math.min(a,1/y,1/w),C/y,v/w);const A=Te._round(y*a),E=Te._round(w*a);if(A===y&&E===w)return;this.#u||=[p,m,y,w];const D=u(y/2,w/2),O=Te._round(p+D[0]),T=Te._round(m+D[1]),k=u(A/2,E/2);this.x=O-k[0],this.y=T-k[1],this.width=A,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(e){const{isMac:t}=$t.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#B(e);return}this.#L(e)}#L(e){const{isMac:t}=$t.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const n=new AbortController,a=this._uiManager.combinedSignal(n),l={capture:!0,passive:!1,signal:a},u=f=>{n.abort(),this.#i=null,this.#p=!1,this._uiManager.endDragSession()||this.#L(f),s&&this._onStopDragging()};t&&(this.#N=e.clientX,this.#C=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",f=>{s||(s=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:y}=f;if(y!==this.#i){wt(f);return}const[w,C]=this.screenToPageTranslation(p-this.#N,m-this.#C);this.#N=p,this.#C=m,this._uiManager.dragSelectedEditors(w,C)},l),window.addEventListener("touchmove",wt,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#k||f.isPrimary)&&u(f),wt(f)},l));const d=f=>{if(!this.#i||this.#i===f.pointerId){u(f);return}wt(f)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.#x=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const n=this.parentScale,[a,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=e/n,p=t/n,m=this.x*a,y=this.y*l,w=this.width*a,C=this.height*l;switch(s){case 0:return[m+f+u,l-y-p-C+d,m+f+w+u,l-y-p+d];case 90:return[m+p+u,l-y+f+d,m+p+C+u,l-y+f+w+d];case 180:return[m-f-w+u,l-y+p+d,m-f+u,l-y+p+C+d];case 270:return[m-p-C+u,l-y-f-w+d,m-p+u,l-y-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,n,a,l]=e,u=a-s,d=l-n;switch(this.rotation){case 0:return[s,t-l,u,d];case 90:return[s,t-n,d,u];case 180:return[a,t-n,u,d];case 270:return[a,t-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Te._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#s?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:s,opacity:n,deleted:a,richText:l},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:e},creationDate:f,modificationDate:s||p,popupRef:!a,color:t,opacity:n}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:n}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return t<l&&n>0&&e<a&&s>0}#z(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#z()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,s){const n=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});n.rotation=e.rotation,n.#e=e.accessibilityData,n._isCopy=e.isCopy||!1;const[a,l]=n.pageDimensions,[u,d,f,p]=n.getRectInCurrentCoords(e.rect,l);return n.x=u/a,n.y=d/l,n.width=f/a,n.height=p/l,n}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#x&&(clearTimeout(this.#x),this.#x=null),this.#D(),this.removeEditToolbar(),this.#b){for(const e of this.#b.values())clearTimeout(e);this.#b=null}this.parent=null,this.#k?.destroy(),this.#k=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[s,n,a,l]=this.getPDFRect();return[Te._round(s+(a-s)*e),Te._round(n+(l-n)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#s.commentPopupPositionInLayer}set commentPopupPosition(e){this.#s.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#s.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#s.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#s.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const l=this.#G.bind(this),u=this.#q.bind(this),d=this._uiManager._signal;for(const f of this.#t){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#K.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",Te._l10nResizer[p])}}const s=this.#t[0];let n=0;for(const l of t){if(l===s)break;n++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==n){if(a<n)for(let u=0;u<n-a;u++)this.#c.append(this.#c.firstChild);else if(a>n)for(let u=0;u<a-n;u++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const u of t){const f=this.#t[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Te._l10nResizer[f])}}this.#$(0),this.#v=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){Te._resizerKeyboardManager.exec(this,e)}#q(e){this.#v&&e.relatedTarget?.parentNode!==this.#c&&this.#D()}#K(e){this.#g=this.#v?e:""}#$(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#v&&this.#O(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#D(){this.#v=!1,this.#$(-1),this.#F()}_stopResizingWithKeyboard(){this.#D(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#b||=new Map;const{action:s}=e;let n=this.#b.get(s);n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(e),this.#b.delete(s),this.#b.size===0&&(this.#b=null)},Te._telemetryTimeout),this.#b.set(s,n);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class uN extends Te{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const By=3285377520,Us=4294901760,mn=65535;class Xv{constructor(e){this.h1=e?e&4294967295:By,this.h2=e?e&4294967295:By}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let v=0,A=e.length;v<A;v++){const E=e.charCodeAt(v);E<=255?t[s++]=E:(t[s++]=E>>>8,t[s++]=E&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const n=s>>2,a=s-n*4,l=new Uint32Array(t.buffer,0,n);let u=0,d=0,f=this.h1,p=this.h2;const m=3432918353,y=461845907,w=m&mn,C=y&mn;for(let v=0;v<n;v++)v&1?(u=l[v],u=u*m&Us|u*w&mn,u=u<<15|u>>>17,u=u*y&Us|u*C&mn,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[v],d=d*m&Us|d*w&mn,d=d<<15|d>>>17,d=d*y&Us|d*C&mn,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,a){case 3:u^=t[n*4+2]<<16;case 2:u^=t[n*4+1]<<8;case 1:u^=t[n*4],u=u*m&Us|u*w&mn,u=u<<15|u>>>17,u=u*y&Us|u*C&mn,n&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Us|e*36045&mn,t=t*4283543511&Us|((t<<16|e>>>16)*2950163797&Us)>>>16,e^=t>>>1,e=e*444984403&Us|e*60499&mn,t=t*3301882366&Us|((t<<16|e>>>16)*3120437893&Us)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Qh=Object.freeze({map:null,hash:"",transfer:void 0});class Mf{#e=!1;#t=null;#n=null;#s=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=this.#s.get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return this.#s.get(e)}remove(e){const t=this.#s.get(e);if(t!==void 0&&(t instanceof Te&&this.#n.delete(t.annotationElementId),this.#s.delete(e),this.#s.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const s of this.#s.values())if(s instanceof Te)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=this.#s.get(e);let n=!1;if(s!==void 0)for(const[a,l]of Object.entries(t))s[a]!==l&&(n=!0,s[a]=l);else n=!0,this.#s.set(e,t);n&&this.#a(),t instanceof Te&&((this.#n||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#s.has(e)}get size(){return this.#s.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Yv(this)}get serializable(){if(this.#s.size===0)return Qh;const e=new Map,t=new Xv,s=[],n=Object.create(null);let a=!1;for(const[l,u]of this.#s){const d=u instanceof Te?u.serialize(!1,n):u;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),a||=!!d.bitmap)}if(a)for(const l of e.values())l.bitmap&&s.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:Qh}get editorStats(){let e=null;const t=new Map;let s=0,n=0;for(const a of this.#s.values()){if(!(a instanceof Te)){a.popup&&(a.popup.deleted?n+=1:s+=1);continue}a.isCommentDeleted?n+=1:a.hasEditedComment&&(s+=1);const l=a.telemetryFinalData;if(!l)continue;const{type:u}=l;t.has(u)||t.set(u,Object.getPrototypeOf(a).constructor),e||=Object.create(null);const d=e[u]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let m=d.get(f);m||(m=new Map,d.set(f,m));const y=m.get(p)??0;m.set(p,y+1)}}if((n>0||s>0)&&(e||=Object.create(null),e.comments={deleted:n,edited:s}),!e)return null;for(const[a,l]of t)e[a]=l.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const s=this.#n?.get(e);return s?(s.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#n?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#n)for(const t of this.#n.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#s.entries()}}class Yv extends Mf{#e;constructor(e){super();const{map:t,hash:s,transfer:n}=e.serializable,a=structuredClone(t,n?{transfer:n}:null);this.#e={map:a,hash:s,transfer:n}}get print(){at("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return We(this,"modifiedIds",{ids:new Set,hash:""})}}class dN{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||this.#e.has(e.loadedName))){if(Ye(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:a,style:l}=e,u=new FontFace(n,a,l);this.addNativeFontFace(u);try{await u.load(),this.#e.add(n),s?.(e)}catch{He(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}at("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(n){throw He(`Failed to load font '${s.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const n=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return We(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return We(this,"isSyncFontLoadingSupported",ds||$t.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ye(!n.done,"completeRequest() cannot be called twice."),n.done=!0;s.length>0&&s[0].done;){const a=s.shift();setTimeout(a.callback,0)}}const{loadingRequests:s}=this,n={done:!1,complete:t,callback:e};return s.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return We(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(T,k){return T.charCodeAt(k)<<24|T.charCodeAt(k+1)<<16|T.charCodeAt(k+2)<<8|T.charCodeAt(k+3)&255}function n(T,k,j,R){const I=T.substring(0,k),M=T.substring(k+j);return I+R+M}let a,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(T,k){if(++f>30){He("Load test font never loaded."),k();return}if(d.font="30px "+T,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(p.bind(null,T,k))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=n(y,976,m.length,m);const C=16,v=1482184792;let A=s(y,C);for(a=0,l=m.length-3;a<l;a+=4)A=A-v+s(m,a)|0;a<m.length&&(A=A-v+s(m+"XXX",a)|0),y=n(y,C,4,J2(A));const E=`url(data:font/opentype;base64,${btoa(y)});`,D=`@font-face {font-family:"${m}";src:${E}}`;this.insertRule(D);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const T of[e.loadedName,m]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=T,O.append(k)}this._document.body.append(O),p(m,()=>{O.remove(),t.complete()})}}class hN{#e;constructor(e,t=null,s,n){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,s&&Object.assign(this,s),n&&(this.charProcOperatorList=n)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${zv(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let n;try{n=e.get(s)}catch(l){He(`getPathGenerator - ignoring character: "${l}".`)}const a=new Path2D(n||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=a}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function fN(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(ds)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function pN(r){if(ds&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Oo(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function lc(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const Jh=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,mN=r=>typeof r=="object"&&typeof r?.name=="string",Qv=sN.bind(null,Jh,mN);class gN{#e=new Map;#t=Promise.resolve();postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[n]of this.#e)n.call(this,s)})}addEventListener(e,t,s=null){let n=null;if(s?.signal instanceof AbortSignal){const{signal:a}=s;if(a.aborted){He("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);n=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}this.#e.set(t,n)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const cc={DATA:1,ERROR:2},Lt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Uy(){}function ws(r){if(r instanceof Un||r instanceof Lc||r instanceof Ry||r instanceof vo||r instanceof bh)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||at('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Un(r.message);case"InvalidPDFException":return new Lc(r.message);case"PasswordException":return new Ry(r.message,r.code);case"ResponseException":return new vo(r.message,r.status,r.missing);case"UnknownErrorException":return new bh(r.message,r.details)}return new bh(r.message,r.toString())}class oo{#e=new AbortController;constructor(e,t,s){this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#s(e);return}if(e.callback){const s=e.callbackId,n=this.callbackCapabilities[s];if(!n)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===cc.DATA)n.resolve(e.data);else if(e.callback===cc.ERROR)n.reject(ws(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,n=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(l){a.postMessage({sourceName:s,targetName:n,callback:cc.DATA,callbackId:e.callbackId,data:l})},function(l){a.postMessage({sourceName:s,targetName:n,callback:cc.ERROR,callbackId:e.callbackId,reason:ws(l)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const n=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[n]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},s)}catch(l){a.reject(l)}return a.promise}sendWithStream(e,t,s,n){const a=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:e,streamId:a,data:t,desiredSize:f.desiredSize},n),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:Lt.PULL,streamId:a,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Ye(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:Lt.CANCEL,streamId:a,reason:ws(f)}),p.promise}},s)}#n(e){const t=e.streamId,s=this.sourceName,n=e.sourceName,a=this.comObj,l=this,u=this.actionHandler[e.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:s,targetName:n,stream:Lt.ENQUEUE,streamId:t,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:s,targetName:n,stream:Lt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Ye(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:s,targetName:n,stream:Lt.ERROR,streamId:t,reason:ws(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(u,e.data,d).then(function(){a.postMessage({sourceName:s,targetName:n,stream:Lt.START_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:s,targetName:n,stream:Lt.START_COMPLETE,streamId:t,reason:ws(f)})})}#s(e){const t=e.streamId,s=this.sourceName,n=e.sourceName,a=this.comObj,l=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case Lt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(ws(e.reason));break;case Lt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(ws(e.reason));break;case Lt.PULL:if(!u){a.postMessage({sourceName:s,targetName:n,stream:Lt.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,Promise.try(u.onPull||Uy).then(function(){a.postMessage({sourceName:s,targetName:n,stream:Lt.PULL_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:s,targetName:n,stream:Lt.PULL_COMPLETE,streamId:t,reason:ws(f)})});break;case Lt.ENQUEUE:if(Ye(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Lt.CLOSE:if(Ye(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,t);break;case Lt.ERROR:Ye(l,"error should have stream controller"),l.controller.error(ws(e.reason)),this.#a(l,t);break;case Lt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(ws(e.reason)),this.#a(l,t);break;case Lt.CANCEL:if(!u)break;const d=ws(e.reason);Promise.try(u.onCancel||Uy,d).then(function(){a.postMessage({sourceName:s,targetName:n,stream:Lt.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:s,targetName:n,stream:Lt.CANCEL_COMPLETE,streamId:t,reason:ws(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class Jv{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){at("Abstract method `_createCanvas` called.")}}class yN extends Jv{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class Zv{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){at("Abstract method `_fetch` called.")}}class zy extends Zv{async _fetch(e){const t=await na(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Oo(t)}}class eb{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,n,a){return"none"}destroy(e=!1){}}class xN extends eb{#e;#t;#n;#s;#a;#r;#i=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#s=e,this.#a=t}get#o(){return this.#t||=new Map}get#c(){return this.#r||=new Map}get#l(){if(!this.#n){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const s=this.#a.createElementNS(In,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#n=this.#a.createElementNS(In,"defs"),e.append(s),s.append(this.#n),this.#a.body.append(e)}return this.#n}#h(e){if(e.length===1){const d=e[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[t,s,n]=e,a=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)a[d]=t[d]/255,l[d]=s[d]/255,u[d]=n[d]/255;return[a.join(","),l.join(","),u.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(Io(t)?He('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=kf(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[s,n,a]=this.#h(e),l=e.length===1?s:`${s}${n}${a}`;if(t=this.#o.get(l),t)return this.#o.set(e,t),t;const u=`g_${this.#s}_transfer_map_${this.#i++}`,d=this.#d(u);this.#o.set(e,d),this.#o.set(l,d);const f=this.#p(u);return this.#m(s,n,a,f),d}addHCMFilter(e,t){const s=`${e}-${t}`,n="base";let a=this.#c.get(n);if(a?.key===s||(a?(a.filter?.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},this.#c.set(n,a)),!e||!t))return a.url;const l=this.#v(e);e=Ce.makeHexColor(...l);const u=this.#v(t);if(t=Ce.makeHexColor(...u),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return a.url;const d=new Array(256);for(let w=0;w<=255;w++){const C=w/255;d[w]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#s}_hcm_filter`,m=a.filter=this.#p(p);this.#m(f,f,f,m),this.#g(m);const y=(w,C)=>{const v=l[w]/255,A=u[w]/255,E=new Array(C+1);for(let D=0;D<=C;D++)E[D]=v+D/C*(A-v);return E.join(",")};return this.#m(y(0,5),y(1,5),y(2,5),m),a.url=this.#d(p),a.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[s]=this.#h([e]),n=`alpha_${s}`;if(t=this.#o.get(n),t)return this.#o.set(e,t),t;const a=`g_${this.#s}_alpha_map_${this.#i++}`,l=this.#d(a);this.#o.set(e,l),this.#o.set(n,l);const u=this.#p(a);return this.#y(s,u),l}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let s,n;if(e?([s]=this.#h([e]),n=`luminosity_${s}`):n="luminosity",t=this.#o.get(n),t)return this.#o.set(e,t),t;const a=`g_${this.#s}_luminosity_map_${this.#i++}`,l=this.#d(a);this.#o.set(e,l),this.#o.set(n,l);const u=this.#p(a);return this.#f(u),e&&this.#y(s,u),l}addHighlightHCMFilter(e,t,s,n,a){const l=`${t}-${s}-${n}-${a}`;let u=this.#c.get(e);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(e,u)),!t||!s))return u.url;const[d,f]=[t,s].map(this.#v.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,w]=[n,a].map(this.#v.bind(this));m<p&&([p,m,y,w]=[m,p,w,y]),this.#l.style.color="";const C=(E,D,O)=>{const T=new Array(256),k=(m-p)/O,j=E/255,R=(D-E)/(255*O);let I=0;for(let M=0;M<=O;M++){const L=Math.round(p+M*k),V=j+M*R;for(let X=I;X<=L;X++)T[X]=V;I=L+1}for(let M=I;M<256;M++)T[M]=T[I-1];return T.join(",")},v=`g_${this.#s}_hcm_${e}_filter`,A=u.filter=this.#p(v);return this.#g(A),this.#m(C(y[0],w[0],5),C(y[1],w[1],5),C(y[2],w[2],5),A),u.url=this.#d(v),u.url}destroy(e=!1){e&&this.#r?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#i=0)}#f(e){const t=this.#a.createElementNS(In,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#a.createElementNS(In,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#a.createElementNS(In,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,s){const n=this.#a.createElementNS(In,t);n.setAttribute("type","discrete"),n.setAttribute("tableValues",s),e.append(n)}#m(e,t,s,n){const a=this.#a.createElementNS(In,"feComponentTransfer");n.append(a),this.#u(a,"feFuncR",e),this.#u(a,"feFuncG",t),this.#u(a,"feFuncB",s)}#y(e,t){const s=this.#a.createElementNS(In,"feComponentTransfer");t.append(s),this.#u(s,"feFuncA",e)}#v(e){return this.#l.style.color=e,ra(getComputedStyle(this.#l).getPropertyValue("color"))}}class tb{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){at("Abstract method `_fetch` called.")}}class $y extends tb{async _fetch(e){const t=await na(e,"arraybuffer");return new Uint8Array(t)}}class sb{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){at("Abstract method `_fetch` called.")}}class Hy extends sb{async _fetch(e){const t=await na(e,"arraybuffer");return new Uint8Array(t)}}ds&&He("Please use the `legacy` build in Node.js environments.");async function Of(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class vN extends eb{}class bN extends Jv{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class wN extends Zv{async _fetch(e){return Of(e)}}class SN extends tb{async _fetch(e){return Of(e)}}class CN extends sb{async _fetch(e){return Of(e)}}const Ti="__forcedDependency",{floor:Vy,ceil:Wy}=Math;function uc(r,e,t,s,n,a){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],s),r[e*4+2]=Math.max(r[e*4+2],n),r[e*4+3]=Math.max(r[e*4+3],a)}const Zh=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class AN{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===Zh}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const dc=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};class NN{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Ti]:[]};#n=new Map;#s=[];#a=[];#r=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#p;#u;#m;constructor(e,t,s=!1){this.#f=e.width,this.#g=e.height,this.#y(t),s&&(this.#m=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#y(e,this.#u)}#y(e,t){const s=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(s),this.#u=new Uint32Array(s),t&&t.length>0?(this.#u.set(t),this.#u.fill(Zh,t.length)):this.#u.fill(Zh)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Ti]:{__proto__:this.#t[Ti]}},this.#i={__proto__:this.#i},this.#s.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const s=this.#s.pop();return s!==void 0&&(dc(this.#m,e)?.dependencies.add(s),this.#u[e]=this.#u[s]),this}recordOpenMarker(e){return this.#s.push(e),this}getOpenMarker(){return this.#s.length===0?null:this.#s.at(-1)}recordCloseMarker(e){const t=this.#s.pop();return t!==void 0&&(dc(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(dc(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#r.push(Ce.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform())),this}popBaseTransform(){return this.#r.length>1&&this.#r.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#n.set(e,t),this}recordSimpleDataFromNamed(e,t,s){this.#e[e]=this.#n.get(t)??s}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Ti,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Ti,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,s,n,a,l){const u=Ce.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform()),d=[1/0,1/0,-1/0,-1/0];Ce.axialAlignedBoundingBox([s,a,n,l],u,d);const f=Ce.intersect(this.#i,d);return f?(this.#i[0]=f[0],this.#i[1]=f[1],this.#i[2]=f[2],this.#i[3]=f[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,t,s,n,a,l){const u=this.#i;if(u[0]===1/0)return this;const d=Ce.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform());if(u[0]===-1/0)return Ce.axialAlignedBoundingBox([s,a,n,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return Ce.axialAlignedBoundingBox([s,a,n,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(e,t,s,n=1,a=0,l=0,u){const d=s.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(s),f!==!1&&(p=[0,0,0,0],Ce.axialAlignedBoundingBox(d,s.fontMatrix,p),(n!==1||a!==0||l!==0)&&Ce.scaleMinMax([n,0,0,-n,a,l],p),f)))return this.recordBBox(e,t,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(e);const m=u();return d&&p&&f===void 0&&(f=p[0]<=a-m.actualBoundingBoxLeft&&p[2]>=a+m.actualBoundingBoxRight&&p[1]<=l-m.actualBoundingBoxAscent&&p[3]>=l+m.actualBoundingBoxDescent,this.#d.set(s,f),f)?this.recordBBox(e,t,p[0],p[2],p[1],p[3]):this.recordBBox(e,t,a-m.actualBoundingBoxLeft,a+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#f,this.#i[2]),this.#o[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const s=this.#l,n=this.#e,a=this.#t;for(const l of t)l in this.#e?s.add(n[l]):l in a&&a[l].forEach(s.add,s);return this}recordNamedDependency(e,t){return this.#n.has(t)&&this.#l.add(this.#n.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Ti]),this.#m){const s=dc(this.#m,e),{dependencies:n}=s;this.#l.forEach(n.add,n),this.#s.forEach(n.add,n),this.#a.forEach(n.add,n),n.delete(e),s.isRenderingOperation=!0}if(this.#c===e){const s=Vy(this.#o[0]*256/this.#f),n=Vy(this.#o[1]*256/this.#g),a=Wy(this.#o[2]*256/this.#f),l=Wy(this.#o[3]*256/this.#g);uc(this.#p,e,s,n,a,l);for(const u of this.#l)u!==e&&uc(this.#p,u,s,n,a,l);for(const u of this.#s)u!==e&&uc(this.#p,u,s,n,a,l);for(const u of this.#a)u!==e&&uc(this.#p,u,s,n,a,l);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const s=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const n of s)this.recordIncrementalData("sameLineText",n);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#h.get(e);return this.#h.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new AN(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class Dc{#e;#t;#n;#s=0;#a=0;constructor(e,t,s){if(e instanceof Dc&&e.#n===!!s)return e;this.#e=e,this.#t=t,this.#n=!!s}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#s++,this}getOpenMarker(){return this.#s>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#s--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,s){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#n||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,s,n,a,l){return this.#n||this.#e.recordClipBox(this.#t,t,s,n,a,l),this}recordBBox(e,t,s,n,a,l){return this.#n||this.#e.recordBBox(this.#t,t,s,n,a,l),this}recordCharacterBBox(e,t,s,n,a,l,u){return this.#n||this.#e.recordCharacterBBox(this.#t,t,s,n,a,l,u),this}recordFullPageBBox(e){return this.#n||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#n||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const zs={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Xt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ef(r,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],n=new Path2D;n.rect(e[0],e[1],t,s),r.clip(n)}class Df{isModifyingCurrentTransform(){return!1}getPattern(){at("Abstract method `getPattern` called.")}}class EN extends Df{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,n){let a;if(n===Xt.STROKE||n===Xt.FILL){const l=t.current.getClippedPathBoundingBox(n,bt(e))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),s=Ce.transform(s,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),ef(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=e.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(s);a.setTransform(m)}else ef(e,this._bbox),a=this._createGradient(e);return a}}function Ch(r,e,t,s,n,a,l,u){const d=e.coords,f=e.colors,p=r.data,m=r.width*4;let y;d[t+1]>d[s+1]&&(y=t,t=s,s=y,y=a,a=l,l=y),d[s+1]>d[n+1]&&(y=s,s=n,n=y,y=l,l=u,u=y),d[t+1]>d[s+1]&&(y=t,t=s,s=y,y=a,a=l,l=y);const w=(d[t]+e.offsetX)*e.scaleX,C=(d[t+1]+e.offsetY)*e.scaleY,v=(d[s]+e.offsetX)*e.scaleX,A=(d[s+1]+e.offsetY)*e.scaleY,E=(d[n]+e.offsetX)*e.scaleX,D=(d[n+1]+e.offsetY)*e.scaleY;if(C>=D)return;const O=f[a],T=f[a+1],k=f[a+2],j=f[l],R=f[l+1],I=f[l+2],M=f[u],L=f[u+1],V=f[u+2],X=Math.round(C),U=Math.round(D);let K,J,Q,b,q,F,N,_;for(let B=X;B<=U;B++){if(B<A){const W=B<C?0:(C-B)/(C-A);K=w-(w-v)*W,J=O-(O-j)*W,Q=T-(T-R)*W,b=k-(k-I)*W}else{let W;B>D?W=1:A===D?W=0:W=(A-B)/(A-D),K=v-(v-E)*W,J=j-(j-M)*W,Q=R-(R-L)*W,b=I-(I-V)*W}let te;B<C?te=0:B>D?te=1:te=(C-B)/(C-D),q=w-(w-E)*te,F=O-(O-M)*te,N=T-(T-L)*te,_=k-(k-V)*te;const ee=Math.round(Math.min(K,q)),le=Math.round(Math.max(K,q));let ae=m*B+ee*4;for(let W=ee;W<=le;W++)te=(K-W)/(K-q),te<0?te=0:te>1&&(te=1),p[ae++]=J-(J-F)*te|0,p[ae++]=Q-(Q-N)*te|0,p[ae++]=b-(b-_)*te|0,p[ae++]=255}}function kN(r,e,t){const s=e.coords,n=e.colors;let a,l;switch(e.type){case"lattice":const u=e.verticesPerRow,d=Math.floor(s.length/u)-1,f=u-1;for(a=0;a<d;a++){let p=a*u;for(let m=0;m<f;m++,p++)Ch(r,t,s[p],s[p+1],s[p+u],n[p],n[p+1],n[p+u]),Ch(r,t,s[p+u+1],s[p+1],s[p+u],n[p+u+1],n[p+1],n[p+u])}break;case"triangles":for(a=0,l=s.length;a<l;a+=3)Ch(r,t,s[a],s[a+1],s[a+2],n[a],n[a+1],n[a+2]);break;default:throw new Error("illegal figure")}}class _N extends Df{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),w=f/m,C=p/y,v={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/w,scaleY:1/C},A=m+4,E=y+4,D=s.getCanvas("mesh",A,E),O=D.context,T=O.createImageData(m,y);if(t){const j=T.data;for(let R=0,I=j.length;R<I;R+=4)j[R]=t[0],j[R+1]=t[1],j[R+2]=t[2],j[R+3]=255}for(const j of this._figures)kN(T,j,v);return O.putImageData(T,2,2),{canvas:D.canvas,offsetX:u-2*w,offsetY:d-2*C,scaleX:w,scaleY:C}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,n){ef(e,this._bbox);const a=new Float32Array(2);if(n===Xt.SHADING)Ce.singularValueDecompose2dScale(bt(e),a);else if(this.matrix){Ce.singularValueDecompose2dScale(this.matrix,a);const[u,d]=a;Ce.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=u,a[1]*=d}else Ce.singularValueDecompose2dScale(t.baseTransform,a);const l=this._createMeshCanvas(a,n===Xt.SHADING?null:this._background,t.cachedCanvases);return n!==Xt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class jN extends Df{getPattern(){return"hotpink"}}function TN(r){switch(r[0]){case"RadialAxial":return new EN(r);case"Mesh":return new _N(r);case"Dummy":return new jN}throw new Error(`Unknown IR type: ${r[0]}`)}const qy={COLORED:1,UNCOLORED:2};class If{static MAX_PATTERN_SIZE=3e3;constructor(e,t,s,n){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=n}createPatternCanvas(e,t){const{bbox:s,operatorList:n,paintType:a,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),nu("TilingType: "+l);const m=s[0],y=s[1],w=s[2],C=s[3],v=w-m,A=C-y,E=new Float32Array(2);Ce.singularValueDecompose2dScale(this.matrix,E);const[D,O]=E;Ce.singularValueDecompose2dScale(this.baseTransform,E);const T=D*E[0],k=O*E[1];let j=v,R=A,I=!1,M=!1;const L=Math.ceil(f*T),V=Math.ceil(p*k),X=Math.ceil(v*T),U=Math.ceil(A*k);L>=X?j=f:I=!0,V>=U?R=p:M=!0;const K=this.getSizeAndScale(j,this.ctx.canvas.width,T),J=this.getSizeAndScale(R,this.ctx.canvas.height,k),Q=e.cachedCanvases.getCanvas("pattern",K.size,J.size),b=Q.context,q=d.createCanvasGraphics(b,t);if(q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(q,a,u),b.translate(-K.scale*m,-J.scale*y),q.transform(0,K.scale,0,0,J.scale,0,0),b.save(),q.dependencyTracker?.save(),this.clipBbox(q,m,y,w,C),q.baseTransform=bt(q.ctx),q.executeOperatorList(n),q.endDrawing(),q.dependencyTracker?.restore(),b.restore(),I||M){const F=Q.canvas;I&&(j=f),M&&(R=p);const N=this.getSizeAndScale(j,this.ctx.canvas.width,T),_=this.getSizeAndScale(R,this.ctx.canvas.height,k),B=N.size,te=_.size,ee=e.cachedCanvases.getCanvas("pattern-workaround",B,te),le=ee.context,ae=I?Math.floor(v/f):0,W=M?Math.floor(A/p):0;for(let ne=0;ne<=ae;ne++)for(let ce=0;ce<=W;ce++)le.drawImage(F,B*ne,te*ce,B,te,0,0,B,te);return{canvas:ee.canvas,scaleX:N.scale,scaleY:_.scale,offsetX:m,offsetY:y}}return{canvas:Q.canvas,scaleX:K.scale,scaleY:J.scale,offsetX:m,offsetY:y}}getSizeAndScale(e,t,s){const n=Math.max(If.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*s);return a>=n?a=n:s=a/e,{scale:s,size:a}}clipBbox(e,t,s,n,a){const l=n-t,u=a-s;e.ctx.rect(t,s,l,u),Ce.axialAlignedBoundingBox([t,s,n,a],bt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const n=e.ctx,a=e.current;switch(t){case qy.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;n.fillStyle=a.fillColor=l,n.strokeStyle=a.strokeColor=u;break;case qy.UNCOLORED:n.fillStyle=n.strokeStyle=s,a.fillColor=a.strokeColor=s;break;default:throw new Q2(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,n,a){let l=s;n!==Xt.SHADING&&(l=Ce.transform(l,t.baseTransform),this.matrix&&(l=Ce.transform(l,this.matrix)));const u=this.createPatternCanvas(t,a);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=e.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function PN({src:r,srcPos:e=0,dest:t,width:s,height:n,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const u=$t.isLittleEndian?4278190080:255,[d,f]=l?[a,u]:[u,a],p=s>>3,m=s&7,y=r.length;t=new Uint32Array(t.buffer);let w=0;for(let C=0;C<n;C++){for(const A=e+p;e<A;e++){const E=e<y?r[e]:255;t[w++]=E&128?f:d,t[w++]=E&64?f:d,t[w++]=E&32?f:d,t[w++]=E&16?f:d,t[w++]=E&8?f:d,t[w++]=E&4?f:d,t[w++]=E&2?f:d,t[w++]=E&1?f:d}if(m===0)continue;const v=e<y?r[e++]:255;for(let A=0;A<m;A++)t[w++]=v&1<<7-A?f:d}return{srcPos:e,destPos:w}}const Gy=16,Ky=100,RN=15,Xy=10,Ss=16,Ah=new DOMMatrix,Rs=new Float32Array(2),Di=new Float32Array([1/0,1/0,-1/0,-1/0]);function LN(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},r.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},r.transform=function(t,s,n,a,l,u){e.transform(t,s,n,a,l,u),this.__originalTransform(t,s,n,a,l,u)},r.setTransform=function(t,s,n,a,l,u){e.setTransform(t,s,n,a,l,u),this.__originalSetTransform(t,s,n,a,l,u)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},r.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},r.bezierCurveTo=function(t,s,n,a,l,u){e.bezierCurveTo(t,s,n,a,l,u),this.__originalBezierCurveTo(t,s,n,a,l,u)},r.rect=function(t,s,n,a){e.rect(t,s,n,a),this.__originalRect(t,s,n,a)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class MN{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let n;return this.cache[e]!==void 0?(n=this.cache[e],this.canvasFactory.reset(n,t,s)):(n=this.canvasFactory.create(t,s),this.cache[e]=n),n}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function hc(r,e,t,s,n,a,l,u,d,f){const[p,m,y,w,C,v]=bt(r);if(m===0&&y===0){const D=l*p+C,O=Math.round(D),T=u*w+v,k=Math.round(T),j=(l+d)*p+C,R=Math.abs(Math.round(j)-O)||1,I=(u+f)*w+v,M=Math.abs(Math.round(I)-k)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(w),O,k),r.drawImage(e,t,s,n,a,0,0,R,M),r.setTransform(p,m,y,w,C,v),[R,M]}if(p===0&&w===0){const D=u*y+C,O=Math.round(D),T=l*m+v,k=Math.round(T),j=(u+f)*y+C,R=Math.abs(Math.round(j)-O)||1,I=(l+d)*m+v,M=Math.abs(Math.round(I)-k)||1;return r.setTransform(0,Math.sign(m),Math.sign(y),0,O,k),r.drawImage(e,t,s,n,a,0,0,M,R),r.setTransform(p,m,y,w,C,v),[M,R]}r.drawImage(e,t,s,n,a,l,u,d,f);const A=Math.hypot(p,m),E=Math.hypot(y,w);return[A*d,E*f]}class Yy{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Xh;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Kt.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,s){s?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Di.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Xt.FILL,t=null){const s=this.minMax.slice();if(e===Xt.STROKE){t||at("Stroke bounding box must include transform."),Ce.singularValueDecompose2dScale(t,Rs);const n=Rs[0]*this.lineWidth/2,a=Rs[1]*this.lineWidth/2;s[0]-=n,s[1]-=a,s[2]+=n,s[3]+=a}return s}updateClipFromPath(){const e=Ce.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Di,0)}getClippedPathBoundingBox(e=Xt.FILL,t=null){return Ce.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Qy(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,s=e.width,n=t%Ss,a=(t-n)/Ss,l=n===0?a:a+1,u=r.createImageData(s,Ss);let d=0,f;const p=e.data,m=u.data;let y,w,C,v;if(e.kind===uo.GRAYSCALE_1BPP){const A=p.byteLength,E=new Uint32Array(m.buffer,0,m.byteLength>>2),D=E.length,O=s+7>>3,T=4294967295,k=$t.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(C=y<a?Ss:n,f=0,w=0;w<C;w++){const j=A-d;let R=0;const I=j>O?s:j*8-7,M=I&-8;let L=0,V=0;for(;R<M;R+=8)V=p[d++],E[f++]=V&128?T:k,E[f++]=V&64?T:k,E[f++]=V&32?T:k,E[f++]=V&16?T:k,E[f++]=V&8?T:k,E[f++]=V&4?T:k,E[f++]=V&2?T:k,E[f++]=V&1?T:k;for(;R<I;R++)L===0&&(V=p[d++],L=128),E[f++]=V&L?T:k,L>>=1}for(;f<D;)E[f++]=0;r.putImageData(u,0,y*Ss)}}else if(e.kind===uo.RGBA_32BPP){for(w=0,v=s*Ss*4,y=0;y<a;y++)m.set(p.subarray(d,d+v)),d+=v,r.putImageData(u,0,w),w+=Ss;y<l&&(v=s*n*4,m.set(p.subarray(d,d+v)),r.putImageData(u,0,w))}else if(e.kind===uo.RGB_24BPP)for(C=Ss,v=s*C,y=0;y<l;y++){for(y>=a&&(C=n,v=s*C),f=0,w=v;w--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;r.putImageData(u,0,y*Ss)}else throw new Error(`bad image kind: ${e.kind}`)}function Jy(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,n=t%Ss,a=(t-n)/Ss,l=n===0?a:a+1,u=r.createImageData(s,Ss);let d=0;const f=e.data,p=u.data;for(let m=0;m<l;m++){const y=m<a?Ss:n;({srcPos:d}=PN({src:f,srcPos:d,dest:p,width:s,height:y,nonBlackColor:0})),r.putImageData(u,0,m*Ss)}}function Za(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)r[s]!==void 0&&(e[s]=r[s]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function fc(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function Zy(r,e){if(e)return!0;Ce.singularValueDecompose2dScale(r,Rs);const t=Math.fround(sn.pixelRatio*Zr.PDF_TO_CSS_UNITS);return Rs[0]<=t&&Rs[1]<=t}const ON=["butt","round","square"],DN=["miter","round","bevel"],IN={},ex={};class Fi{constructor(e,t,s,n,a,{optionalContentConfig:l,markedContentStack:u=null},d,f,p){this.ctx=e,this.current=new Yy(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=n,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new MN(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(e,t,s=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):s}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:n=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=n||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=u,s){const d=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...bt(this.compositeCtx))}this.ctx.save(),fc(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=bt(this.ctx)}executeOperatorList(e,t,s,n,a){const l=e.argsArray,u=e.fnArray;let d=t||0;const f=l.length;if(f===d)return d;const p=f-d>Xy&&typeof s=="function",m=p?Date.now()+RN:0;let y=0;const w=this.commonObjs,C=this.objs;let v,A;for(;;){if(n!==void 0&&d===n.nextBreakPoint)return n.breakIt(d,s),d;if(!a||a(d))if(v=u[d],A=l[d]??null,v!==qi.dependency)A===null?this[v](d):this[v](d,...A);else for(const E of A){this.dependencyTracker?.recordNamedData(E,d);const D=E.startsWith("g_")?w:C;if(!D.has(E))return D.get(E,s),d}if(d++,d===f)return d;if(p&&++y>Xy){if(Date.now()>m)return s(),d;y=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const s=e.width??e.displayWidth,n=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),u=s,d=n,f="prescale1",p,m;for(;a>2&&u>1||l>2&&d>1;){let y=u,w=d;a>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),a/=u/y),l>2&&d>1&&(w=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/w),p=this.cachedCanvases.getCanvas(f,y,w),m=p.context,m.clearRect(0,0,y,w),m.drawImage(e,0,0,u,d,0,0,y,w),e=p.canvas,u=y,d=w,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e,t){const s=this.ctx,{width:n,height:a}=t,l=this.current.fillColor,u=this.current.patternFill,d=bt(s);let f,p,m,y;if((t.bitmap||t.data)&&t.count>1){const L=t.bitmap||t.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(L),f||(f=new Map,this._cachedBitmapsMap.set(L,f));const V=f.get(p);if(V&&!u){const X=Math.round(Math.min(d[0],d[2])+d[4]),U=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(e,zs.transformAndFill),{canvas:V,offsetX:X,offsetY:U}}m=V}m||(y=this.cachedCanvases.getCanvas("maskCanvas",n,a),Jy(y.context,t));let w=Ce.transform(d,[1/n,0,0,-1/a,0,0]);w=Ce.transform(w,[1,0,0,1,0,-a]);const C=Di.slice();Ce.axialAlignedBoundingBox([0,0,n,a],w,C);const[v,A,E,D]=C,O=Math.round(E-v)||1,T=Math.round(D-A)||1,k=this.cachedCanvases.getCanvas("fillCanvas",O,T),j=k.context,R=v,I=A;j.translate(-R,-I),j.transform(...w),m||(m=this._scaleImage(y.canvas,pn(j)),m=m.img,f&&u&&f.set(p,m)),j.imageSmoothingEnabled=Zy(bt(j),t.interpolate),hc(j,m,0,0,m.width,m.height,0,0,n,a),j.globalCompositeOperation="source-in";const M=Ce.transform(pn(j),[1,0,0,1,-R,-I]);return j.fillStyle=u?l.getPattern(s,this,M,Xt.FILL,e):l,j.fillRect(0,0,n,a),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,k.canvas)),this.dependencyTracker?.recordDependencies(e,zs.transformAndFill),{canvas:k.canvas,offsetX:Math.round(R),offsetY:Math.round(I)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=ON[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=DN[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,s){this.dependencyTracker?.recordSimpleData("dash",e);const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=s)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[s,n]of t)switch(s){case"LW":this.setLineWidth(e,n);break;case"LC":this.setLineCap(e,n);break;case"LJ":this.setLineJoin(e,n);break;case"ML":this.setMiterLimit(e,n);break;case"D":this.setDash(e,n[0],n[1]);break;case"RI":this.setRenderingIntent(e,n);break;case"FL":this.setFlatness(e,n);break;case"Font":this.setFont(e,n[0],n[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=n;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=n;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(n,t,s);this.suspendedCtx=this.ctx;const l=this.ctx=a.context;l.setTransform(this.suspendedCtx.getTransform()),Za(this.suspendedCtx,l),LN(l,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Za(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,n){const a=n[0],l=n[1],u=n[2]-a,d=n[3]-l;u===0||d===0||(this.genericComposeSMask(t.context,s,u,d,t.subtype,t.backdrop,t.transferMap,a,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,n,a,l,u,d,f,p,m){let y=e.canvas,w=d-p,C=f-m;if(l)if(w<0||C<0||w+s>y.width||C+n>y.height){const A=this.cachedCanvases.getCanvas("maskExtension",s,n),E=A.context;E.drawImage(y,-w,-C),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,s,n),E.globalCompositeOperation="source-over",y=A.canvas,w=C=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(w,C,s,n),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(w,C,s,n),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const v=new Path2D;v.rect(d,f,s,n),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(y,w,C,s,n,d,f,s,n),t.restore()}save(e){this.inSMaskMode&&Za(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Za(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,n,a,l,u){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,s,n,a,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s,n){let[a]=s;if(!n){a||=s[0]=new Path2D,this[t](e,a);return}if(this.dependencyTracker!==null){const l=t===qi.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,n[0]-l,n[2]+l,n[1]-l,n[3]+l).recordDependencies(e,["transform"])}if(!(a instanceof Path2D)){const l=s[0]=new Path2D;for(let u=0,d=a.length;u<d;)switch(a[u++]){case ac.moveTo:l.moveTo(a[u++],a[u++]);break;case ac.lineTo:l.lineTo(a[u++],a[u++]);break;case ac.curveTo:l.bezierCurveTo(a[u++],a[u++],a[u++],a[u++],a[u++],a[u++]);break;case ac.closePath:l.closePath();break;default:He(`Unrecognized drawing path operator: ${a[u-1]}`);break}a=l}Ce.axialAlignedBoundingBox(n,bt(this.ctx),this.current.minMax),this[t](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,s=!0){const n=this.ctx,a=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const l=a.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=a.getPattern(n,this,pn(n),Xt.STROKE,e),l){const u=new Path2D;u.addPath(t,n.getTransform().invertSelf().multiplySelf(l)),t=u}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,zs.stroke),s&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Xt.STROKE,bt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,s=!0){const n=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=a.isModifyingCurrentTransform()?n.getTransform():null;if(this.dependencyTracker?.save(e),n.save(),n.fillStyle=a.getPattern(n,this,pn(n),Xt.FILL,e),f){const p=new Path2D;p.addPath(t,n.getTransform().invertSelf().multiplySelf(f)),t=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),this.dependencyTracker?.recordDependencies(e,zs.fill),u&&(n.restore(),this.dependencyTracker?.restore(e)),s&&this.consumePath(e,t,d)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,zs.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=IN}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=ex}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,s=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;t!==void 0&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",e),n.recordCloseMarker(e)}if(t!==void 0){const n=new Path2D,a=s.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:p}of t)p&&n.addPath(p,new DOMMatrix(l).preMultiplySelf(a).translate(u,d).scale(f,-f));s.clip(n)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,s){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const n=this.commonObjs.get(t),a=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=n.fontMatrix||Xh,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&He("Invalid font matrix for font "+t),s<0?(s=-s,a.fontDirection=-1):a.fontDirection=1,this.current.font=n,this.current.fontSize=s,n.isType3Font)return;const l=n.loadedName||"sans-serif",u=n.systemFontInfo?.css||`"${l}", ${n.fallbackName}`;let d="normal";n.black?d="900":n.bold&&(d="bold");const f=n.italic?"italic":"normal";let p=s;s<Gy?p=Gy:s>Ky&&(p=Ky),this.current.fontSizeScale=s/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,s){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,t,s){this.setLeading(e,-s),this.moveText(e,t,s)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:s}=this;s.textMatrix=t,s.textMatrixScale=Math.hypot(t[0],t[1]),s.x=s.lineX=0,s.y=s.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#n(e,t,s){const n=new Path2D;return n.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),n}paintChar(e,t,s,n,a,l){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,y=p&Kt.FILL_STROKE_MASK,w=!!(p&Kt.ADD_TO_PATH_FLAG),C=d.patternFill&&!f.missingFile,v=d.patternStroke&&!f.missingFile;let A;if((f.disableFontFace||w||C||v)&&!f.missingFile&&(A=f.getPathGenerator(this.commonObjs,t)),A&&(f.disableFontFace||C||v)){u.save(),u.translate(s,n),u.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(e,u,f);let E;if(y===Kt.FILL||y===Kt.FILL_STROKE)if(a){E=u.getTransform(),u.setTransform(...a);const D=this.#n(A,E,a);u.fill(D)}else u.fill(A);if(y===Kt.STROKE||y===Kt.FILL_STROKE)if(l){E||=u.getTransform(),u.setTransform(...l);const{a:D,b:O,c:T,d:k}=E,j=Ce.inverseTransform(l),R=Ce.transform([D,O,T,k,0,0],j);Ce.singularValueDecompose2dScale(R,Rs),u.lineWidth*=Math.max(Rs[0],Rs[1])/m,u.stroke(this.#n(A,E,l))}else u.lineWidth/=m,u.stroke(A);u.restore()}else(y===Kt.FILL||y===Kt.FILL_STROKE)&&(u.fillText(t,s,n),this.dependencyTracker?.recordCharacterBBox(e,u,f,m,s,n,()=>u.measureText(t))),(y===Kt.STROKE||y===Kt.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,u,f,m,s,n,()=>u.measureText(t)).recordDependencies(e,zs.stroke),u.strokeText(t,s,n));w&&((this.pendingTextPaths||=[]).push({transform:bt(u),x:s,y:n,fontSize:m,path:A}),this.dependencyTracker?.recordCharacterBBox(e,u,f,m,s,n))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let n=3;n<t.length;n+=4)if(t[n]>0&&t[n]<255){s=!0;break}return We(this,"isFontSubpixelAAEnabled",s)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,zs.showText).resetBBox(e),this.current.textRenderingMode&Kt.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const s=this.current,n=s.font;if(n.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const a=s.fontSize;if(a===0){this.dependencyTracker?.recordOperation(e);return}const l=this.ctx,u=s.fontSizeScale,d=s.charSpacing,f=s.wordSpacing,p=s.fontDirection,m=s.textHScale*p,y=t.length,w=n.vertical,C=w?1:-1,v=n.defaultVMetrics,A=a*s.fontMatrix[0],E=s.textRenderingMode===Kt.FILL&&!n.disableFontFace&&!s.patternFill;l.save(),s.textMatrix&&l.transform(...s.textMatrix),l.translate(s.x,s.y+s.textRise),p>0?l.scale(m,-1):l.scale(m,1);let D,O;if(s.patternFill){l.save();const I=s.fillColor.getPattern(l,this,pn(l),Xt.FILL,e);D=bt(l),l.restore(),l.fillStyle=I}if(s.patternStroke){l.save();const I=s.strokeColor.getPattern(l,this,pn(l),Xt.STROKE,e);O=bt(l),l.restore(),l.strokeStyle=I}let T=s.lineWidth;const k=s.textMatrixScale;if(k===0||T===0){const I=s.textRenderingMode&Kt.FILL_STROKE_MASK;(I===Kt.STROKE||I===Kt.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=k;if(u!==1&&(l.scale(u,u),T/=u),l.lineWidth=T,n.isInvalidPDFjsFont){const I=[];let M=0;for(const V of t)I.push(V.unicode),M+=V.width;const L=I.join("");if(l.fillText(L,0,0),this.dependencyTracker!==null){const V=l.measureText(L);this.dependencyTracker.recordBBox(e,this.ctx,-V.actualBoundingBoxLeft,V.actualBoundingBoxRight,-V.actualBoundingBoxAscent,V.actualBoundingBoxDescent).recordShowTextOperation(e)}s.x+=M*A*m,l.restore(),this.compose();return}let j=0,R;for(R=0;R<y;++R){const I=t[R];if(typeof I=="number"){j+=C*I*a/1e3;continue}let M=!1;const L=(I.isSpace?f:0)+d,V=I.fontChar,X=I.accent;let U,K,J=I.width;if(w){const q=I.vmetric||v,F=-(I.vmetric?q[1]:J*.5)*A,N=q[2]*A;J=q?-q[0]:J,U=F/u,K=(j+N)/u}else U=j/u,K=0;let Q;if(n.remeasure&&J>0){Q=l.measureText(V);const q=Q.width*1e3/a*u;if(J<q&&this.isFontSubpixelAAEnabled){const F=J/q;M=!0,l.save(),l.scale(F,1),U/=F}else J!==q&&(U+=(J-q)/2e3*a/u)}if(this.contentVisible&&(I.isInFont||n.missingFile)){if(E&&!X)l.fillText(V,U,K),this.dependencyTracker?.recordCharacterBBox(e,l,Q?{bbox:null}:n,a/u,U,K,()=>Q??l.measureText(V));else if(this.paintChar(e,V,U,K,D,O),X){const q=U+a*X.offset.x/u,F=K-a*X.offset.y/u;this.paintChar(e,X.fontChar,q,F,D,O)}}const b=w?J*A-L*p:J*A+L*p;j+=b,M&&l.restore()}w?s.y-=j:s.x+=j*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const s=this.ctx,n=this.current,a=n.font,l=n.fontSize,u=n.fontDirection,d=a.vertical?1:-1,f=n.charSpacing,p=n.wordSpacing,m=n.textHScale*u,y=n.fontMatrix||Xh,w=t.length,C=n.textRenderingMode===Kt.INVISIBLE;let v,A,E,D;if(C||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),s.scale(m,u);const O=this.dependencyTracker;for(this.dependencyTracker=O?new Dc(O,e):null,v=0;v<w;++v){if(A=t[v],typeof A=="number"){D=d*A*l/1e3,this.ctx.translate(D,0),n.x+=D*m;continue}const T=(A.isSpace?p:0)+f,k=a.charProcOperatorList[A.operatorListId];k?this.contentVisible&&(this.save(),s.scale(l,l),s.transform(...y),this.executeOperatorList(k),this.restore()):He(`Type3 character "${A.operatorListId}" is not available.`);const j=[A.width,0];Ce.applyTransform(j,y),E=j[0]*l+T,s.translate(E,0),n.x+=E*m}s.restore(),O&&(this.dependencyTracker=O)}setCharWidth(e,t,s){}setCharWidthAndBounds(e,t,s,n,a,l,u){const d=new Path2D;d.rect(n,a,l-n,u-a),this.ctx.clip(d),this.dependencyTracker?.recordBBox(e,this.ctx,n,l,a,u).recordClipBox(e,this.ctx,n,l,a,u),this.endPath(e)}getColorN_Pattern(e,t){let s;if(t[0]==="TilingPattern"){const n=this.baseTransform||bt(this.ctx),a={createCanvasGraphics:(l,u)=>new Fi(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Dc(this.dependencyTracker,u,!0):null)};s=new If(t,this.ctx,a,n)}else s=this._getPattern(e,t[1],t[2]);return s}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,s=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=TN(this.getObject(e,t)),this.cachedPatterns.set(t,n)),s&&(n.matrix=s),n}shadingFill(e,t){if(!this.contentVisible)return;const s=this.ctx;this.save(e);const n=this._getPattern(e,t);s.fillStyle=n.getPattern(s,this,pn(s),Xt.SHADING,e);const a=pn(s);if(a){const{width:l,height:u}=s.canvas,d=Di.slice();Ce.axialAlignedBoundingBox([0,0,l,u],a,d);const[f,p,m,y]=d;this.ctx.fillRect(f,p,m-f,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,zs.transform).recordDependencies(e,zs.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){at("Should not call beginInlineImage")}beginImageData(){at("Should not call beginImageData")}paintFormXObjectBegin(e,t,s){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=bt(this.ctx),s)){Ce.axialAlignedBoundingBox(s,this.baseTransform,this.current.minMax);const[n,a,l,u]=s,d=new Path2D;d.rect(n,a,l-n,u-a),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(e,this.ctx,n,l,a,u),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||nu("TODO: Support non-isolated groups."),t.knockout&&He("Knockout groups not supported.");const n=bt(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Di.slice();Ce.axialAlignedBoundingBox(t.bbox,bt(s),a);const l=[0,0,s.canvas.width,s.canvas.height];a=Ce.intersect(a,l)||[0,0,0,0];const u=Math.floor(a[0]),d=Math.floor(a[1]),f=Math.max(Math.ceil(a[2])-u,1),p=Math.max(Math.ceil(a[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,f,p),w=y.context;w.translate(-u,-d),w.transform(...n);let C=new Path2D;const[v,A,E,D]=t.bbox;if(C.rect(v,A,E-v,D-A),t.matrix){const O=new Path2D;O.addPath(C,new DOMMatrix(t.matrix)),C=O}w.clip(C),t.smask&&this.smaskStack.push({canvas:y.canvas,context:w,offsetX:u,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(s.setTransform(1,0,0,1,0,0),s.translate(u,d),s.save()),Za(s,w),this.ctx=w,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(s),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=bt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const l=Di.slice();Ce.axialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],a,l),this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,s,n,a,l){if(this.#e(),fc(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const u=s[2]-s[0],d=s[3]-s[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=s[0],n[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=u,s[3]=d,Ce.singularValueDecompose2dScale(bt(this.ctx),Rs);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),m=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:y,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(Rs[0],0,0,-Rs[1],0,d*Rs[1]),fc(this.ctx)}else{fc(this.ctx),this.endPath(e);const f=new Path2D;f.rect(s[0],s[1],u,d),this.ctx.clip(f)}}this.current=new Yy(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...n),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const s=t.count;t=this.getObject(e,t.data,t),t.count=s;const n=this.ctx,a=this._createMaskCanvas(e,t),l=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+l.width,a.offsetY,a.offsetY+l.height).recordOperation(e),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s,n=0,a=0,l,u){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const d=this.ctx;d.save();const f=bt(d);d.transform(s,n,a,l,0,0);const p=this._createMaskCanvas(e,t);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(e);for(let m=0,y=u.length;m<y;m+=2){const w=Ce.transform(f,[s,n,a,l,u[m],u[m+1]]);d.drawImage(p.canvas,w[4],w[5]),this.dependencyTracker?.recordBBox(e,this.ctx,w[4],w[4]+p.canvas.width,w[5],w[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx,n=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,zs.transformAndFill);for(const l of t){const{data:u,width:d,height:f,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),y=m.context;y.save();const w=this.getObject(e,u,l);Jy(y,w),y.globalCompositeOperation="source-in",y.fillStyle=a?n.getPattern(y,this,pn(s),Xt.FILL,e):n,y.fillRect(0,0,d,f),y.restore(),s.save(),s.transform(...p),s.scale(1,-1),hc(s,m.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(e,s,0,d,0,f),s.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){He("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,s)}paintImageXObjectRepeat(e,t,s,n,a){if(!this.contentVisible)return;const l=this.getObject(e,t);if(!l){He("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,m=a.length;p<m;p+=2)f.push({transform:[s,0,0,n,a[p],a[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(e,l,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:n}=e,a=this.cachedCanvases.getCanvas("inlineImage",s,n),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",a.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const s=t.width,n=t.height,a=this.ctx;this.save(e);const{filter:l}=a;l!=="none"&&l!==""&&(a.filter="none"),a.scale(1/s,-1/n);let u;if(t.bitmap)u=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)u=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",s,n).context;Qy(p,t),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,pn(a));a.imageSmoothingEnabled=Zy(bt(a),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,a,0,s,-n,0).recordDependencies(e,zs.imageXObject).recordOperation(e),hc(a,d.img,0,0,d.paintWidth,d.paintHeight,0,-n,s,n),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,s){if(!this.contentVisible)return;const n=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const l=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;Qy(f,t),a=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(e);for(const l of s)n.save(),n.transform(...l.transform),n.scale(1,-1),hc(n,a,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,1,-1,0),n.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,zs.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,s){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,s){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,s){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const a=this.ctx;this.pendingClip?(n||(this.pendingClip===ex?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=bt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),n=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,n)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:n,d:a}=this.ctx.getTransform();let l,u;if(s===0&&n===0){const d=Math.abs(t),f=Math.abs(a);if(d===f)if(e===0)l=u=1/d;else{const p=d*e;l=u=p<1?1/p:1}else if(e===0)l=1/d,u=1/f;else{const p=d*e,m=f*e;l=p<1?1/p:1,u=m<1?1/m:1}}else{const d=Math.abs(t*a-s*n),f=Math.hypot(t,s),p=Math.hypot(n,a);if(e===0)l=p/d,u=f/d;else{const m=e*d;l=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:n}}=this,[a,l]=this.getScaleForStroking();if(a===l){s.lineWidth=(n||1)*a,s.stroke(e);return}const u=s.getLineDash();t&&s.save(),s.scale(a,l),Ah.a=1/a,Ah.d=1/l;const d=new Path2D;if(d.addPath(e,Ah),u.length>0){const f=Math.max(a,l);s.setLineDash(u.map(p=>p/f)),s.lineDashOffset/=f}s.lineWidth=n||1,s.stroke(d),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const r in qi)Fi.prototype[r]!==void 0&&(Fi.prototype[qi[r]]=Fi.prototype[r]);class Bi{#e;#t;#n;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,s={};let n=0;for(const f of Bi.strings){const p=t.encode(e[f]);s[f]=p,n+=4+p.length}const a=new ArrayBuffer(n),l=new Uint8Array(a),u=new DataView(a);let d=0;for(const f of Bi.strings){const p=s[f],m=p.length;u.setUint32(d,m),l.set(p,d+4),d+=4+m}return Ye(d===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}#s(e){Ye(e<Bi.strings.length,"Invalid string index");let t=0;for(let n=0;n<e;n++)t+=this.#t.getUint32(t)+4;const s=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,s))}get fontFamily(){return this.#s(0)}get fontWeight(){return this.#s(1)}get italicAngle(){return this.#s(2)}}class Ui{#e;#t;#n;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,s={};let n=0;for(const y of Ui.strings){const w=t.encode(e[y]);s[y]=w,n+=4+w.length}n+=4;let a,l,u=1+n;e.style&&(a=t.encode(e.style.style),l=t.encode(e.style.weight),u+=4+a.length+4+l.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;p.setUint8(m++,e.guessFallback?1:0),p.setUint32(m,0),m+=4,n=0;for(const y of Ui.strings){const w=s[y],C=w.length;n+=4+C,p.setUint32(m,C),f.set(w,m+4),m+=4+C}return p.setUint32(m-n-4,n),e.style&&(p.setUint32(m,a.length),f.set(a,m+4),m+=4+a.length,p.setUint32(m,l.length),f.set(l,m+4),m+=4+l.length),Ye(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#s(e){Ye(e<Ui.strings.length,"Invalid string index");let t=5;for(let n=0;n<e;n++)t+=this.#t.getUint32(t)+4;const s=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,s))}get css(){return this.#s(0)}get loadedName(){return this.#s(1)}get baseFontName(){return this.#s(2)}get src(){return this.#s(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),s=this.#n.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const n=this.#t.getUint32(e),a=this.#n.decode(new Uint8Array(this.#e,e+4,n));return{style:s,weight:a}}}class rt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#n=this.#t+1+8;static#s=this.#n+1+48;static#a=this.#s+1+6;#r;#i;#o;constructor({data:e,extra:t}){this.#r=e,this.#i=new TextDecoder,this.#o=new DataView(this.#r),t&&Object.assign(this,t)}#c(e){Ye(e<rt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),s=e*2%8,n=this.#o.getUint8(t)>>s&3;return n===0?void 0:n===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return Ye(e<rt.numbers.length,"Invalid number index"),this.#o.getFloat64(rt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=rt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const s=[];for(let n=0;n<4;n++)s.push(this.#o.getInt16(e,!0)),e+=2;return s}get fontMatrix(){let e=rt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const s=[];for(let n=0;n<6;n++)s.push(this.#o.getFloat64(e,!0)),e+=8;return s}get defaultVMetrics(){let e=rt.#s;if(this.#o.getUint8(e)===0)return;e+=1;const s=[];for(let n=0;n<3;n++)s.push(this.#o.getInt16(e,!0)),e+=2;return s}#h(e){Ye(e<rt.strings.length,"Invalid string index");let t=rt.#a+4;for(let a=0;a<e;a++)t+=this.#o.getUint32(t)+4;const s=this.#o.getUint32(t),n=new Uint8Array(s);return n.set(new Uint8Array(this.#r,t+4,s)),this.#i.decode(n)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=rt.#a;const t=this.#o.getUint32(e);e+=4+t;const s=this.#o.getUint32(e);e+=4+s;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);if(a!==0)return new Uint8Array(this.#r,e+4,a)}clearData(){let e=rt.#a;const t=this.#o.getUint32(e);e+=4+t;const s=this.#o.getUint32(e);e+=4+s;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);new Uint8Array(this.#r,e+4,a).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=rt.#a;const t=this.#o.getUint32(e);e+=4+t;const s=this.#o.getUint32(e);e+=4+s;const n=this.#o.getUint32(e);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(this.#r,e+4,n)),new Bi(a.buffer)}get systemFontInfo(){let e=rt.#a;const t=this.#o.getUint32(e);e+=4+t;const s=this.#o.getUint32(e);if(s===0)return null;const n=new Uint8Array(s);return n.set(new Uint8Array(this.#r,e+4,s)),new Ui(n.buffer)}static write(e){const t=e.systemFontInfo?Ui.write(e.systemFontInfo):null,s=e.cssFontInfo?Bi.write(e.cssFontInfo):null,n=new TextEncoder,a={};let l=0;for(const v of rt.strings)a[v]=n.encode(e[v]),l+=4+a[v].length;const u=rt.#a+4+l+4+(t?t.byteLength:0)+4+(s?s.byteLength:0)+4+(e.data?e.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;const y=rt.bools.length;let w=0,C=0;for(let v=0;v<y;v++){const A=e[rt.bools[v]];w|=(A===void 0?0:A?2:1)<<C,C+=2,(C===8||v===y-1)&&(p.setUint8(m++,w),w=0,C=0)}Ye(m===rt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const v of rt.numbers)p.setFloat64(m,e[v]),m+=8;if(Ye(m===rt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){p.setUint8(m++,4);for(const v of e.bbox)p.setInt16(m,v,!0),m+=2}else p.setUint8(m++,0),m+=8;if(Ye(m===rt.#n,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){p.setUint8(m++,6);for(const v of e.fontMatrix)p.setFloat64(m,v,!0),m+=8}else p.setUint8(m++,0),m+=48;if(Ye(m===rt.#s,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){p.setUint8(m++,1);for(const v of e.defaultVMetrics)p.setInt16(m,v,!0),m+=2}else p.setUint8(m++,0),m+=6;Ye(m===rt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(rt.#a,0),m+=4;for(const v of rt.strings){const A=a[v],E=A.length;p.setUint32(m,E),f.set(A,m+4),m+=4+E}if(p.setUint32(rt.#a,m-rt.#a-4),!t)p.setUint32(m,0),m+=4;else{const v=t.byteLength;p.setUint32(m,v),Ye(m+4+v<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(t),m+4),m+=4+v}if(!s)p.setUint32(m,0),m+=4;else{const v=s.byteLength;p.setUint32(m,v),Ye(m+4+v<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(s),m+4),m+=4+v}return e.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,e.data.length),f.set(e.data,m+4),m+=4+e.data.length),Ye(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class Sn{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class FN{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Oi=Symbol("INTERNAL");class BN{#e=!1;#t=!1;#n=!1;#s=!0;constructor(e,{name:t,intent:s,usage:n,rbGroups:a}){this.#e=!!(e&Ts.DISPLAY),this.#t=!!(e&Ts.PRINT),this.name=t,this.intent=s,this.usage=n,this.rbGroups=a}get visible(){if(this.#n)return this.#s;if(!this.#s)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,s=!1){e!==Oi&&at("Internal method `_setVisible` called."),this.#n=s,this.#s=t}}class UN{#e=null;#t=new Map;#n=null;#s=null;constructor(e,t=Ts.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#s=e.order;for(const s of e.groups)this.#t.set(s.id,new BN(t,s));if(e.baseState==="OFF")for(const s of this.#t.values())s._setVisible(Oi,!1);for(const s of e.on)this.#t.get(s)._setVisible(Oi,!0);for(const s of e.off)this.#t.get(s)._setVisible(Oi,!1);this.#n=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let n=1;n<t;n++){const a=e[n];let l;if(Array.isArray(a))l=this.#a(a);else if(this.#t.has(a))l=this.#t.get(a).visible;else return He(`Optional content group not found: ${a}`),!0;switch(s){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return s==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return nu("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(He(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return He(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return He(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return He(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return He(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return He(`Unknown optional content policy ${e.policy}.`),!0}return He(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){const n=this.#t.get(e);if(!n){He(`Optional content group not found: ${e}`);return}if(s&&t&&n.rbGroups.length)for(const a of n.rbGroups)for(const l of a)l!==e&&this.#t.get(l)?._setVisible(Oi,!1,!0);n._setVisible(Oi,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let s;for(const n of e){switch(n){case"ON":case"OFF":case"Toggle":s=n;continue}const a=this.#t.get(n);if(a)switch(s){case"ON":this.setVisibility(n,!0,t);break;case"OFF":this.setVisibility(n,!1,t);break;case"Toggle":this.setVisibility(n,!a.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#s?this.#s.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new Xv;for(const[t,s]of this.#t)e.update(`${t}:${s.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class zN{constructor(e,{disableRange:t=!1,disableStream:s=!1}){Ye(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:n,initialData:a,progressiveDone:l,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,a?.length>0){const d=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),e.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const n=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(s),!0)});Ye(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ye(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new $N(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new HN(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class $N{constructor(e,t,s=!1,n=null){this._stream=e,this._done=s||!1,this._filename=iu(n)?n:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class HN{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function VN(r){let e=!0,t=s("filename\\*","i").exec(r);if(t){t=t[1];let p=u(t);return p=unescape(p),p=d(p),p=f(p),a(p)}if(t=l(r),t){const p=f(t);return a(p)}if(t=s("filename","i").exec(r),t){t=t[1];let p=u(t);return p=f(p),a(p)}function s(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function n(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(p,{fatal:!0}),w=Oo(m);m=y.decode(w),e=!1}catch{}}return m}function a(p){return e&&/[\x80-\xff]/.test(p)&&(p=n("utf-8",p),e&&(p=n("iso-8859-1",p))),p}function l(p){const m=[];let y;const w=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(p))!==null;){let[,v,A,E]=y;if(v=parseInt(v,10),v in m){if(v===0)break;continue}m[v]=[A,E]}const C=[];for(let v=0;v<m.length&&v in m;++v){let[A,E]=m[v];E=u(E),A&&(E=unescape(E),v===0&&(E=d(E))),C.push(E)}return C.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let y=0;y<m.length;++y){const w=m[y].indexOf('"');w!==-1&&(m[y]=m[y].slice(0,w),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const y=p.slice(0,m),C=p.slice(m+1).replace(/^[^']*'/,"");return n(y,C)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,w,C){if(w==="q"||w==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,A){return String.fromCharCode(parseInt(A,16))}),n(y,C);try{C=atob(C)}catch{}return n(y,C)})}return""}function nb(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const s in e){const n=e[s];n!==void 0&&t.append(s,n)}return t}function au(r){return URL.parse(r)?.origin??null}function rb({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:s}){const n={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(r.get("Content-Length"),10);return!Number.isInteger(a)||(n.suggestedLength=a,a<=2*t)||s||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(n.allowRangeRequests=!0),n}function ib(r){const e=r.get("Content-Disposition");if(e){let t=VN(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(iu(t))return t}return null}function Uo(r,e){return new vo(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function ab(r){return r===200||r===206}function ob(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function lb(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(He(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class WN{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=nb(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ye(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new qN(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new GN(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class qN{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),n=t.url;fetch(n,ob(s,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=au(a.url),!ab(a.status))throw Uo(a.status,n);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:u,suggestedLength:d}=rb({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=ib(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Un("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:lb(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class GN{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const n=e.source;this._withCredentials=n.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!n.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${s-1}`);const l=n.url;fetch(l,ob(a,this._withCredentials,this._abortController)).then(u=>{const d=au(u.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!ab(u.status))throw Uo(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:lb(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Nh=200,Eh=206;function KN(r){const e=r.response;return typeof e!="string"?e:Oo(e).buffer}class XN{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=nb(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,n=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,l]of this.headers)t.setRequestHeader(a,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),n.expectedStatus=Eh):n.expectedStatus=Nh,t.responseType="arraybuffer",Ye(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){const s=this.pendingRequests[e];s&&s.onProgress?.(t)}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const n=s.xhr;if(n.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),n.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],n.status===0&&this.isHttp){s.onError(n.status);return}const a=n.status||Nh;if(!(a===Nh&&s.expectedStatus===Eh)&&a!==s.expectedStatus){s.onError(n.status);return}const u=KN(n);if(a===Eh){const d=n.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?s.onDone({begin:parseInt(f[1],10),chunk:u}):(He('Missing or invalid "Content-Range" header.'),s.onError(0))}else u?s.onDone({begin:0,chunk:u}):s.onError(n.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class YN{constructor(e){this._source=e,this._manager=new XN(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ye(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new QN(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new JN(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class QN{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=au(t.responseURL);const s=t.getAllResponseHeaders(),n=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=rb({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=ib(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Uo(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class JN{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=au(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Uo(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ZN=/^[a-z][a-z0-9\-+.]+:/i;function eE(r){if(ZN.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class tE{constructor(e){this.source=e,this.url=eE(e.url),Ye(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ye(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new sE(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new nE(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class sE{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=Uo(0,this._url.href)),this._storedError=n,this._headersCapability.reject(n)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Un("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nE{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const eo=Symbol("INITIAL_DATA");class cb{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:eo}}get(e,t=null){if(t){const n=this.#t(e);return n.promise.then(()=>t(n.data)),null}const s=this.#e[e];if(!s||s.data===eo)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=this.#e[e];return!!t&&t.data!==eo}delete(e){const t=this.#e[e];return!t||t.data===eo?!1:(delete this.#e[e],!0)}resolve(e,t=null){const s=this.#t(e);s.data=t,s.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==eo&&(yield[e,t])}}}const rE=1e5,tx=30;let wo=class $s{#e=Promise.withResolvers();#t=null;#n=!1;#s=!!globalThis.FontInspector?.enabled;#a=null;#r=null;#i=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#v=new Map;static#x=new Map;static#N=new WeakMap;static#C=null;static#b=new Set;constructor({textContentSource:e,container:t,viewport:s}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=s.scale*sn.pixelRatio,this.#h=s.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:n,pageHeight:a,pageX:l,pageY:u}=s.rawDims;this.#y=[1,0,0,-1,-l,u+a],this.#o=n,this.#i=a,$s.#j(),br(t,s),this.#e.promise.finally(()=>{$s.#b.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=$t.platform;return We(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:s})=>{if(s){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#f,t.styles),this.#k(t.items),e()},this.#e.reject)};return this.#c=this.#p.getReader(),$s.#b.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const s=e.scale*sn.pixelRatio,n=e.rotation;if(n!==this.#h&&(t?.(),this.#h=n,br(this.#l,{rotation:n})),s!==this.#d){t?.(),this.#d=s;const a={div:null,properties:null,ctx:$s.#T(this.#a)};for(const l of this.#u)a.properties=this.#m.get(l),a.div=l,this.#A(a)}}cancel(){const e=new Un("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#k(e){if(this.#n)return;this.#r.ctx??=$s.#T(this.#a);const t=this.#u,s=this.#g;for(const n of e){if(t.length>rE){He("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(n.str===void 0){if(n.type==="beginMarkedContentProps"||n.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),n.id&&this.#t.setAttribute("id",`${n.id}`),a.append(this.#t)}else n.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}s.push(n.str),this.#S(n)}}#S(e){const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const n=Ce.transform(this.#y,e.transform);let a=Math.atan2(n[1],n[0]);const l=this.#f[e.fontName];l.vertical&&(a+=Math.PI/2);let u=this.#s&&l.fontSubstitution||l.fontFamily;u=$s.fontFamilyMap.get(u)||u;const d=Math.hypot(n[2],n[3]),f=d*$s.#I(u,l,this.#a);let p,m;a===0?(p=n[4],m=n[5]-f):(p=n[4]+f*Math.sin(a),m=n[5]-f*Math.cos(a));const y="calc(var(--total-scale-factor) *",w=t.style;this.#t===this.#l?(w.left=`${(100*p/this.#o).toFixed(2)}%`,w.top=`${(100*m/this.#i).toFixed(2)}%`):(w.left=`${y}${p.toFixed(2)}px)`,w.top=`${y}${m.toFixed(2)}px)`),w.fontSize=`${y}${($s.#C*d).toFixed(2)}px)`,w.fontFamily=u,s.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#s&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),a!==0&&(s.angle=a*(180/Math.PI));let C=!1;if(e.str.length>1)C=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);v!==A&&Math.max(v,A)/Math.min(v,A)>1.5&&(C=!0)}if(C&&(s.canvasWidth=l.vertical?e.height:e.width),this.#m.set(t,s),this.#r.div=t,this.#r.properties=s,this.#A(this.#r),s.hasText&&this.#t.append(t),s.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this.#t.append(v)}}#A(e){const{div:t,properties:s,ctx:n}=e,{style:a}=t;let l="";if($s.#C>1&&(l=`scale(${1/$s.#C})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:f}=s;$s.#_(n,f*this.#d,u);const{width:p}=n.measureText(t.textContent);p>0&&(l=`scaleX(${d*this.#d/p}) ${l}`)}s.angle!==0&&(l=`rotate(${s.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#b.size>0)){this.#v.clear();for(const{canvas:e}of this.#x.values())e.remove();this.#x.clear()}}static#T(e=null){let t=this.#x.get(e||="");if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(e,t),this.#N.set(t,{size:0,family:""})}return t}static#_(e,t,s){const n=this.#N.get(e);t===n.size&&s===n.family||(e.font=`${t}px ${s}`,n.size=t,n.family=s)}static#j(){if(this.#C!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#I(e,t,s){const n=this.#v.get(e);if(n)return n;const a=this.#T(s);a.canvas.width=a.canvas.height=tx,this.#_(a,tx,e);const l=a.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let f=.8;return u?f=u/(u+d):($t.platform.isFirefox&&He("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),this.#v.set(e,f),f}};const iE=100;function Ff(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new Bf,{docId:t}=e,s=r.url?fN(r.url):null,n=r.data?pN(r.data):null,a=r.httpHeaders||null,l=r.withCredentials===!0,u=r.password??null,d=r.range instanceof Uf?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let p=r.worker instanceof Gi?r.worker:null;const m=r.verbosity,y=typeof r.docBaseUrl=="string"&&!Io(r.docBaseUrl)?r.docBaseUrl:null,w=lc(r.cMapUrl),C=r.cMapPacked!==!1,v=r.CMapReaderFactory||(ds?wN:zy),A=lc(r.iccUrl),E=lc(r.standardFontDataUrl),D=r.StandardFontDataFactory||(ds?SN:$y),O=lc(r.wasmUrl),T=r.WasmFactory||(ds?CN:Hy),k=r.stopAtErrors!==!0,j=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,R=r.isEvalSupported!==!1,I=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!ds,M=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!ds&&($t.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,V=typeof r.disableFontFace=="boolean"?r.disableFontFace:ds,X=r.fontExtraProperties===!0,U=r.enableXfa===!0,K=r.ownerDocument||globalThis.document,J=r.disableRange===!0,Q=r.disableStream===!0,b=r.disableAutoFetch===!0,q=r.pdfBug===!0,F=r.CanvasFactory||(ds?bN:yN),N=r.FilterFactory||(ds?vN:xN),_=r.enableHWA===!0,B=r.useWasm!==!1,te=d?d.length:r.length??NaN,ee=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!ds&&!V,le=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(v===zy&&D===$y&&T===Hy&&w&&E&&O&&ao(w,document.baseURI)&&ao(E,document.baseURI)&&ao(O,document.baseURI)),ae=null;K2(m);const W={canvasFactory:new F({ownerDocument:K,enableHWA:_}),filterFactory:new N({docId:t,ownerDocument:K}),cMapReaderFactory:le?null:new v({baseUrl:w,isCompressed:C}),standardFontDataFactory:le?null:new D({baseUrl:E}),wasmFactory:le?null:new T({baseUrl:O})};p||(p=Gi.create({verbosity:m,port:Sn.workerPort}),e._worker=p);const ne={docId:t,apiVersion:"5.4.296",data:n,password:u,disableAutoFetch:b,rangeChunkSize:f,length:te,docBaseUrl:y,enableXfa:U,evaluatorOptions:{maxImageSize:j,disableFontFace:V,ignoreErrors:k,isEvalSupported:R,isOffscreenCanvasSupported:I,isImageDecoderSupported:M,canvasMaxAreaInBytes:L,fontExtraProperties:X,useSystemFonts:ee,useWasm:B,useWorkerFetch:le,cMapUrl:w,iccUrl:A,standardFontDataUrl:E,wasmUrl:O}},ce={ownerDocument:K,pdfBug:q,styleElement:ae,loadingParams:{disableAutoFetch:b,enableXfa:U}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const me=p.messageHandler.sendWithPromise("GetDocRequest",ne,n?[n.buffer]:null);let Ie;if(d)Ie=new zN(d,{disableRange:J,disableStream:Q});else if(!n){if(!s)throw new Error("getDocument - no `url` parameter provided.");const Fe=ao(s)?WN:ds?tE:YN;Ie=new Fe({url:s,length:te,httpHeaders:a,withCredentials:l,rangeChunkSize:f,disableRange:J,disableStream:Q})}return me.then(Fe=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const ye=new oo(t,Fe,p.port),ve=new lE(ye,e,Ie,ce,W,_);e._transport=ve,ye.send("Ready",null)})}).catch(e._capability.reject),e}class Bf{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Bf.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Uf=class{#e=Promise.withResolvers();#t=[];#n=[];#s=[];#a=[];constructor(e,t,s=!1,n=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=n}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#s.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const s of this.#a)s(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const s of this.#s)s(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){at("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class aE{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return We(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class oE{#e=!1;constructor(e,t,s,n=!1){this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=n?new My:null,this._pdfBug=n,this.commonObjs=s.commonObjs,this.objs=new cb,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:n=0,dontFlip:a=!1}={}){return new Do({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:n,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return We(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:s,intent:n="display",annotationMode:a=bn.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:y=!1,recordOperations:w=!1,operationsFilter:C=null}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(n,a,m,y),{renderingIntent:A,cacheKey:E}=v;this.#e=!1,d||=this._transport.getOptionalContentConfig(A);let D=this._intentStates.get(E);D||(D=Object.create(null),this._intentStates.set(E,D)),D.streamReaderCancelTimeout&&(clearTimeout(D.streamReaderCancelTimeout),D.streamReaderCancelTimeout=null);const O=!!(A&Ts.PRINT);D.displayReadyCapability||(D.displayReadyCapability=Promise.withResolvers(),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const T=!!(this._pdfBug&&globalThis.StepperManager?.enabled),k=!this.recordedBBoxes&&(w||T),j=M=>{if(D.renderTasks.delete(R),k){const L=R.gfx?.dependencyTracker.take();L&&(R.stepper&&R.stepper.setOperatorBBoxes(L,R.gfx.dependencyTracker.takeDebugMetadata()),w&&(this.recordedBBoxes=L))}O&&(this.#e=!0),this.#t(),M?(R.capability.reject(M),this._abortOperatorList({intentState:D,reason:M instanceof Error?M:new Error(M)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Ii({callback:j,params:{canvas:t,canvasContext:e,dependencyTracker:k?new NN(t,D.operatorList.length,T):null,viewport:s,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:D.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!O,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:C});(D.renderTasks||=new Set).add(R);const I=R.task;return Promise.all([D.displayReadyCapability.promise,d]).then(([M,L])=>{if(this.destroyed){j();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:M,optionalContentConfig:L}),R.operatorListChanged()}).catch(j),I}getOperatorList({intent:e="display",annotationMode:t=bn.ENABLE,printAnnotationStorage:s=null,isEditing:n=!1}={}){function a(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,s,n,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=a,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(n){return n.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>bo.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,n){function a(){l.read().then(function({value:d,done:f}){if(f){s(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),a()},n)}const l=t.getReader(),u={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new My),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const s=this._intentStates.get(t);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let s=0,n=e.length;s<n;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:n}){const{map:a,transfer:l}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:n},l).getReader(),f=this._intentStates.get(t);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();this.#t()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof ru){let n=iE;t.extraDelay>0&&t.extraDelay<1e3&&(n+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},n);return}}if(e.streamReader.cancel(new Un(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[n,a]of this._intentStates)if(a===e){this._intentStates.delete(n);break}this.cleanup()}}}get stats(){return this._stats}}var mr,Zs,Fn,Kr,zc,Xr,Yr,hs,Sc,ub,db,lo,Hi,Cc;const gt=class gt{constructor({name:e=null,port:t=null,verbosity:s=X2()}={}){dn(this,hs);dn(this,mr,Promise.withResolvers());dn(this,Zs,null);dn(this,Fn,null);dn(this,Kr,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(mt(gt,Yr).has(t))throw new Error("Cannot use more than one PDFWorker per port.");mt(gt,Yr).set(t,this),hn(this,hs,ub).call(this,t)}else hn(this,hs,db).call(this)}get promise(){return mt(this,mr).promise}get port(){return mt(this,Fn)}get messageHandler(){return mt(this,Zs)}destroy(){this.destroyed=!0,mt(this,Kr)?.terminate(),vs(this,Kr,null),mt(gt,Yr).delete(mt(this,Fn)),vs(this,Fn,null),mt(this,Zs)?.destroy(),vs(this,Zs,null)}static create(e){const t=mt(this,Yr).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gt(e)}static get workerSrc(){if(Sn.workerSrc)return Sn.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return We(this,"_setupFakeWorkerGlobal",(async()=>mt(this,Hi,Cc)?mt(this,Hi,Cc):(await import(this.workerSrc)).WorkerMessageHandler)())}};mr=new WeakMap,Zs=new WeakMap,Fn=new WeakMap,Kr=new WeakMap,zc=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,hs=new WeakSet,Sc=function(){mt(this,mr).resolve(),mt(this,Zs).send("configure",{verbosity:this.verbosity})},ub=function(e){vs(this,Fn,e),vs(this,Zs,new oo("main","worker",e)),mt(this,Zs).on("ready",()=>{}),hn(this,hs,Sc).call(this)},db=function(){if(mt(gt,Xr)||mt(gt,Hi,Cc)){hn(this,hs,lo).call(this);return}let{workerSrc:e}=gt;try{gt._isSameOrigin(window.location,e)||(e=gt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new oo("main","worker",t),n=()=>{a.abort(),s.destroy(),t.terminate(),this.destroyed?mt(this,mr).reject(new Error("Worker was destroyed")):hn(this,hs,lo).call(this)},a=new AbortController;t.addEventListener("error",()=>{mt(this,Kr)||n()},{signal:a.signal}),s.on("test",u=>{if(a.abort(),this.destroyed||!u){n();return}vs(this,Zs,s),vs(this,Fn,t),vs(this,Kr,t),hn(this,hs,Sc).call(this)}),s.on("ready",u=>{if(a.abort(),this.destroyed){n();return}try{l()}catch{hn(this,hs,lo).call(this)}});const l=()=>{const u=new Uint8Array;s.send("test",u,[u.buffer])};l();return}catch{nu("The worker has been disabled.")}hn(this,hs,lo).call(this)},lo=function(){mt(gt,Xr)||(He("Setting up fake worker."),vs(gt,Xr,!0)),gt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){mt(this,mr).reject(new Error("Worker was destroyed"));return}const t=new gN;vs(this,Fn,t);const s=`fake${yg(gt,zc)._++}`,n=new oo(s+"_worker",s,t);e.setup(n,t),vs(this,Zs,new oo(s,s+"_worker",t)),hn(this,hs,Sc).call(this)}).catch(e=>{mt(this,mr).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Hi=new WeakSet,Cc=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},dn(gt,Hi),dn(gt,zc,0),dn(gt,Xr,!1),dn(gt,Yr,new WeakMap),ds&&(vs(gt,Xr,!0),Sn.workerSrc||="./pdf.worker.mjs"),gt._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!s?.origin||s.origin==="null")return!1;const n=new URL(t,s);return s.origin===n.origin},gt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},gt.fromPort=e=>{if(rN("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return gt.create(e)};let Gi=gt;class lE{#e=new Map;#t=new Map;#n=new Map;#s=new Map;#a=null;constructor(e,t,s,n,a,l){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new cb,this.fontLoader=new dN({ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this.loadingParams=n.loadingParams,this._params=n,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#r(e,t=null){const s=this.#e.get(e);if(s)return s;const n=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,n),n}get annotationStorage(){return We(this,"annotationStorage",new Mf)}getRenderingIntent(e,t=bn.ENABLE,s=null,n=!1,a=!1){let l=Ts.DISPLAY,u=Qh;switch(e){case"any":l=Ts.ANY;break;case"display":break;case"print":l=Ts.PRINT;break;default:He(`getRenderingIntent - invalid intent: ${e}`)}const d=l&Ts.PRINT&&s instanceof Yv?s:this.annotationStorage;switch(t){case bn.DISABLE:l+=Ts.ANNOTATIONS_DISABLE;break;case bn.ENABLE:break;case bn.ENABLE_FORMS:l+=Ts.ANNOTATIONS_FORMS;break;case bn.ENABLE_STORAGE:l+=Ts.ANNOTATIONS_STORAGE,u=d.serializable;break;default:He(`getRenderingIntent - invalid annotationMode: ${t}`)}n&&(l+=Ts.IS_EDITING),a&&(l+=Ts.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[l,u.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of this.#t.values())e.push(s._destroy());this.#t.clear(),this.#n.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),wo.cleanup(),this._networkStream?.cancelAllRequests(new Un("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,n)=>{Ye(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},n.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){n.close();return}Ye(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{n.error(a)})},n.onCancel=a=>{this._fullReader.cancel(a),n.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:a,contentLength:l}=this._fullReader;return(!n||!a)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{t.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:n,isRangeSupported:a,contentLength:l}}),e.on("GetRangeReader",(s,n)=>{Ye(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(s.begin,s.end);if(!a){n.close();return}n.onPull=()=>{a.read().then(function({value:l,done:u}){if(u){n.close();return}Ye(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{n.error(l)})},n.onCancel=l=>{a.cancel(l),n.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new aE(s,this))}),e.on("DocException",s=>{t._capability.reject(ws(s))}),e.on("PasswordRequest",s=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw ws(s);const n=a=>{a instanceof Error?this.#a.reject(a):this.#a.resolve({password:a})};t.onPassword(n,s.code)}catch(n){this.#a.reject(n)}return this.#a.promise}),e.on("DataLoaded",s=>{t.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;this.#t.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,n,a])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(n){case"Font":if("error"in a){const p=a.error;He(`Error during font loading: ${p}`),this.commonObjs.resolve(s,p);break}const l=new rt(a),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new hN(l,u,a.extra,a.charProcOperatorList);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(s,d)});break;case"CopyLocalImage":const{imageRef:f}=a;Ye(f,"The imageRef must be defined.");for(const p of this.#t.values())for(const[,m]of p.objs)if(m?.ref===f)return m.dataLen?(this.commonObjs.resolve(s,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,a);break;default:throw new Error(`Got unknown common object type ${n}`)}return null}),e.on("obj",([s,n,a,l])=>{if(this.destroyed)return;const u=this.#t.get(n);if(!u.objs.has(s)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(a){case"Image":case"Pattern":u.objs.resolve(s,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",s=>{this.destroyed||t.onProgress?.({loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const n=this[s.type];if(!n)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return n.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&He("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=this.#n.get(t);if(s)return s;const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#s.set(a.refStr,e);const l=new oE(t,a,this,this._params.pdfBug);return this.#t.set(t,l),l});return this.#n.set(t,n),n}getPageIndex(e){return Jh(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#r("GetOptionalContentConfig").then(t=>new UN(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(n=>({info:n[0],metadata:n[1]?new FN(n[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),wo.cleanup()}}cachedPageNumber(e){if(!Jh(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#s.get(t)??null}}class cE{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Ii{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:s,commonObjs:n,annotationCanvasMap:a,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:y=null,enableHWA:w=!1,operationsFilter:C=null}){this.callback=e,this.params=t,this.objs=s,this.commonObjs=n,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new cE(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=w,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=C}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Ii.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ii.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:n,background:a,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Fi(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:n,viewport:s,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Ii.#t.delete(this._canvas),e||=new ru(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ii.#t.delete(this._canvas),this.callback())))}}const So="5.4.296",hb="f56dc8601";class Ps{#e=null;#t=null;#n;#s=null;#a=!1;#r=!1;#i=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return We(this,"_keyboardManager",new Fo([[["Escape","mac+Escape"],Ps.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ps.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ps.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ps.prototype._moveToPrevious],[["Home","mac+Home"],Ps.prototype._moveToBeginning],[["End","mac+End"],Ps.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#r=!1,this.#i=e):this.#r=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ps.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const s=this.#t=document.createElement("span");return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=this.#n,e.append(s),e}renderMainDropdown(){const e=this.#s=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Ls,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[s,n]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",n),a.title=s,a.setAttribute("data-l10n-id",Ps.#h[s]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=n,a.ariaSelected=n===this.#n,a.addEventListener("click",this.#f.bind(this,n),{signal:t}),e.append(a)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Xe.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#m){this.#p(e);return}if(e.target===this.#e){this.#s.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#s?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#p(e);return}this.#s.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#p(e);return}this.#s.lastChild?.focus()}#g(e){Ps._keyboardManager.exec(this,e)}#p(e){if(this.#m){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#s){this.#s.classList.remove("hidden");return}const t=this.#s=this.#d();this.#e.append(t)}#u(e){this.#s?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#m){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#s)return;const t=this.#l.highlightColors.values();for(const s of this.#s.children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#s?.remove(),this.#s=null}}class Co{#e=null;#t=null;#n=null;static#s=null;constructor(e){this.#t=e,this.#n=e._uiManager,Co.#s||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:s}=this.#t,n=this.#e=document.createElement("input");return n.type="color",n.value=s||"#000000",n.className="basicColorPicker",n.tabIndex=0,n.setAttribute("data-l10n-id",Co.#s[e]),n.addEventListener("input",()=>{this.#n.updateParams(t,n.value)},{signal:this.#n._signal}),n}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function sx(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function to(r){return Math.max(0,Math.min(255,255*r))}class nx{static CMYK_G([e,t,s,n]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+n)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=to(e),[e,e,e]}static G_HTML([e]){const t=sx(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(to)}static RGB_HTML(e){return`#${e.map(sx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,n]){return["RGB",1-Math.min(1,e+n),1-Math.min(1,s+n),1-Math.min(1,t+n)]}static CMYK_rgb([e,t,s,n]){return[to(1-Math.min(1,e+n)),to(1-Math.min(1,s+n)),to(1-Math.min(1,t+n))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const n=1-e,a=1-t,l=1-s,u=Math.min(n,a,l);return["CMYK",n,a,l,u]}}class uE{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),s||(n.setAttribute("width",`${e}px`),n.setAttribute("height",`${t}px`)),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox",`0 0 ${e} ${t}`),n}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){at("Abstract method `_createSVG` called.")}}class Ao extends uE{_createSVG(e){return document.createElementNS(In,e)}}const dE=9,ei=new WeakSet,hE=new Date().getTimezoneOffset()*60*1e3;class rx{static create(e){switch(e.data.annotationType){case _t.LINK:return new zf(e);case _t.TEXT:return new pE(e);case _t.WIDGET:switch(e.data.fieldType){case"Tx":return new mE(e);case"Btn":return e.data.radioButton?new fb(e):e.data.checkBox?new yE(e):new xE(e);case"Ch":return new vE(e);case"Sig":return new gE(e)}return new ni(e);case _t.POPUP:return new tf(e);case _t.FREETEXT:return new pb(e);case _t.LINE:return new wE(e);case _t.SQUARE:return new SE(e);case _t.CIRCLE:return new CE(e);case _t.POLYLINE:return new mb(e);case _t.CARET:return new NE(e);case _t.INK:return new $f(e);case _t.POLYGON:return new AE(e);case _t.HIGHLIGHT:return new gb(e);case _t.UNDERLINE:return new EE(e);case _t.SQUIGGLY:return new kE(e);case _t.STRIKEOUT:return new _E(e);case _t.STAMP:return new yb(e);case _t.FILEATTACHMENT:return new jE(e);default:return new St(e)}}}class St{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:n=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),n&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return St._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:s,rect:n}=this.data;let a=-1/0,l=-1/0;if(t?.length>=8){for(let u=0;u<t.length;u+=8)t[u+1]>l?(l=t[u+1],a=t[u+2]):t[u+1]===l&&(a=Math.max(a,t[u+2]));return[a,l]}if(s?.length>=1){for(const u of s)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>l?(l=u[d+1],a=u[d]):u[d+1]===l&&(a=Math.max(a,u[d]));if(a!==1/0)return[a,l]}return n?[n[2],n[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:n,pageX:a,pageY:l}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-a)/s,e[1]=100*(e[1]-l)/n,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${xo}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,s={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:s})||this.annotationStorage.setValue(`${xo}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:s,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#n?.popup||this.popup)?.remove(),this.#n=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:s}=e;t&&this.#s(t);let n=this.#n?.popup||this.popup;!n&&s?.text&&(this._createPopup(s),n=this.#n.popup),n&&(n.updateEdited(e),s?.deleted&&(n.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#e&&(this.#s(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#s(e){const{container:{style:t},data:{rect:s,rotation:n},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:u,pageY:d}}}}=this;s?.splice(0,4,...e),t.left=`${100*(e[0]-u)/a}%`,t.top=`${100*(l-e[3]+d)/l}%`,n===0?(t.width=`${100*(e[2]-e[0])/a}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(n)}_createContainer(e){const{data:t,parent:{page:s,viewport:n}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),!(this instanceof ni)&&!(this instanceof zf)&&(a.tabIndex=0);const{style:l}=a;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof tf){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,a),a}const{width:u,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(v>0||A>0){const D=`calc(${v}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;l.borderRadius=D}else if(this instanceof fb){const D=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=D}switch(t.borderStyle.style){case Mi.SOLID:l.borderStyle="solid";break;case Mi.DASHED:l.borderStyle="dashed";break;case Mi.BEVELED:He("Unimplemented border style: beveled");break;case Mi.INSET:He("Unimplemented border style: inset");break;case Mi.UNDERLINE:l.borderBottomStyle="solid";break}const E=t.borderColor||null;E?(this.#t=!0,l.borderColor=Ce.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const f=Ce.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:p,pageHeight:m,pageX:y,pageY:w}=n.rawDims;l.left=`${100*(f[0]-y)/p}%`,l.top=`${100*(f[1]-w)/m}%`;const{rotation:C}=t;return t.hasOwnCanvas||C===0?(l.width=`${100*u/p}%`,l.height=`${100*d/m}%`):this.setRotation(C,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:n}=this.parent.viewport.rawDims;let{width:a,height:l}=this;e%180!==0&&([a,l]=[l,a]),t.style.width=`${100*a/s}%`,t.style.height=`${100*l/n}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,n)=>{const a=n.detail[t],l=a[0],u=a.slice(1);n.target.style[s]=nx[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[s]:nx[`${l}_rgb`](u)})};return We(this,"_commonActions",{display:t=>{const{display:s}=t.detail,n=s%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const n of Object.keys(t.detail))(e[n]||s[n])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[n,a]of Object.entries(t)){const l=s[n];if(l){const u={detail:{[n]:a},target:e};l(u),delete t[n]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,n,a]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,A,E,D]=e.subarray(2,6);if(n===v&&a===A&&t===E&&s===D)return}const{style:l}=this.container;let u;if(this.#t){const{borderColor:v,borderWidth:A}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const d=n-t,f=a-s,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const y=p.createElement("defs");m.append(y);const w=p.createElement("clipPath"),C=`clippath_${this.data.id}`;w.setAttribute("id",C),w.setAttribute("clipPathUnits","objectBoundingBox"),y.append(w);for(let v=2,A=e.length;v<A;v+=8){const E=e[v],D=e[v+1],O=e[v+2],T=e[v+3],k=p.createElement("rect"),j=(O-t)/d,R=(a-D)/f,I=(E-O)/d,M=(D-T)/f;k.setAttribute("x",j),k.setAttribute("y",R),k.setAttribute("width",I),k.setAttribute("height",M),w.append(k),u?.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${R}" width="${I}" height="${M}"/>`)}this.#t&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${C})`}_createPopup(e=null){const{data:t}=this;let s,n;e?(s={str:e.text},n=e.date):(s=t.contentsObj,n=t.modificationDate);const a=this.#n=new tf({data:{color:t.color,titleObj:t.titleObj,modificationDate:n,contentsObj:s,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#n}render(){at("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const n=this._fieldObjects[e];if(n)for(const{page:a,id:l,exportValues:u}of n){if(a===-1||l===t)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!ei.has(f)){He(`_getElementsByName - element not allowed: ${l}`);continue}s.push({id:l,exportValue:d,domElement:f})}return s}for(const n of document.getElementsByName(e)){const{exportValue:a}=n,l=n.getAttribute("data-element-id");l!==t&&ei.has(n)&&s.push({id:l,exportValue:a,domElement:n})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class fE extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class zf extends St{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let n=!1;return e.url?(t.addLinkAttributes(s,e.url,e.newWindow),n=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),n=!0):e.attachment?(this.#t(s,e.attachment,e.overlaidText,e.attachmentDest),n=!0):e.setOCGState?(this.#n(s,e.setOCGState,e.overlaidText),n=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),n=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),n=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),n=!0):this.isTooltipOnly&&!n&&(this._bindLink(s,""),n=!0)),this.container.classList.add("linkAnnotation"),n&&this.container.append(s),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,s=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),s&&(e.title=s)}_bindNamedAction(e,t,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),s&&(e.title=s),this.#e()}#t(e,t,s="",n=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:s&&(e.title=s),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#e()}#n(e,t,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),s&&(e.title=s),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const n of Object.keys(t.actions)){const a=s.get(n);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:n}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){He('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{s?.();const{fields:n,refs:a,include:l}=t,u=[];if(n.length!==0||a.length!==0){const p=new Set(a);for(const m of n){const y=this._fieldObjects[m]||[];for(const{id:w}of y)p.add(w)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===l&&u.push(y)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:m}=p;switch(f.push(m),p.type){case"text":{const w=p.defaultValue||"";d.setValue(m,{value:w});break}case"checkbox":case"radiobutton":{const w=p.defaultValue===p.exportValues;d.setValue(m,{value:w});break}case"combobox":case"listbox":{const w=p.defaultValue||"";d.setValue(m,{value:w});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!ei.has(y)){He(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class pE extends St{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ni extends St{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return $t.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,n,a){s.includes("mouse")?e.addEventListener(s,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(s,l=>{if(s==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:a(l)}})})}_setEventListeners(e,t,s,n){for(const[a,l]of s)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,a,l,n),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ce.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||dE,a=e.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(vh*n))||1,m=f/p;l=Math.min(n,d(m/vh))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(n,d(f/vh))}a.fontSize=`calc(${l}px * var(--total-scale-factor))`,a.color=Ce.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class mE extends ni{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,n){const a=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=s),a.setValue(l.id,{[n]:s})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const n=e.getValue(t,{value:this.data.fieldValue});let a=n.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=n.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=u??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",u??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ei.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:m}=this.data,y=!!p&&this.enableScripting;f&&(s.title=f),this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",C=>{e.setValue(t,{value:C.target.value}),this.setPropertyOnSiblings(s,"value",C.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",C=>{const v=this.data.defaultFieldValue??"";s.value=d.userValue=v,d.formattedValue=null});let w=C=>{const{formattedValue:v}=d;v!=null&&(C.target.value=v),C.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",v=>{if(d.focused)return;const{target:A}=v;if(y&&(A.type=p,m&&(A.step=m)),d.userValue){const E=d.userValue;if(y)if(p==="time"){const D=new Date(E),O=[D.getHours(),D.getMinutes(),D.getSeconds()];A.value=O.map(T=>T.toString().padStart(2,"0")).join(":")}else A.value=new Date(E-hE).toISOString().split(p==="date"?"T":".",1)[0];else A.value=E}d.lastCommittedValue=A.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const A={value(E){d.userValue=E.detail.value??"",y||e.setValue(t,{value:d.userValue.toString()}),E.target.value=d.userValue},formattedValue(E){const{formattedValue:D}=E.detail;d.formattedValue=D,D!=null&&E.target!==document.activeElement&&(E.target.value=D);const O={formattedValue:D};y&&(O.value=D),e.setValue(t,O)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{const{charLimit:D}=E.detail,{target:O}=E;if(D===0){O.removeAttribute("maxLength");return}O.setAttribute("maxLength",D);let T=d.userValue;!T||T.length<=D||(T=T.slice(0,D),O.value=d.userValue=T,e.setValue(t,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:O.selectionStart,selEnd:O.selectionEnd}}))}};this._dispatchEventFromSandbox(A,v)}),s.addEventListener("keydown",v=>{d.commitKey=1;let A=-1;if(v.key==="Escape"?A=0:v.key==="Enter"&&!this.data.multiLine?A=2:v.key==="Tab"&&(d.commitKey=3),A===-1)return;const{value:E}=v.target;d.lastCommittedValue!==E&&(d.lastCommittedValue=E,d.userValue=E,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:A,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const C=w;w=null,s.addEventListener("blur",v=>{if(!d.focused||!v.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:A}=v;let{value:E}=A;if(y){if(E&&p==="time"){const D=E.split(":").map(O=>parseInt(O,10));E=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),A.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();A.type="text"}d.userValue=E,d.lastCommittedValue!==E&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:d.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),C(v)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",v=>{d.lastCommittedValue=null;const{data:A,target:E}=v,{value:D,selectionStart:O,selectionEnd:T}=E;let k=O,j=T;switch(v.inputType){case"deleteWordBackward":{const R=D.substring(0,O).match(/\w*[^\w]*$/);R&&(k-=R[0].length);break}case"deleteWordForward":{const R=D.substring(O).match(/^[^\w]*\w*/);R&&(j+=R[0].length);break}case"deleteContentBackward":O===T&&(k-=1);break;case"deleteContentForward":O===T&&(j+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,change:A||"",willCommit:!1,selStart:k,selEnd:j}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(w&&s.addEventListener("blur",w),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class gE extends ni{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class yE extends ni{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let n=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof n=="string"&&(n=n!=="Off",e.setValue(s,{value:n})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return ei.add(a),a.setAttribute("data-element-id",s),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,n&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=0,a.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,s)){const p=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}e.setValue(s,{value:d})}),a.addEventListener("resetform",l=>{const u=t.defaultFieldValue||"Off";l.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class fb extends ni{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let n=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof n=="string"&&(n=n!==t.buttonValue,e.setValue(s,{value:n})),n)for(const l of this._getElementsByName(t.fieldName,s))e.setValue(l.id,{value:!1});const a=document.createElement("input");if(ei.add(a),a.setAttribute("data-element-id",s),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,n&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,s))e.setValue(f.id,{value:!1});e.setValue(s,{value:d})}),a.addEventListener("resetform",l=>{const u=t.defaultFieldValue;l.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;a.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const y=p&&m.id===s;m.domElement&&(m.domElement.checked=y),e.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class xE extends zf{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class vE extends ni{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),n=document.createElement("select");ei.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,this._setRequired(n,this.data.required),n.name=this.data.fieldName,n.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0)),n.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const y of n.options)y.selected=y.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,s.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),a=!1),n.append(m)}let l=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),n.prepend(p),l=()=>{p.remove(),n.removeEventListener("input",l),l=null},n.addEventListener("input",l)}const u=p=>{const m=p?"value":"textContent",{options:y,multiple:w}=n;return w?Array.prototype.filter.call(y,C=>C.selected).map(C=>C[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let d=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(n.addEventListener("updatefromsandbox",p=>{const m={value(y){l?.();const w=y.detail.value,C=new Set(Array.isArray(w)?w:[w]);for(const v of n.options)v.selected=C.has(v.value);e.setValue(t,{value:u(!0)}),d=u(!1)},multipleSelection(y){n.multiple=!0},remove(y){const w=n.options,C=y.detail.remove;w[C].selected=!1,n.remove(C),w.length>0&&Array.prototype.findIndex.call(w,A=>A.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},clear(y){for(;n.length!==0;)n.remove(0);e.setValue(t,{value:null,items:[]}),d=u(!1)},insert(y){const{index:w,displayValue:C,exportValue:v}=y.detail.insert,A=n.children[w],E=document.createElement("option");E.textContent=C,E.value=v,A?A.before(E):n.append(E),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},items(y){const{items:w}=y.detail;for(;n.length!==0;)n.remove(0);for(const C of w){const{displayValue:v,exportValue:A}=C,E=document.createElement("option");E.textContent=v,E.value=A,n.append(E)}n.options.length>0&&(n.options[0].selected=!0),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},indices(y){const w=new Set(y.detail.indices);for(const C of y.target.options)C.selected=w.has(C.index);e.setValue(t,{value:u(!0)}),d=u(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,p)}),n.addEventListener("input",p=>{const m=u(!0),y=u(!1);e.setValue(t,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(n,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):n.addEventListener("input",function(p){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class tf extends St{constructor(e){const{data:t,elements:s,parent:n}=e,a=!!n._commentManager;if(super(e,{isRenderable:!a&&St._hasPopupData(t)}),this.elements=s,a&&St._hasPopupData(t)){const l=this.popup=this.#e();for(const u of s)u.popup=l}else this.popup=null}#e(){return new bE({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),s=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",s.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(n=>`${jf}${n}`).join(",")),this.container}}class bE{#e=null;#t=this.#V.bind(this);#n=this.#B.bind(this);#s=this.#L.bind(this);#a=this.#w.bind(this);#r=null;#i=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#v=null;#x=null;#N=null;#C=null;#b=null;#k=!1;#S=null;#A=null;constructor({container:e,color:t,elements:s,titleObj:n,modificationDate:a,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:m,commentManager:y=null}){this.#i=e,this.#C=n,this.#o=l,this.#N=u,this.#h=d,this.#r=t,this.#x=f,this.#d=p,this.#l=s,this.#e=y,this.#S=s[0],this.#c=Mc.toDateObject(a),this.trigger=s.flatMap(w=>w.getElementsToTriggerPopup()),y?this.renderCommentButton():(this.#T(),this.#i.hidden=!0,m&&this.#w())}#T(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#s,{signal:e}),t.addEventListener("pointerleave",this.#n,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#_(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#_(),!this.#y))return;const{signal:e}=this.#p=new AbortController,t=!!this.#S.extraPopupElement,s=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},n=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},a=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#m=this.#S.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",s,{signal:e}),l.addEventListener("pointerenter",n,{signal:e}),l.addEventListener("pointerleave",a,{signal:e}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const u=this.#S.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#j(),l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",s,{signal:e}),l.addEventListener("pointerenter",n,{signal:e}),l.addEventListener("pointerleave",a,{signal:e}),u.after(l)}}#j(){if(this.#S.extraPopupElement&&!this.#S.editor)return;this.renderCommentButton();const[e,t]=this.#y,{style:s}=this.#m;s.left=`calc(${e}%)`,s.top=`calc(${t}% - var(--comment-button-dim))`}#I(){this.#S.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#S.commentData;return e?this.#h._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:t,opacity:s,creationDate:n,modificationDate:a}=this.#S.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:s,creationDate:n,modificationDate:a}}get elementBeforePopup(){return this.#m}get comment(){return this.#A||=this.#S.commentText,this.#A}set comment(e){e!==this.comment&&(this.#S.commentText=this.#A=e)}get parentBoundingClientRect(){return this.#S.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=t)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:e,y:t,height:s}=this.#m.getBoundingClientRect(),{x:n,y:a,width:l,height:u}=this.#S.layer.getBoundingClientRect();return[(e-n)/l,(t+s-a)/u]}set commentPopupPosition(e){this.#v=e}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,s]=this.#v||this.commentButtonPosition.map(f=>f/100),n=this.parentBoundingClientRect,{x:a,y:l,width:u,height:d}=n;this.#e.showDialog(null,this,a+t*u,l+s*d,{...e,parentDimensions:n})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#r){const s=e.style.outlineColor=Ce.makeHexColor(...this.#r);e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#C?.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=this.#C}if(e.append(t),this.#c){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),s.dateTime=this.#c.toISOString(),t.append(s)}Pf({html:this.#R||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#R(){const e=this.#N,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#N.html||null}get#M(){return this.#R?.attributes?.style?.fontSize||0}get#F(){return this.#R?.attributes?.style?.color||null}#O(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},n={style:{color:this.#F,fontSize:this.#M?`calc(${this.#M}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:n});return s}#V(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:e,popup:t,deleted:s}){if(this.#e){s?(this.remove(),this.#A=null):t&&(t.deleted?this.remove():(this.#I(),this.#A=t.text)),e&&(this.#y=null,this.#_(),this.#j());return}if(s||t?.deleted){this.remove();return}this.#T(),this.#b||={contentsObj:this.#o,richText:this.#N},e&&(this.#u=null),t&&t.text&&(this.#N=this.#O(t.text),this.#c=Mc.toDateObject(t.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#b&&({contentsObj:this.#o,richText:this.#N}=this.#b,this.#b=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#k=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#E(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:n,pageY:a}}}=this.#h;let l=!!this.#d,u=l?this.#d:this.#x;for(const C of this.#l)if(!u||Ce.intersect(C.data.rect,u)!==null){u=C.data.rect,l=!0;break}const d=Ce.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),p=l?u[2]-u[0]+5:0,m=d[0]+p,y=d[1];this.#u=[100*(m-n)/t,100*(y-a)/s];const{style:w}=this.#i;w.left=`${this.#u[0]}%`,w.top=`${this.#u[1]}%`}#w(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#L(),this.#i.addEventListener("click",this.#a),this.#i.addEventListener("keydown",this.#t)):(this.#B(),this.#i.removeEventListener("click",this.#a),this.#i.removeEventListener("keydown",this.#t))}#L(){this.#g||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#E(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#B(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#k=this.isVisible,this.#k&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#T(),this.#k&&(this.#g||this.#L(),this.#k=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class pb extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=$e.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class wE extends St{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:s}=this,n=this.svgFactory.create(t,s,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),n.append(a),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class SE extends St{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:s}=this,n=this.svgFactory.create(t,s,!0),a=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",t-a),l.setAttribute("height",s-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),n.append(l),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class CE extends St{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:s}=this,n=this.svgFactory.create(t,s,!0),a=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",s/2),l.setAttribute("rx",t/2-a/2),l.setAttribute("ry",s/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),n.append(l),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class mb extends St{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:s,popupRef:n},width:a,height:l}=this;if(!t)return this.container;const u=this.svgFactory.create(a,l,!0);let d=[];for(let p=0,m=t.length;p<m;p+=2){const y=t[p]-e[0],w=e[3]-t[p+1];d.push(`${y},${w}`)}d=d.join(" ");const f=this.#e=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!n&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class AE extends mb{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class NE extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class $f extends St{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?$e.HIGHLIGHT:$e.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:s,borderStyle:n,popupRef:a}}=this,{transform:l,width:u,height:d}=this.#n(t,e),f=this.svgFactory.create(u,d,!0),p=this.#e=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",n.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let m=0,y=s.length;m<y;m++){const w=this.svgFactory.createElement(this.svgElementName);this.#t.push(w),w.setAttribute("points",s[m].join(",")),p.append(w)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:s,rect:n}=e,a=this.#e;if(t>=0&&a.setAttribute("stroke-width",t||1),s)for(let l=0,u=this.#t.length;l<u;l++)this.#t[l].setAttribute("points",s[l].join(","));if(n){const{transform:l,width:u,height:d}=this.#n(this.data.rotation,n);a.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class gb extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=$e.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class EE extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class kE extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class _E extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class yb extends St{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=$e.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class jE extends St{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let s;t.hasAppearance||t.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#t.bind(this)),this.#e=s;const{isMac:n}=$t.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(n?a.metaKey:a.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Hf=class xb{#e=null;#t=null;#n=null;#s=new Map;#a=null;#r=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:n,page:a,viewport:l,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=e,this.#e=t,this.#t=s,this.#a=u||null,this.#r=f||null,this.#n=p||new Mf,this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=n,this._commentManager=d||null}hasEditableAnnotations(){return this.#s.size>0}async#i(e,t,s){const n=e.firstChild||e,a=n.id=`${jf}${t}`,l=await this.#a?.getAriaAttributes(a);if(l)for(const[u,d]of l)n.setAttribute(u,d);s?s.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,n,!1))}async render(e){const{annotations:t}=e,s=this.div;br(s,this.viewport);const n=new Map,a={data:null,layer:s,linkService:this.#r,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Ao,annotationStorage:this.#n,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===_t.POPUP;if(u){const p=n.get(l.id);if(!p)continue;a.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=rx.create(a);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=n.get(l.popupRef);p?p.push(d):n.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#i(f,l.id,a.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#s.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#r,svgFactory:new Ao,parent:this};for(const s of e){s.borderStyle||=xb._defaultBorderStyle,t.data=s;const n=rx.create(t);if(!n.isRenderable)continue;const a=n.render();await this.#i(a,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,br(t,{rotation:e.rotation}),this.#o(),t.hidden=!1}#o(){if(!this.#t)return;const e=this.div;for(const[t,s]of this.#t){const n=e.querySelector(`[data-annotation-id="${t}"]`);if(!n)continue;s.className="annotationContent";const{firstChild:a}=n;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):n.append(s);const l=this.#s.get(t);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,n.id,s),l._hasNoCanvas=!1):l.canvas=s)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#s.values())}getEditableAnnotation(e){return this.#s.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:s,rotation:n}=e,a=new fE({data:{id:s,rect:e.getPDFRect(),rotation:n},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#r,annotationStorage:this.#n}),l=a.render();return t.append(l),this.#e?.moveElementInDOM(t,l,l,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return We(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Mi.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const pc=/\r\n?|\n/g;class Ut extends Te{#e="";#t=`${this.id}-editor`;#n=null;#s;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Ut.prototype,t=a=>a.isEmpty(),s=zn.TRANSLATE_SMALL,n=zn.TRANSLATE_BIG;return We(this,"_keyboardManager",new Fo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}]]))}static _type="freetext";static _editorType=$e.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Ut._defaultColor||Te._defaultLineColor,this.#s=e.fontSize||Ut._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Te.initialize(e,t);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Xe.FREETEXT_SIZE:Ut._defaultFontSize=t;break;case Xe.FREETEXT_COLOR:Ut._defaultColor=t;break}}updateParams(e,t){switch(e){case Xe.FREETEXT_SIZE:this.#a(t);break;case Xe.FREETEXT_COLOR:this.#r(t);break}}static get defaultPropertiesToUpdate(){return[[Xe.FREETEXT_SIZE,Ut._defaultFontSize],[Xe.FREETEXT_COLOR,Ut._defaultColor||Te._defaultLineColor]]}get propertiesToUpdate(){return[[Xe.FREETEXT_SIZE,this.#s],[Xe.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Co(this),[["colorPicker",this._colorPicker]]}get colorType(){return Xe.FREETEXT_COLOR}#a(e){const t=n=>{this.editorDiv.style.fontSize=`calc(${n}px * var(--total-scale-factor))`,this.translate(0,-(n-this.#s)*this.parentScale),this.#s=n,this.#o()},s=this.#s;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#r(e){const t=n=>{this.color=n,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ut._internalPadding*e,-(Ut._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const e=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let t=null;for(const s of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(Ut.#c(s)),t=s);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:n,div:a}=this,l=a.style.display,u=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",n.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/t):(this.width=s.height/e,this.height=s.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#i().trimEnd();if(e===t)return;const s=n=>{if(this.#e=n,!n){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{s(t)},undo:()=>{s(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ut._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,y]=this.pageTranslation;let w,C;switch(this.rotation){case 0:w=e+(l[0]-m)/f,C=t+this.height-(l[1]-y)/p;break;case 90:w=e+(l[0]-m)/f,C=t-(l[1]-y)/p,[u,d]=[d,-u];break;case 180:w=e-this.width+(l[0]-m)/f,C=t-(l[1]-y)/p,[u,d]=[-u,-d];break;case 270:w=e+(l[0]-m-this.height*p)/f,C=t+(l[1]-y-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(w*n,C*a,u,d)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(pc,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:s}=t;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const n=Ut.#d(t.getData("text")||"").replaceAll(pc,`
`);if(!n)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!n.includes(`
`)){l.insertNode(document.createTextNode(n)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const w=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(pc,"")),w!==this.editorDiv){let C=f;for(const v of this.editorDiv.childNodes){if(v===w){C=p;continue}C.push(Ut.#c(v))}}f.push(u.nodeValue.slice(0,d).replaceAll(pc,""))}else if(u===this.editorDiv){let w=f,C=0;for(const v of this.editorDiv.childNodes)C++===d&&(w=p),w.push(Ut.#c(v))}this.#e=`${f.join(`
`)}${n}${p.join(`
`)}`,this.#l();const m=new Range;let y=Math.sumPrecise(f.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const C=w.nodeValue.length;if(y<=C){m.setStart(w,y),m.setEnd(w,y);break}y-=C}a.removeAllRanges(),a.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Ut._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,s){let n=null;if(e instanceof pb){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:m,richText:y,contentsObj:w,creationDate:C,modificationDate:v},textContent:A,textPosition:E,parent:{page:{pageNumber:D}}}=e;if(!A||A.length===0)return null;n=e={annotationType:$e.FREETEXT,color:Array.from(u),fontSize:l,value:A.join(`
`),position:E,pageIndex:D-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:w?.str||null,richText:y,creationDate:C,modificationDate:v}}const a=await super.deserialize(e,t,s);return a.#s=e.fontSize,a.color=Ce.makeHexColor(...e.color),a.#e=Ut.#d(e.value),a._initialData=n,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Te._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:t,fontSize:this.#s,value:this.#h()});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!this.#f(s)?null:(s.id=this.annotationElementId,s)}#f(e){const{value:t,fontSize:s,color:n,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==s||e.color.some((l,u)=>l!==n[u])||e.pageIndex!==a}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:s}=t;s.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,s.color=this.color,t.replaceChildren();for(const n of this.#e.split(`
`)){const a=document.createElement("div");a.append(n?document.createTextNode(n):document.createElement("br")),t.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Se{static PRECISION=1e-4;toSVGPath(){at("Abstract method `toSVGPath` must be implemented.")}get box(){at("Abstract getter `box` must be implemented.")}serialize(e,t){at("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,n,a,l){l||=new Float32Array(e.length);for(let u=0,d=e.length;u<d;u+=2)l[u]=t+e[u]*n,l[u+1]=s+e[u+1]*a;return l}static _rescaleAndSwap(e,t,s,n,a,l){l||=new Float32Array(e.length);for(let u=0,d=e.length;u<d;u+=2)l[u]=t+e[u+1]*n,l[u+1]=s+e[u]*a;return l}static _translate(e,t,s,n){n||=new Float32Array(e.length);for(let a=0,l=e.length;a<l;a+=2)n[a]=t+e[a],n[a+1]=s+e[a+1];return n}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,n,a){switch(a){case 90:return[1-t/s,e/n];case 180:return[1-e/s,1-t/n];case 270:return[t/s,1-e/n];default:return[e/s,t/n]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,n,a,l){return[(e+5*s)/6,(t+5*n)/6,(5*s+a)/6,(5*n+l)/6,(s+a)/2,(n+l)/2]}}class Gr{#e;#t=[];#n;#s;#a=[];#r=new Float32Array(18);#i;#o;#c;#l;#h;#d;#f=[];static#g=8;static#p=2;static#u=Gr.#g+Gr.#p;constructor({x:e,y:t},s,n,a,l,u=0){this.#e=s,this.#d=a*n,this.#s=l,this.#r.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=u,this.#l=Gr.#g*n,this.#c=Gr.#u*n,this.#h=n,this.#f.push(e,t)}isEmpty(){return isNaN(this.#r[8])}#m(){const e=this.#r.subarray(4,6),t=this.#r.subarray(16,18),[s,n,a,l]=this.#e;return[(this.#i+(e[0]-t[0])/2-s)/a,(this.#o+(e[1]-t[1])/2-n)/l,(this.#i+(t[0]-e[0])/2-s)/a,(this.#o+(t[1]-e[1])/2-n)/l]}add({x:e,y:t}){this.#i=e,this.#o=t;const[s,n,a,l]=this.#e;let[u,d,f,p]=this.#r.subarray(8,12);const m=e-f,y=t-p,w=Math.hypot(m,y);if(w<this.#c)return!1;const C=w-this.#l,v=C/w,A=v*m,E=v*y;let D=u,O=d;u=f,d=p,f+=A,p+=E,this.#f?.push(e,t);const T=-E/C,k=A/C,j=T*this.#d,R=k*this.#d;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([f+j,p+R],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([f-j,p-R],16),isNaN(this.#r[6])?(this.#a.length===0&&(this.#r.set([u+j,d+R],2),this.#a.push(NaN,NaN,NaN,NaN,(u+j-s)/a,(d+R-n)/l),this.#r.set([u-j,d-R],14),this.#t.push(NaN,NaN,NaN,NaN,(u-j-s)/a,(d-R-n)/l)),this.#r.set([D,O,u,d,f,p],6),!this.isEmpty()):(this.#r.set([D,O,u,d,f,p],6),Math.abs(Math.atan2(O-d,D-u)-Math.atan2(E,A))<Math.PI/2?([u,d,f,p]=this.#r.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((u+f)/2-s)/a,((d+p)/2-n)/l),[u,d,D,O]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((D+u)/2-s)/a,((O+d)/2-n)/l),!0):([D,O,u,d,f,p]=this.#r.subarray(0,6),this.#a.push(((D+5*u)/6-s)/a,((O+5*d)/6-n)/l,((5*u+f)/6-s)/a,((5*d+p)/6-n)/l,((u+f)/2-s)/a,((d+p)/2-n)/l),[f,p,u,d,D,O]=this.#r.subarray(12,18),this.#t.push(((D+5*u)/6-s)/a,((O+5*d)/6-n)/l,((5*u+f)/6-s)/a,((5*d+p)/6-n)/l,((u+f)/2-s)/a,((d+p)/2-n)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#y();const s=[];s.push(`M${e[4]} ${e[5]}`);for(let n=6;n<e.length;n+=6)isNaN(e[n])?s.push(`L${e[n+4]} ${e[n+5]}`):s.push(`C${e[n]} ${e[n+1]} ${e[n+2]} ${e[n+3]} ${e[n+4]} ${e[n+5]}`);this.#x(s);for(let n=t.length-6;n>=6;n-=6)isNaN(t[n])?s.push(`L${t[n+4]} ${t[n+5]}`):s.push(`C${t[n]} ${t[n+1]} ${t[n+2]} ${t[n+3]} ${t[n+4]} ${t[n+5]}`);return this.#v(s),s.join(" ")}#y(){const[e,t,s,n]=this.#e,[a,l,u,d]=this.#m();return`M${(this.#r[2]-e)/s} ${(this.#r[3]-t)/n} L${(this.#r[4]-e)/s} ${(this.#r[5]-t)/n} L${a} ${l} L${u} ${d} L${(this.#r[16]-e)/s} ${(this.#r[17]-t)/n} L${(this.#r[14]-e)/s} ${(this.#r[15]-t)/n} Z`}#v(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#x(e){const[t,s,n,a]=this.#e,l=this.#r.subarray(4,6),u=this.#r.subarray(16,18),[d,f,p,m]=this.#m();e.push(`L${(l[0]-t)/n} ${(l[1]-s)/a} L${d} ${f} L${p} ${m} L${(u[0]-t)/n} ${(u[1]-s)/a}`)}newFreeDrawOutline(e,t,s,n,a,l){return new vb(e,t,s,n,a,l)}getOutlines(){const e=this.#a,t=this.#t,s=this.#r,[n,a,l,u]=this.#e,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,y=d.length-2;m<y;m+=2)d[m]=(this.#f[m]-n)/l,d[m+1]=(this.#f[m+1]-a)/u;if(d[d.length-2]=(this.#i-n)/l,d[d.length-1]=(this.#o-a)/u,isNaN(s[6])&&!this.isEmpty())return this.#N(d);const f=new Float32Array(this.#a.length+24+this.#t.length);let p=e.length;for(let m=0;m<p;m+=2){if(isNaN(e[m])){f[m]=f[m+1]=NaN;continue}f[m]=e[m],f[m+1]=e[m+1]}p=this.#b(f,p);for(let m=t.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(t[m+y])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=t[m+y],f[p+1]=t[m+y+1],p+=2}return this.#C(f,p),this.newFreeDrawOutline(f,d,this.#e,this.#h,this.#n,this.#s)}#N(e){const t=this.#r,[s,n,a,l]=this.#e,[u,d,f,p]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(t[2]-s)/a,(t[3]-n)/l,NaN,NaN,NaN,NaN,(t[4]-s)/a,(t[5]-n)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(t[16]-s)/a,(t[17]-n)/l,NaN,NaN,NaN,NaN,(t[14]-s)/a,(t[15]-n)/l],0),this.newFreeDrawOutline(m,e,this.#e,this.#h,this.#n,this.#s)}#C(e,t){const s=this.#t;return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6}#b(e,t){const s=this.#r.subarray(4,6),n=this.#r.subarray(16,18),[a,l,u,d]=this.#e,[f,p,m,y]=this.#m();return e.set([NaN,NaN,NaN,NaN,(s[0]-a)/u,(s[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(n[0]-a)/u,(n[1]-l)/d],t),t+=24}}class vb extends Se{#e;#t=new Float32Array(4);#n;#s;#a;#r;#i;constructor(e,t,s,n,a,l){super(),this.#i=e,this.#a=t,this.#e=s,this.#r=n,this.#n=a,this.#s=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,p]=this.#t;for(let m=0,y=e.length;m<y;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-d)/p;for(let m=0,y=t.length;m<y;m+=2)t[m]=(t[m]-u)/f,t[m+1]=(t[m+1]-d)/p}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let t=6,s=this.#i.length;t<s;t+=6){if(isNaN(this.#i[t])){e.push(`L${this.#i[t+4]} ${this.#i[t+5]}`);continue}e.push(`C${this.#i[t]} ${this.#i[t+1]} ${this.#i[t+2]} ${this.#i[t+3]} ${this.#i[t+4]} ${this.#i[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,s,n],a){const l=s-e,u=n-t;let d,f;switch(a){case 0:d=Se._rescale(this.#i,e,n,l,-u),f=Se._rescale(this.#a,e,n,l,-u);break;case 90:d=Se._rescaleAndSwap(this.#i,e,t,l,u),f=Se._rescaleAndSwap(this.#a,e,t,l,u);break;case 180:d=Se._rescale(this.#i,s,t,-l,u),f=Se._rescale(this.#a,s,t,-l,u);break;case 270:d=Se._rescaleAndSwap(this.#i,s,n,-l,-u),f=Se._rescaleAndSwap(this.#a,s,n,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(e){const t=this.#i;let s=t[4],n=t[5];const a=[s,n,s,n];let l=s,u=n,d=s,f=n;const p=e?Math.max:Math.min,m=new Float32Array(4);for(let w=6,C=t.length;w<C;w+=6){const v=t[w+4],A=t[w+5];isNaN(t[w])?(Ce.pointBoundingBox(v,A,a),u>A?(l=v,u=A):u===A&&(l=p(l,v)),f<A?(d=v,f=A):f===A&&(d=p(d,v))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,Ce.bezierBoundingBox(s,n,...t.slice(w,w+6),m),Ce.rectBoundingBox(m[0],m[1],m[2],m[3],a),u>m[1]?(l=m[0],u=m[1]):u===m[1]&&(l=p(l,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),s=v,n=A}const y=this.#t;y[0]=a[0]-this.#n,y[1]=a[1]-this.#n,y[2]=a[2]-a[0]+2*this.#n,y[3]=a[3]-a[1]+2*this.#n,this.firstPoint=[l,u],this.lastPoint=[d,f]}get box(){return this.#t}newOutliner(e,t,s,n,a,l=0){return new Gr(e,t,s,n,a,l)}getNewOutline(e,t){const[s,n,a,l]=this.#t,[u,d,f,p]=this.#e,m=a*f,y=l*p,w=s*f+u,C=n*p+d,v=this.newOutliner({x:this.#a[0]*m+w,y:this.#a[1]*y+C},this.#e,this.#r,e,this.#s,t??this.#n);for(let A=2;A<this.#a.length;A+=2)v.add({x:this.#a[A]*m+w,y:this.#a[A+1]*y+C});return v.getOutlines()}}class sf{#e;#t;#n;#s=[];#a=[];constructor(e,t=0,s=0,n=!0){const a=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:v,y:A,width:E,height:D}of e){const O=Math.floor((v-t)/l)*l,T=Math.ceil((v+E+t)/l)*l,k=Math.floor((A-t)/l)*l,j=Math.ceil((A+D+t)/l)*l,R=[O,k,j,!0],I=[T,k,j,!1];this.#s.push(R,I),Ce.rectBoundingBox(O,k,T,j,a)}const u=a[2]-a[0]+2*s,d=a[3]-a[1]+2*s,f=a[0]-s,p=a[1]-s;let m=n?-1/0:1/0,y=1/0;const w=this.#s.at(n?-1:-2),C=[w[0],w[2]];for(const v of this.#s){const[A,E,D,O]=v;!O&&n?E<y?(y=E,m=A):E===y&&(m=Math.max(m,A)):O&&!n&&(E<y?(y=E,m=A):E===y&&(m=Math.min(m,A))),v[0]=(A-f)/u,v[1]=(E-p)/d,v[2]=(D-p)/d}this.#e=new Float32Array([f,p,u,d]),this.#t=[m,y],this.#n=C}getOutlines(){this.#s.sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of this.#s)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#r(e)}#r(e){const t=[],s=new Set;for(const l of e){const[u,d,f]=l;t.push([u,d,l],[u,f,l])}t.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=t.length;l<u;l+=2){const d=t[l][2],f=t[l+1][2];d.push(f),f.push(d),s.add(d),s.add(f)}const n=[];let a;for(;s.size>0;){const l=s.values().next().value;let[u,d,f,p,m]=l;s.delete(l);let y=u,w=d;for(a=[u,f],n.push(a);;){let C;if(s.has(p))C=p;else if(s.has(m))C=m;else break;s.delete(C),[u,d,f,p,m]=C,y!==u&&(a.push(y,w,u,w===d?d:f),y=u),w=w===d?f:d}a.push(y,w)}return new TE(n,this.#e,this.#t,this.#n)}#i(e){const t=this.#a;let s=0,n=t.length-1;for(;s<=n;){const a=s+n>>1,l=t[a][0];if(l===e)return a;l<e?s=a+1:n=a-1}return n+1}#o([,e,t]){const s=this.#i(e);this.#a.splice(s,0,[e,t])}#c([,e,t]){const s=this.#i(e);for(let n=s;n<this.#a.length;n++){const[a,l]=this.#a[n];if(a!==e)break;if(a===e&&l===t){this.#a.splice(n,1);return}}for(let n=s-1;n>=0;n--){const[a,l]=this.#a[n];if(a!==e)break;if(a===e&&l===t){this.#a.splice(n,1);return}}}#l(e){const[t,s,n]=e,a=[[t,s,n]],l=this.#i(n);for(let u=0;u<l;u++){const[d,f]=this.#a[u];for(let p=0,m=a.length;p<m;p++){const[,y,w]=a[p];if(!(f<=y||w<=d)){if(y>=d){if(w>f)a[p][1]=f;else{if(m===1)return[];a.splice(p,1),p--,m--}continue}a[p][2]=d,w>f&&a.push([t,f,w])}}}return a}}class TE extends Se{#e;#t;constructor(e,t,s,n){super(),this.#t=e,this.#e=t,this.firstPoint=s,this.lastPoint=n}toSVGPath(){const e=[];for(const t of this.#t){let[s,n]=t;e.push(`M${s} ${n}`);for(let a=2;a<t.length;a+=2){const l=t[a],u=t[a+1];l===s?(e.push(`V${u}`),n=u):u===n&&(e.push(`H${l}`),s=l)}e.push("Z")}return e.join(" ")}serialize([e,t,s,n],a){const l=[],u=s-e,d=n-t;for(const f of this.#t){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=e+f[m]*u,p[m+1]=n-f[m+1]*d;l.push(p)}return l}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class nf extends Gr{newFreeDrawOutline(e,t,s,n,a,l){return new PE(e,t,s,n,a,l)}}class PE extends vb{newOutliner(e,t,s,n,a,l=0){return new nf(e,t,s,n,a,l)}}class jt extends Te{#e=null;#t=0;#n;#s=null;#a=null;#r=null;#i=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=$e.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=jt.prototype;return We(this,"_keyboardManager",new Fo([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||jt._defaultColor,this.#m=e.thickness||jt._defaultThickness,this.opacity=e.opacity||jt._defaultOpacity,this.#n=e.boxes||null,this.#y=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#x(e),this.#S()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#S(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new sf(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new sf(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=t.getOutlines();const{firstPoint:s}=this.#l;this.#f=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height];const{lastPoint:n}=this.#r;this.#g=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#x({highlightOutlines:e,highlightId:t,clipPathId:s}){this.#l=e;const n=1.5;if(this.#r=e.getNewOutline(this.#m/2+n,.0025),t>=0)this.#h=t,this.#s=s,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:jt.#A(this.#l.box,(m-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:jt.#A(this.#r.box,m),path:{d:this.#r.toSVGPath()}})}const[a,l,u,d]=e.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=u,this.height=d;break;case 90:{const[m,y]=this.parentDimensions;this.x=l,this.y=1-a,this.width=u*y/m,this.height=d*m/y;break}case 180:this.x=1-a,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-l,this.y=a,this.width=u*y/m,this.height=d*m/y;break}}const{firstPoint:f}=e;this.#f=[(f[0]-a)/u,(f[1]-l)/d];const{lastPoint:p}=this.#r;this.#g=[(p[0]-a)/u,(p[1]-l)/d]}static initialize(e,t){Te.initialize(e,t),jt._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Xe.HIGHLIGHT_COLOR:jt._defaultColor=t;break;case Xe.HIGHLIGHT_THICKNESS:jt._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case Xe.HIGHLIGHT_COLOR:this.#N(t);break;case Xe.HIGHLIGHT_THICKNESS:this.#C(t);break}}static get defaultPropertiesToUpdate(){return[[Xe.HIGHLIGHT_COLOR,jt._defaultColor],[Xe.HIGHLIGHT_THICKNESS,jt._defaultThickness]]}get propertiesToUpdate(){return[[Xe.HIGHLIGHT_COLOR,this.color||jt._defaultColor],[Xe.HIGHLIGHT_THICKNESS,this.#m||jt._defaultThickness],[Xe.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#N(e){const t=(a,l)=>{this.color=a,this.opacity=l,this.onUpdatedColor()},s=this.color,n=this.opacity;this.addCommands({cmd:t.bind(this,e,jt._defaultOpacity),undo:t.bind(this,s,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#C(e){const t=this.#m,s=n=>{this.#m=n,this.#b(n)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Ps({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#j())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#j())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#k(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#k():e&&(this.#S(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#b(e){this.#d&&(this.#x({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#k(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#s}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#s))}static#A([e,t,s,n],a){switch(a){case 90:return[1-t-n,e,n,s];case 180:return[1-e-s,1-t-n,s,n];case 270:return[t,1-e-s,n,s]}return[e,t,s,n]}rotate(e){const{drawLayer:t}=this.parent;let s;this.#d?(e=(e-this.rotation+360)%360,s=jt.#A(this.#l.box,e)):s=jt.#A([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:s,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:jt.#A(this.#r.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#s,this.setDims(this.width,this.height),Kv(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#T(e){jt._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#_(!0);break;case 1:case 3:this.#_(!1);break}}#_(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#i,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#_(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#j(){return this.#d?this.rotation:0}#I(){if(this.#d)return null;const[e,t]=this.pageDimensions,[s,n]=this.pageTranslation,a=this.#n,l=new Float32Array(a.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of a){const y=d*e+s,w=(1-f)*t+n;l[u]=l[u+4]=y,l[u+1]=l[u+3]=w,l[u+2]=l[u+6]=y+p*e,l[u+5]=l[u+7]=w-m*t,u+=8}return l}#R(e){return this.#l.serialize(e,this.#j())}static startHighlighting(e,t,{target:s,x:n,y:a}){const{x:l,y:u,width:d,height:f}=s.getBoundingClientRect(),p=new AbortController,m=e.combinedSignal(p),y=w=>{p.abort(),this.#F(e,w)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",wt,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ls,{signal:m}),s.addEventListener("pointermove",this.#M.bind(this,e),{signal:m}),this._freeHighlight=new nf({x:n,y:a},[l,u,d,f],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#M(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,s){let n=null;if(e instanceof gb){const{data:{quadPoints:C,rect:v,rotation:A,id:E,color:D,opacity:O,popupRef:T,richText:k,contentsObj:j,creationDate:R,modificationDate:I},parent:{page:{pageNumber:M}}}=e;n=e={annotationType:$e.HIGHLIGHT,color:Array.from(D),opacity:O,quadPoints:C,boxes:null,pageIndex:M-1,rect:v.slice(0),rotation:A,annotationElementId:E,id:E,deleted:!1,popupRef:T,richText:k,comment:j?.str||null,creationDate:R,modificationDate:I}}else if(e instanceof $f){const{data:{inkLists:C,rect:v,rotation:A,id:E,color:D,borderStyle:{rawWidth:O},popupRef:T,richText:k,contentsObj:j,creationDate:R,modificationDate:I},parent:{page:{pageNumber:M}}}=e;n=e={annotationType:$e.HIGHLIGHT,color:Array.from(D),thickness:O,inkLists:C,boxes:null,pageIndex:M-1,rect:v.slice(0),rotation:A,annotationElementId:E,id:E,deleted:!1,popupRef:T,richText:k,comment:j?.str||null,creationDate:R,modificationDate:I}}const{color:a,quadPoints:l,inkLists:u,opacity:d}=e,f=await super.deserialize(e,t,s);f.color=Ce.makeHexColor(...a),f.opacity=d||1,u&&(f.#m=e.thickness),f._initialData=n,e.comment&&f.setCommentData(e);const[p,m]=f.pageDimensions,[y,w]=f.pageTranslation;if(l){const C=f.#n=[];for(let v=0;v<l.length;v+=8)C.push({x:(l[v]-y)/p,y:1-(l[v+1]-w)/m,width:(l[v+2]-l[v])/p,height:(l[v+1]-l[v+5])/m});f.#v(),f.#S(),f.rotate(f.rotation)}else if(u){f.#d=!0;const C=u[0],v={x:C[0]-y,y:m-(C[1]-w)},A=new nf(v,[0,0,p,m],1,f.#m/2,!0,.001);for(let O=0,T=C.length;O<T;O+=2)v.x=C[O]-y,v.y=m-(C[O+1]-w),A.add(v);const{id:E,clipPathId:D}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);f.#x({highlightOutlines:A.getOutlines(),highlightId:E,clipPathId:D}),f.#S(),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=Te._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:t,opacity:this.opacity,thickness:this.#m,quadPoints:this.#I(),outlines:this.#R(s.rect)}),this.addComment(s),this.annotationElementId&&!this.#O(s)?null:(s.id=this.annotationElementId,s)}#O(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((s,n)=>s!==t[n])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class bb{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){at("Not implemented")}}class Me extends Te{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#s=null;static#a=null;static#r=NaN;static#i=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:t,drawingOptions:s}){this.#e=e,this._drawingOptions||=s,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#u(e.box)}#h(e,t){const{id:s}=t.drawLayer.draw(Me._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(e,t){const s=new Set(Object.keys(e));for(const[n,a]of Object.entries(t))s.has(n)?Object.assign(e[n],a):e[n]=a;return e}static getDefaultDrawingOptions(e){at("Not implemented")}static get typesMap(){at("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,t),this._currentParent&&(Me.#n.updateProperty(s,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[s,n]of this.typesMap)e.push([s,t[n]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[s,n]of this.constructor.typesMap)e.push([s,t[n]]);return e}_updateProperty(e,t,s){const n=this._drawingOptions,a=n[t],l=u=>{n.updateProperty(t,u);const d=this.#e.updateProperty(t,u);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,n.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,s),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#d()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#g([e,t,s,n]){const{parentDimensions:[a,l],rotation:u}=this;switch(u){case 90:return[t,1-e,s*(l/a),n*(a/l)];case 180:return[1-e,1-t,s,n];case 270:return[1-t,e,s*(l/a),n*(a/l)];default:return[e,t,s,n]}}#p(){const{x:e,y:t,width:s,height:n,parentDimensions:[a,l],rotation:u}=this;switch(u){case 90:return[1-t,e,s*(a/l),n*(l/a)];case 180:return[1-e,1-t,s,n];case 270:return[t,1-e,s*(a/l),n*(l/a)];default:return[e,t,s,n]}}#u(e){[this.x,this.y,this.width,this.height]=this.#g(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:e,y:t,width:s,height:n,rotation:a,parentRotation:l,parentDimensions:[u,d]}=this;switch((a*4+l)/90){case 1:return[1-t-n,e,n,s];case 2:return[1-e-s,1-t-n,s,n];case 3:return[t,1-e-s,n,s];case 4:return[e,t-s*(u/d),n*(d/u),s*(u/d)];case 5:return[1-t,e,s*(u/d),n*(d/u)];case 6:return[1-e-n*(d/u),1-t,n*(d/u),s*(u/d)];case 7:return[t-s*(u/d),1-e-n*(d/u),s*(u/d),n*(d/u)];case 8:return[e-s,t-n,s,n];case 9:return[1-t,e-s,n,s];case 10:return[1-e,1-t,s,n];case 11:return[t-n,1-e,n,s];case 12:return[e-n*(d/u),t,n*(d/u),s*(u/d)];case 13:return[1-t-s*(u/d),e-n*(d/u),s*(u/d),n*(d/u)];case 14:return[1-e,1-t-s*(u/d),n*(d/u),s*(u/d)];case 15:return[t,1-e,s*(u/d),n*(d/u)];default:return[e,t,s,n]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const s=super.render();s.classList.add("draw");const n=document.createElement("div");return s.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),s}static createDrawerInstance(e,t,s,n,a){at("Not implemented")}static startDrawing(e,t,s,n){const{target:a,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=n;if(Me.#i&&Me.#i!==f)return;const{viewport:{rotation:p}}=e,{width:m,height:y}=a.getBoundingClientRect(),w=Me.#s=new AbortController,C=e.combinedSignal(w);if(Me.#r||=d,Me.#i??=f,window.addEventListener("pointerup",v=>{Me.#r===v.pointerId?this._endDraw(v):Me.#o?.delete(v.pointerId)},{signal:C}),window.addEventListener("pointercancel",v=>{Me.#r===v.pointerId?this._currentParent.endDrawingSession():Me.#o?.delete(v.pointerId)},{signal:C}),window.addEventListener("pointerdown",v=>{Me.#i===v.pointerType&&((Me.#o||=new Set).add(v.pointerId),Me.#n.isCancellable()&&(Me.#n.removeLastElement(),Me.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:C}),window.addEventListener("contextmenu",Ls,{signal:C}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:C}),a.addEventListener("touchmove",v=>{v.timeStamp===Me.#c&&wt(v)},{signal:C}),e.toggleDrawing(),t._editorUndoBar?.hide(),Me.#n){e.drawLayer.updateProperties(this._currentDrawId,Me.#n.startNew(l,u,m,y,p));return}t.updateUIForDefaultProperties(this),Me.#n=this.createDrawerInstance(l,u,m,y,p),Me.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Me.#a.toSVGProperties(),Me.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Me.#c=-1,!Me.#n)return;const{offsetX:t,offsetY:s,pointerId:n}=e;if(Me.#r===n){if(Me.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Me.#n.add(t,s)),Me.#c=e.timeStamp,wt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Me.#n=null,Me.#a=null,Me.#i=null,Me.#c=NaN),Me.#s&&(Me.#s.abort(),Me.#s=null,Me.#r=NaN,Me.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Me.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=Me.#n,n=this._currentDrawId,a=s.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(n,s.setLastElement(a))},undo:()=>{t.drawLayer.updateProperties(n,s.removeLastElement())},mustExec:!1,type:Xe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Xe.DRAW_STEP),!Me.#n.isEmpty()){const{pageDimensions:[s,n],scale:a}=t,l=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Me.#n.getOutlines(s*a,n*a,a,this._INNER_MARGIN),drawingOptions:Me.#a,mustBeCommitted:!e});return this._cleanup(!0),l}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,s,n,a,l){at("Not implemented")}static async deserialize(e,t,s){const{rawDims:{pageWidth:n,pageHeight:a,pageX:l,pageY:u}}=t.viewport,d=this.deserializeDraw(l,u,n,a,this._INNER_MARGIN,e),f=await super.deserialize(e,t,s);return f.createDrawingOptions(e),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[t,s]=this.pageTranslation,[n,a]=this.pageDimensions;return this.#e.serialize([t,s,n,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class RE{#e=new Float64Array(6);#t;#n;#s;#a;#r;#i="";#o=0;#c=new zo;#l;#h;constructor(e,t,s,n,a,l){this.#l=s,this.#h=n,this.#s=a,this.#a=l,[e,t]=this.#d(e,t);const u=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t],this.#n=[{line:u,points:this.#r}],this.#e.set(u,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#d(e,t){return Se._normalizePoint(e,t,this.#l,this.#h,this.#s)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#r.length<=10}add(e,t){[e,t]=this.#d(e,t);const[s,n,a,l]=this.#e.subarray(2,6),u=e-a,d=t-l;return Math.hypot(this.#l*u,this.#h*d)<=2?null:(this.#r.push(e,t),isNaN(s)?(this.#e.set([a,l,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([s,n,a,l,e,t],0),this.#t.push(...Se.createBezierPoints(s,n,a,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,n,a){this.#l=s,this.#h=n,this.#s=a,[e,t]=this.#d(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t];const u=this.#n.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#n.push({line:l,points:this.#r}),this.#e.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#r=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#i="";for(let e=0,t=this.#n.length;e<t;e++){const{line:s,points:n}=this.#n[e];this.#t=s,this.#r=n,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=Se.svgRound(this.#t[4]),t=Se.svgRound(this.#t[5]);if(this.#r.length===2)return this.#i=`${this.#i} M ${e} ${t} Z`,this.#i;if(this.#r.length<=6){const n=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,n)} M ${e} ${t}`,this.#o=6}if(this.#r.length===4){const n=Se.svgRound(this.#t[10]),a=Se.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${n} ${a}`,this.#o=12,this.#i}const s=[];this.#o===0&&(s.push(`M ${e} ${t}`),this.#o=6);for(let n=this.#o,a=this.#t.length;n<a;n+=6){const[l,u,d,f,p,m]=this.#t.slice(n,n+6).map(Se.svgRound);s.push(`C${l} ${u} ${d} ${f} ${p} ${m}`)}return this.#i+=s.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,t,s,n){const a=this.#n.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#n,e,t,s,this.#s,this.#a,n),this.#e=null,this.#t=null,this.#n=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class zo extends Se{#e;#t=0;#n;#s;#a;#r;#i;#o;#c;build(e,t,s,n,a,l,u){this.#a=t,this.#r=s,this.#i=n,this.#o=a,this.#c=l,this.#n=u??0,this.#s=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#s.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#s.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#s){if(e.push(`M${Se.svgRound(t[4])} ${Se.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${Se.svgRound(t[10])} ${Se.svgRound(t[11])}`);continue}for(let s=6,n=t.length;s<n;s+=6){const[a,l,u,d,f,p]=t.subarray(s,s+6).map(Se.svgRound);e.push(`C${a} ${l} ${u} ${d} ${f} ${p}`)}}return e.join("")}serialize([e,t,s,n],a){const l=[],u=[],[d,f,p,m]=this.#h();let y,w,C,v,A,E,D,O,T;switch(this.#o){case 0:T=Se._rescale,y=e,w=t+n,C=s,v=-n,A=e+d*s,E=t+(1-f-m)*n,D=e+(d+p)*s,O=t+(1-f)*n;break;case 90:T=Se._rescaleAndSwap,y=e,w=t,C=s,v=n,A=e+f*s,E=t+d*n,D=e+(f+m)*s,O=t+(d+p)*n;break;case 180:T=Se._rescale,y=e+s,w=t,C=-s,v=n,A=e+(1-d-p)*s,E=t+f*n,D=e+(1-d)*s,O=t+(f+m)*n;break;case 270:T=Se._rescaleAndSwap,y=e+s,w=t+n,C=-s,v=-n,A=e+(1-f-m)*s,E=t+(1-d-p)*n,D=e+(1-f)*s,O=t+(1-d)*n;break}for(const{line:k,points:j}of this.#s)l.push(T(k,y,w,C,v,a?new Array(k.length):null)),u.push(T(j,y,w,C,v,a?new Array(j.length):null));return{lines:l,points:u,rect:[A,E,D,O]}}static deserialize(e,t,s,n,a,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let m,y,w,C,v;switch(d){case 0:v=Se._rescale,m=-e/s,y=t/n+1,w=1/s,C=-1/n;break;case 90:v=Se._rescaleAndSwap,m=-t/n,y=-e/s,w=1/n,C=1/s;break;case 180:v=Se._rescale,m=e/s+1,y=-t/n,w=-1/s,C=1/n;break;case 270:v=Se._rescaleAndSwap,m=t/n+1,y=e/s+1,w=-1/n,C=-1/s;break}if(!l){l=[];for(const E of u){const D=E.length;if(D===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(D===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const O=new Float32Array(3*(D-2));l.push(O);let[T,k,j,R]=E.subarray(0,4);O.set([NaN,NaN,NaN,NaN,T,k],0);for(let I=4;I<D;I+=2){const M=E[I],L=E[I+1];O.set(Se.createBezierPoints(T,k,j,R,M,L),(I-2)*3),[T,k,j,R]=[j,R,M,L]}}}for(let E=0,D=l.length;E<D;E++)p.push({line:v(l[E].map(O=>O??NaN),m,y,w,C),points:v(u[E].map(O=>O??NaN),m,y,w,C)});const A=new this.prototype.constructor;return A.build(p,s,n,1,d,f,a),A}#l(e=this.#c){const t=this.#n+e/2*this.#i;return this.#o%180===0?[t/this.#a,t/this.#r]:[t/this.#r,t/this.#a]}#h(){const[e,t,s,n]=this.#e,[a,l]=this.#l(0);return[e+a,t+l,s-2*a,n-2*l]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:n}of this.#s){if(n.length<=12){for(let u=4,d=n.length;u<d;u+=6)Ce.pointBoundingBox(n[u],n[u+1],e);continue}let a=n[4],l=n[5];for(let u=6,d=n.length;u<d;u+=6){const[f,p,m,y,w,C]=n.subarray(u,u+6);Ce.bezierBoundingBox(a,l,f,p,m,y,w,C,e),a=w,l=C}}const[t,s]=this.#l();e[0]=ss(e[0]-t,0,1),e[1]=ss(e[1]-s,0,1),e[2]=ss(e[2]+t,0,1),e[3]=ss(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,s]=this.#l();this.#c=e;const[n,a]=this.#l(),[l,u]=[n-t,a-s],d=this.#e;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([e,t],s){const[n,a]=this.#l();this.#a=e,this.#r=t,this.#i=s;const[l,u]=this.#l(),d=l-n,f=u-a,p=this.#e;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Se.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let s=0,n=0,a=0,l=0,u=0,d=0;switch(this.#t){case 90:n=t/e,a=-e/t,u=e;break;case 180:s=-1,l=-1,u=e,d=t;break;case 270:n=-t/e,a=e/t,d=t;break;default:return""}return`matrix(${s} ${n} ${a} ${l} ${Se.svgRound(u)} ${Se.svgRound(d)})`}getPathResizingSVGProperties([e,t,s,n]){const[a,l]=this.#l(),[u,d,f,p]=this.#e;if(Math.abs(f-a)<=Se.PRECISION||Math.abs(p-l)<=Se.PRECISION){const v=e+s/2-(u+f/2),A=t+n/2-(d+p/2);return{path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(t)}`,transform:`${this.rotationTransform} translate(${v} ${A})`}}}const m=(s-2*a)/(f-2*a),y=(n-2*l)/(p-2*l),w=f/s,C=p/n;return{path:{"transform-origin":`${Se.svgRound(u)} ${Se.svgRound(d)}`,transform:`${this.rotationTransform} scale(${w} ${C}) translate(${Se.svgRound(a)} ${Se.svgRound(l)}) scale(${m} ${y}) translate(${Se.svgRound(-a)} ${Se.svgRound(-l)})`}}}getPathResizedSVGProperties([e,t,s,n]){const[a,l]=this.#l(),u=this.#e,[d,f,p,m]=u;if(u[0]=e,u[1]=t,u[2]=s,u[3]=n,Math.abs(p-a)<=Se.PRECISION||Math.abs(m-l)<=Se.PRECISION){const A=e+s/2-(d+p/2),E=t+n/2-(f+m/2);for(const{line:D,points:O}of this.#s)Se._translate(D,A,E,D),Se._translate(O,A,E,O);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(s-2*a)/(p-2*a),w=(n-2*l)/(m-2*l),C=-y*(d+a)+e+a,v=-w*(f+l)+t+l;if(y!==1||w!==1||C!==0||v!==0)for(const{line:A,points:E}of this.#s)Se._rescale(A,C,v,y,w,A),Se._rescale(E,C,v,y,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],s){const[n,a]=s,l=this.#e,u=e-l[0],d=t-l[1];if(this.#a===n&&this.#r===a)for(const{line:f,points:p}of this.#s)Se._translate(f,u,d,f),Se._translate(p,u,d,p);else{const f=this.#a/n,p=this.#r/a;this.#a=n,this.#r=a;for(const{line:m,points:y}of this.#s)Se._rescale(m,u,d,f,p,m),Se._rescale(y,u,d,f,p,y);l[2]*=f,l[3]*=p}return l[0]=e,l[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Se.svgRound(e[0])} ${Se.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class ou extends bb{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Te._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new ou(this._viewParameters);return e.updateAll(this),e}}class Vf extends Me{static _type="ink";static _editorType=$e.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Te.initialize(e,t),this._defaultDrawingOptions=new ou(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return We(this,"typesMap",new Map([[Xe.INK_THICKNESS,"stroke-width"],[Xe.INK_COLOR,"stroke"],[Xe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,s,n,a){return new RE(e,t,s,n,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,s,n,a,l){return zo.deserialize(e,t,s,n,a,l)}static async deserialize(e,t,s){let n=null;if(e instanceof $f){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:w,richText:C,contentsObj:v,creationDate:A,modificationDate:E},parent:{page:{pageNumber:D}}}=e;n=e={annotationType:$e.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:l},boxes:null,pageIndex:D-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:w,richText:C,comment:v?.str||null,creationDate:A,modificationDate:E}}const a=await super.deserialize(e,t,s);return a._initialData=n,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||=new Co(this),[["colorPicker",this._colorPicker]]}get colorType(){return Xe.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:s}=this;t.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:s}){this._drawingOptions=Vf.getDefaultDrawingOptions({stroke:Ce.makeHexColor(...e),"stroke-width":t,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:n,"stroke-opacity":a,"stroke-width":l}}=this,u=Object.assign(super.serialize(e),{color:Te._colorManager.convert(n),opacity:a,thickness:l,paths:{lines:t,points:s}});return this.addComment(u),e?(u.isCopy=!0,u):this.annotationElementId&&!this.#e(u)?null:(u.id=this.annotationElementId,u)}#e(e){const{color:t,thickness:s,opacity:n,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((l,u)=>l!==t[u])||e.thickness!==s||e.opacity!==n||e.pageIndex!==a}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class rf extends zo{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const mc=8,so=3;class Vr{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,s,n){return s-=e,n-=t,s===0?n>0?0:4:s===1?n+6:2-n}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#s(e,t,s,n,a,l,u){const d=this.#t(s,n,a,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,m=this.#n[2*p],y=this.#n[2*p+1];if(e[(s+m)*t+(n+y)]!==0)return p}return-1}static#a(e,t,s,n,a,l,u){const d=this.#t(s,n,a,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,m=this.#n[2*p],y=this.#n[2*p+1];if(e[(s+m)*t+(n+y)]!==0)return p}return-1}static#r(e,t,s,n){const a=e.length,l=new Int32Array(a);for(let p=0;p<a;p++)l[p]=e[p]<=n?1:0;for(let p=1;p<s-1;p++)l[p*t]=l[p*t+t-1]=0;for(let p=0;p<t;p++)l[p]=l[t*s-1-p]=0;let u=1,d;const f=[];for(let p=1;p<s-1;p++){d=1;for(let m=1;m<t-1;m++){const y=p*t+m,w=l[y];if(w===0)continue;let C=p,v=m;if(w===1&&l[y-1]===0)u+=1,v-=1;else if(w>=1&&l[y+1]===0)u+=1,v+=1,w>1&&(d=w);else{w!==1&&(d=Math.abs(w));continue}const A=[m,p],E=v===m+1,D={isHole:E,points:A,id:u,parent:0};f.push(D);let O;for(const V of f)if(V.id===d){O=V;break}O?O.isHole?D.parent=E?O.parent:d:D.parent=E?d:O.parent:D.parent=E?d:0;const T=this.#s(l,t,p,m,C,v,0);if(T===-1){l[y]=-u,l[y]!==1&&(d=Math.abs(l[y]));continue}let k=this.#n[2*T],j=this.#n[2*T+1];const R=p+k,I=m+j;C=R,v=I;let M=p,L=m;for(;;){const V=this.#a(l,t,M,L,C,v,1);k=this.#n[2*V],j=this.#n[2*V+1];const X=M+k,U=L+j;A.push(U,X);const K=M*t+L;if(l[K+1]===0?l[K]=-u:l[K]===1&&(l[K]=u),X===p&&U===m&&M===R&&L===I){l[y]!==1&&(d=Math.abs(l[y]));break}else C=M,v=L,M=X,L=U}}}return f}static#i(e,t,s,n){if(s-t<=4){for(let R=t;R<s-2;R+=2)n.push(e[R],e[R+1]);return}const a=e[t],l=e[t+1],u=e[s-4]-a,d=e[s-3]-l,f=Math.hypot(u,d),p=u/f,m=d/f,y=p*l-m*a,w=d/u,C=1/f,v=Math.atan(w),A=Math.cos(v),E=Math.sin(v),D=C*(Math.abs(A)+Math.abs(E)),O=C*(1-D+D**2),T=Math.max(Math.atan(Math.abs(E+A)*O),Math.atan(Math.abs(E-A)*O));let k=0,j=t;for(let R=t+2;R<s-2;R+=2){const I=Math.abs(y-p*e[R+1]+m*e[R]);I>k&&(j=R,k=I)}k>(f*T)**2?(this.#i(e,t,j+2,n),this.#i(e,j,s,n)):n.push(a,l)}static#o(e){const t=[],s=e.length;return this.#i(e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t}static#c(e,t,s,n,a,l){const u=new Float32Array(l**2),d=-2*n**2,f=l>>1;for(let v=0;v<l;v++){const A=(v-f)**2;for(let E=0;E<l;E++)u[v*l+E]=Math.exp((A+(E-f)**2)/d)}const p=new Float32Array(256),m=-2*a**2;for(let v=0;v<256;v++)p[v]=Math.exp(v**2/m);const y=e.length,w=new Uint8Array(y),C=new Uint32Array(256);for(let v=0;v<s;v++)for(let A=0;A<t;A++){const E=v*t+A,D=e[E];let O=0,T=0;for(let j=0;j<l;j++){const R=v+j-f;if(!(R<0||R>=s))for(let I=0;I<l;I++){const M=A+I-f;if(M<0||M>=t)continue;const L=e[R*t+M],V=u[j*l+I]*p[Math.abs(L-D)];O+=L*V,T+=V}}const k=w[E]=Math.round(O/T);C[k]++}return[w,C]}static#l(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t}static#h(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let n=-1/0,a=1/0;for(let u=0,d=s.length;u<d;u++){const f=s[u]=e[u<<2];n=Math.max(n,f),a=Math.min(a,f)}const l=255/(n-a);for(let u=0,d=s.length;u<d;u++)s[u]=(s[u]-a)*l;return s}static#d(e){let t,s=-1/0,n=-1/0;const a=e.findIndex(d=>d!==0);let l=a,u=a;for(t=a;t<256;t++){const d=e[t];d>s&&(t-l>n&&(n=t-l,u=t-1),s=d,l=t)}for(t=u-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:s,height:n}=e,{maxDim:a}=this.#e;let l=s,u=n;if(s>a||n>a){let y=s,w=n,C=Math.log2(Math.max(s,n)/a);const v=Math.floor(C);C=C===v?v-1:v;for(let E=0;E<C;E++){l=Math.ceil(y/2),u=Math.ceil(w/2);const D=new OffscreenCanvas(l,u);D.getContext("2d").drawImage(e,0,0,y,w,0,0,l,u),y=l,w=u,e!==t&&e.close(),e=D.transferToImageBitmap()}const A=Math.min(a/l,a/u);l=Math.round(l*A),u=Math.round(u*A)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#h(p),l,u]}static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:n},a,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,y=p.font=`${s} ${n} ${m}px ${t}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:C,actualBoundingBoxAscent:v,actualBoundingBoxDescent:A,fontBoundingBoxAscent:E,fontBoundingBoxDescent:D,width:O}=p.measureText(e),T=1.5,k=Math.ceil(Math.max(Math.abs(w)+Math.abs(C)||0,O)*T),j=Math.ceil(Math.max(Math.abs(v)+Math.abs(A)||m,Math.abs(E)+Math.abs(D)||m)*T);f=new OffscreenCanvas(k,j),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,k,j),p.fillStyle="black",p.fillText(e,k*(T-1)/2,j*(3-T)/2);const R=this.#h(p.getImageData(0,0,k,j).data),I=this.#l(R),M=this.#d(I),L=this.#r(R,k,j,M);return this.processDrawnLines({lines:{curves:L,width:k,height:j},pageWidth:a,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,s,n,a){const[l,u,d]=this.#f(e),[f,p]=this.#c(l,u,d,Math.hypot(u,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),m=this.#d(p),y=this.#r(f,u,d,m);return this.processDrawnLines({lines:{curves:y,width:u,height:d},pageWidth:t,pageHeight:s,rotation:n,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:n,innerMargin:a,mustSmooth:l,areContours:u}){n%180!==0&&([t,s]=[s,t]);const{curves:d,width:f,height:p}=e,m=e.thickness??0,y=[],w=Math.min(t/f,s/p),C=w/t,v=w/s,A=[];for(const{points:D}of d){const O=l?this.#o(D):D;if(!O)continue;A.push(O);const T=O.length,k=new Float32Array(T),j=new Float32Array(3*(T===2?2:T-2));if(y.push({line:j,points:k}),T===2){k[0]=O[0]*C,k[1]=O[1]*v,j.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[R,I,M,L]=O;R*=C,I*=v,M*=C,L*=v,k.set([R,I,M,L],0),j.set([NaN,NaN,NaN,NaN,R,I],0);for(let V=4;V<T;V+=2){const X=k[V]=O[V]*C,U=k[V+1]=O[V+1]*v;j.set(Se.createBezierPoints(R,I,M,L,X,U),(V-2)*3),[R,I,M,L]=[M,L,X,U]}}if(y.length===0)return null;const E=u?new rf:new zo;return E.build(y,t,s,1,n,u?0:m,a),{outline:E,newCurves:A,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:n,height:a}){let l=1/0,u=-1/0,d=0;for(const O of e){d+=O.length;for(let T=2,k=O.length;T<k;T++){const j=O[T]-O[T-2];l=Math.min(l,j),u=Math.max(u,j)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=e.length,m=mc+so*p,y=new Uint32Array(m);let w=0;y[w++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,y[w++]=0,y[w++]=n,y[w++]=a,y[w++]=t?0:1,y[w++]=Math.max(0,Math.floor(s??0)),y[w++]=p,y[w++]=f.BYTES_PER_ELEMENT;for(const O of e)y[w++]=O.length-2,y[w++]=O[0],y[w++]=O[1];const C=new CompressionStream("deflate-raw"),v=C.writable.getWriter();await v.ready,v.write(y);const A=f.prototype.constructor;for(const O of e){const T=new A(O.length-2);for(let k=2,j=O.length;k<j;k++)T[k-2]=O[k]-O[k-2];v.write(T)}v.close();const E=await new Response(C.readable).arrayBuffer(),D=new Uint8Array(E);return zv(D)}static async decompressSignature(e){try{const t=nN(e),{readable:s,writable:n}=new DecompressionStream("deflate-raw"),a=n.getWriter();await a.ready,a.write(t).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let l=null,u=0;for await(const O of s)l||=new Uint8Array(new Uint32Array(O.buffer,0,4)[0]),l.set(O,u),u+=O.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],y=d[4]===0,w=d[5],C=d[6],v=d[7],A=[],E=(mc+so*C)*Uint32Array.BYTES_PER_ELEMENT;let D;switch(v){case Int8Array.BYTES_PER_ELEMENT:D=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:D=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:D=new Int32Array(l.buffer,E);break}u=0;for(let O=0;O<C;O++){const T=d[so*O+mc],k=new Float32Array(T+2);A.push(k);for(let j=0;j<so-1;j++)k[j]=d[so*O+mc+j+1];for(let j=0;j<T;j++)k[j+2]=k[j]+D[u++]}return{areContours:y,thickness:w,outlines:A,width:p,height:m}}catch(t){return He(`decompressSignature: ${t}`),null}}}class Wf extends bb{constructor(){super(),super.updateProperties({fill:Te._defaultLineColor,"stroke-width":0})}clone(){const e=new Wf;return e.updateAll(this),e}}class qf extends ou{constructor(e){super(e),super.updateProperties({stroke:Te._defaultLineColor,"stroke-width":1})}clone(){const e=new qf(this._viewParameters);return e.updateAll(this),e}}class yn extends Me{#e=!1;#t=null;#n=null;#s=null;static _type="signature";static _editorType=$e.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Te.initialize(e,t),this._defaultDrawingOptions=new Wf,this._defaultDrawnSignatureOptions=new qf(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return We(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:n,mustSmooth:a,areContours:l,description:u,uuid:d,heightInPage:f}=this.#n,{rawDims:{pageWidth:p,pageHeight:m},rotation:y}=this.parent.viewport,w=Vr.processDrawnLines({lines:n,pageWidth:p,pageHeight:m,rotation:y,innerMargin:yn._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(w,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#s=e,this.addEditToolbar()}getUuid(){return this.#s}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:s,width:n,height:a}=this.#n,l=Math.max(n,a),u=Vr.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:s,width:n,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,s,n){const{x:a,y:l}=this,{outline:u}=this.#n=e;this.#e=u instanceof rf,this.description=s;let d;this.#e?d=yn.getDefaultDrawingOptions():(d=yn._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=t/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(n),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!n,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:n}=this.parent.viewport;return Vr.process(e,t,s,n,yn._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:s,pageHeight:n},rotation:a}=this.parent.viewport;return Vr.extractContoursFromText(e,t,s,n,a,yn._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:n}=this.parent.viewport;return Vr.processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:n,innerMargin:yn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=yn.getDefaultDrawingOptions():(this._drawingOptions=yn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":n}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:n});return this.addComment(a),e?(a.paths={lines:t,points:s},a.uuid=this.#s,a.isCopy=!0):a.lines=t,this.#t&&(a.accessibilityData={type:"Figure",alt:this.#t}),a}static deserializeDraw(e,t,s,n,a,l){return l.areContours?rf.deserialize(e,t,s,n,a,l):zo.deserialize(e,t,s,n,a,l)}static async deserialize(e,t,s){const n=await super.deserialize(e,t,s);return n.#e=e.areContours,n.description=e.accessibilityData?.alt||"",n.#s=e.uuid,n}}class LE extends Te{#e=null;#t=null;#n=null;#s=null;#a=null;#r="";#i=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=$e.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#s=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Te.initialize(e,t)}static isHandlingMimeForPasting(e){return Oc.includes(e)}static paste(e,t){t.pasteEditor({mode:$e.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#r=e.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:n,width:a,height:l}=e||this.copyCanvas(null,null,!0).imageData,u=await s.guess({name:"altText",request:{data:n,width:a,height:l,channels:n.length/(a*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),t&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(s=>this.#d(s,!0)).finally(()=>this.#f());return}if(this.#s){const s=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(n=>this.#d(n)).finally(()=>this.#f());return}if(this.#a){const s=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(n=>this.#d(n)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=Oc.join(",");const t=this._uiManager._signal;this.#n=new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const n=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(n)}s()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#s||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:s,bitmap:n}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#t=s,n&&(this.#e=n),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#p(){const{div:e}=this;let{width:t,height:s}=this.#e;const[n,a]=this.pageDimensions,l=.75;if(this.width)t=this.width*n,s=this.height*a;else if(t>l*n||s>l*a){const d=Math.min(l*n/t,l*a/s);t*=d,s*=d}this._uiManager.enableWaiting(!1);const u=this.#i=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=t/n,this.height=s/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,s=!1){e||(e=224);const{width:n,height:a}=this.#e,l=new sn;let u=this.#e,d=n,f=a,p=null;if(t){if(n>t||a>t){const j=Math.min(t/n,t/a);d=Math.floor(n*j),f=Math.floor(a*j)}p=document.createElement("canvas");const y=p.width=Math.ceil(d*l.sx),w=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(y,w));const C=p.getContext("2d");C.filter=this._uiManager.hcmFilter;let v="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":aN.isDarkMode&&(v="#8f8f9d",A="#42414d");const E=15,D=E*l.sx,O=E*l.sy,T=new OffscreenCanvas(D*2,O*2),k=T.getContext("2d");k.fillStyle=v,k.fillRect(0,0,D*2,O*2),k.fillStyle=A,k.fillRect(0,0,D,O),k.fillRect(D,O,D,O),C.fillStyle=C.createPattern(T,"repeat"),C.fillRect(0,0,y,w),C.drawImage(u,0,0,u.width,u.height,0,0,y,w)}let m=null;if(s){let y,w;if(l.symmetric&&u.width<e&&u.height<e)y=u.width,w=u.height;else if(u=this.#e,n>e||a>e){const A=Math.min(e/n,e/a);y=Math.floor(n*A),w=Math.floor(a*A),this.#l||(u=this.#u(y,w))}const v=new OffscreenCanvas(y,w).getContext("2d",{willReadFrequently:!0});v.drawImage(u,0,0,u.width,u.height,0,0,y,w),m={width:y,height:w,data:v.getImageData(0,0,y,w).data}}return{canvas:p,width:d,height:f,imageData:m}}#u(e,t){const{width:s,height:n}=this.#e;let a=s,l=n,u=this.#e;for(;a>2*e||l>2*t;){const d=a,f=l;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(a,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,a,l),u=p.transferToImageBitmap()}return u}#m(){const[e,t]=this.parentDimensions,{width:s,height:n}=this,a=new sn,l=Math.ceil(s*e*a.sx),u=Math.ceil(n*t*a.sy),d=this.#i;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#e:this.#u(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#y(e){if(e){if(this.#l){const n=this._uiManager.imageManager.getSvgUrl(this.#t);if(n)return n}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,s]=this.pageDimensions,n=Math.round(this.width*t*Zr.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*Zr.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(n,a);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,n,a),l.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,s){let n=null,a=!1;if(e instanceof yb){const{data:{rect:v,rotation:A,id:E,structParent:D,popupRef:O,richText:T,contentsObj:k,creationDate:j,modificationDate:R},container:I,parent:{page:{pageNumber:M}},canvas:L}=e;let V,X;L?(delete e.canvas,{id:V,bitmap:X}=s.imageManager.getFromCanvas(I.id,L),L.remove()):(a=!0,e._hasNoCanvas=!0);const U=(await t._structTree.getAriaAttributes(`${jf}${E}`))?.get("aria-label")||"";n=e={annotationType:$e.STAMP,bitmapId:V,bitmap:X,pageIndex:M-1,rect:v.slice(0),rotation:A,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:D,popupRef:O,richText:T,comment:k?.str||null,creationDate:j,modificationDate:R}}const l=await super.deserialize(e,t,s),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:y}=e;a?(s.addMissingCanvas(e.id,l),l.#o=!0):p&&s.imageManager.isValidId(p)?(l.#t=p,d&&(l.#e=d)):l.#s=f,l.#l=m;const[w,C]=l.pageDimensions;return l.width=(u[2]-u[0])/w,l.height=(u[3]-u[1])/C,y&&(l.altTextData=y),l._initialData=n,e.comment&&l.setCommentData(e),l.#h=!!n,l}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(s),e)return s.bitmapUrl=this.#y(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:n,altText:a}=this.serializeAltText(!1);if(!n&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const u=this.#v(s);return u.isSame?null:(u.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(t===null)return s;t.stamps||=new Map;const l=this.#l?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:l,serialized:s}),s.bitmap=this.#y(!1);else if(this.#l){const u=t.stamps.get(this.#t);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return s}#v(e){const{pageIndex:t,accessibilityData:{altText:s}}=this._initialData,n=e.pageIndex===t,a=(e.accessibilityData?.alt||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&n&&a,isSameAltText:a}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class vn{#e;#t=!1;#n=null;#s=null;#a=null;#r=new Map;#i=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([Ut,Vf,LE,jt,yn].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:n,accessibilityManager:a,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const m=[...vn.#m.values()];if(!vn._initialized){vn._initialized=!0;for(const y of m)y.initialize(p,e)}e.registerEditorTypes(m),this.#u=e,this.pageIndex=t,this.div=s,this.#e=a,this.#n=l,this.viewport=f,this.#d=d,this.drawLayer=u,this._structTree=n,this.#u.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===$e.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#b(),e){case $e.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case $e.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case $e.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===$e.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const s of vn.#m.values())t.toggle(`${s._type}Editing`,e===s._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}get#y(){return this.#r.size!==0?this.#r.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const s of this.#y)s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#u.removeChangedExistingAnnotation(s),e.add(s.annotationElementId));const t=this.#n;if(t)for(const s of t.getEditableAnnotations()){if(s.hide(),this.#u.isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const n=await this.deserialize(s);n&&(this.addOrRebuild(n),n.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const s=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",n=>{const{clientX:l,clientY:u,timeStamp:d}=n,f=this.#p;if(d-f>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,u);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const w=new RegExp(`^${xo}[0-9]+$`);for(const v of m)if(w.test(v.id)){y=v.id;break}if(!y)return;const C=this.#r.get(y);C?.annotationElementId===null&&(n.stopPropagation(),n.preventDefault(),C.dblclick(n))},{signal:s,capture:!0})}const e=this.#n;if(e){const s=new Map,n=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(e);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else n.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const a=e.getEditableAnnotations();for(const l of a){const{id:u}=l.data;if(this.#u.isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=n.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const s of vn.#m.values())t.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#v.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#v(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:s}=$t.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),jt.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#s)return;this.#s=new AbortController;const e=this.#u.combinedSignal(this.#s);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#s?.abort(),this.#s=null}attach(e){this.#r.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),Te.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getEditorByUID(e){for(const t of this.#r.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#x(){return vn.#m.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#N(e){const t=this.#x;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#x?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:s,offsetY:n}=this.#C(),a=this.getNextId(),l=this.#N({parent:this,id:a,x:s,y:n,uiManager:this.#u,isCentered:!0,...t});l&&this.add(l)}async deserialize(e){return await vn.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,s={}){const n=this.getNextId(),a=this.#N({parent:this,id:n,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...s});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#C(){const{x:e,y:t,width:s,height:n}=this.boundingClientRect,a=Math.max(0,e),l=Math.max(0,t),u=Math.min(window.innerWidth,e+s),d=Math.min(window.innerHeight,t+n),f=(a+u)/2-e,p=(l+d)/2-t,[m,y]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:y}}addNewEditor(e={}){this.createAndAddNewEditor(this.#C(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=$t.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#i||(this.#i=!1,this.#x?.isDrawer&&this.#x.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const s=this.#u.getMode();if(s===$e.STAMP||s===$e.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===$e.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:t}=$t.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#i=!0,this.#x?.isDrawer){this.startDrawingSession(e);return}const s=this.#u.getActive();this.#t=!s||s.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#x.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#x.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#x.endDrawing(e)):null}findNewParent(e,t,s){const n=this.#u.findParent(t,s);return n===null||n===this?!1:(n.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#x.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#u.removeLayer(this)}#b(){for(const e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,br(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#b();const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,br(this.div,{rotation:s}),t!==s)for(const n of this.#r.values())n.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class zt{#e=null;#t=new Map;#n=new Map;static#s=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return We(this,"_svgFactory",new Ao)}static#a(e,[t,s,n,a]){const{style:l}=e;l.top=`${100*s}%`,l.left=`${100*t}%`,l.width=`${100*n}%`,l.height=`${100*a}%`}#r(){const e=zt._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,t){const s=zt._svgFactory.createElement("clipPath");e.append(s);const n=`clip_${t}`;s.setAttribute("id",n),s.setAttribute("clipPathUnits","objectBoundingBox");const a=zt._svgFactory.createElement("use");return s.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),n}#o(e,t){for(const[s,n]of Object.entries(t))n===null?e.removeAttribute(s):e.setAttribute(s,n)}draw(e,t=!1,s=!1){const n=zt.#s++,a=this.#r(),l=zt._svgFactory.createElement("defs");a.append(l);const u=zt._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${n}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(n,u);const f=s?this.#i(l,d):null,p=zt._svgFactory.createElement("use");return a.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(a,e),this.#t.set(n,a),{id:n,clipPathId:`url(#${f})`}}drawOutline(e,t){const s=zt.#s++,n=this.#r(),a=zt._svgFactory.createElement("defs");n.append(a);const l=zt._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const m=zt._svgFactory.createElement("mask");a.append(m),d=`mask_p${this.pageIndex}_${s}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const y=zt._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const w=zt._svgFactory.createElement("use");m.append(w),w.setAttribute("href",`#${u}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const f=zt._svgFactory.createElement("use");n.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return n.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(n,e),this.#t.set(s,n),s}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:s,bbox:n,rootClass:a,path:l}=t,u=typeof e=="number"?this.#t.get(e):e;if(u){if(s&&this.#o(u,s),n&&zt.#a(u,n),a){const{classList:d}=u;for(const[f,p]of Object.entries(a))d.toggle(f,p)}if(l){const f=u.firstChild.firstChild;this.#o(f,l)}}}updateParent(e,t){if(t===this)return;const s=this.#t.get(e);s&&(t.#e.append(s),this.#t.delete(e),t.#t.set(e,s))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:sf};globalThis.pdfjsLib={AbortException:Un,AnnotationEditorLayer:vn,AnnotationEditorParamsType:Xe,AnnotationEditorType:$e,AnnotationEditorUIManager:zn,AnnotationLayer:Hf,AnnotationMode:bn,AnnotationType:_t,applyOpacity:qv,build:hb,ColorPicker:Ps,createValidAbsoluteUrl:Ef,CSSConstants:Wv,DOMSVGFactory:Ao,DrawLayer:zt,FeatureTest:$t,fetchData:na,findContrastColor:Gv,getDocument:Ff,getFilenameFromUrl:$v,getPdfFilenameFromUrl:Hv,getRGB:ra,getUuid:_f,getXfaPageViewport:Vv,GlobalWorkerOptions:Sn,ImageKind:uo,InvalidPDFException:Lc,isDataScheme:Io,isPdfFile:iu,isValidExplicitDest:Qv,MathClamp:ss,noContextMenu:Ls,normalizeUnicode:Uv,OPS:qi,OutputScale:sn,PasswordResponses:Fv,PDFDataRangeTransport:Uf,PDFDateString:Mc,PDFWorker:Gi,PermissionFlag:Iv,PixelsPerInch:Zr,RenderingCancelledException:ru,renderRichText:Pf,ResponseException:vo,setLayerDimensions:br,shadow:We,SignatureExtractor:Vr,stopEvent:wt,SupportedImageMimeTypes:Oc,TextLayer:wo,TouchManager:Bo,updateUrlHash:kf,Util:Ce,VerbosityLevel:Mo,version:So,XfaLayer:Tf};const ME=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Un,AnnotationEditorLayer:vn,AnnotationEditorParamsType:Xe,AnnotationEditorType:$e,AnnotationEditorUIManager:zn,AnnotationLayer:Hf,AnnotationMode:bn,AnnotationType:_t,CSSConstants:Wv,ColorPicker:Ps,DOMSVGFactory:Ao,DrawLayer:zt,FeatureTest:$t,GlobalWorkerOptions:Sn,ImageKind:uo,InvalidPDFException:Lc,MathClamp:ss,OPS:qi,OutputScale:sn,PDFDataRangeTransport:Uf,PDFDateString:Mc,PDFWorker:Gi,PasswordResponses:Fv,PermissionFlag:Iv,PixelsPerInch:Zr,RenderingCancelledException:ru,ResponseException:vo,SignatureExtractor:Vr,SupportedImageMimeTypes:Oc,TextLayer:wo,TouchManager:Bo,Util:Ce,VerbosityLevel:Mo,XfaLayer:Tf,applyOpacity:qv,build:hb,createValidAbsoluteUrl:Ef,fetchData:na,findContrastColor:Gv,getDocument:Ff,getFilenameFromUrl:$v,getPdfFilenameFromUrl:Hv,getRGB:ra,getUuid:_f,getXfaPageViewport:Vv,isDataScheme:Io,isPdfFile:iu,isValidExplicitDest:Qv,noContextMenu:Ls,normalizeUnicode:Uv,renderRichText:Pf,setLayerDimensions:br,shadow:We,stopEvent:wt,updateUrlHash:kf,version:So},Symbol.toStringTag,{value:"Module"}));function wb(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(e=0;e<n;e++)r[e]&&(t=wb(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function lu(){for(var r,e,t=0,s="",n=arguments.length;t<n;t++)(r=arguments[t])&&(e=wb(r))&&(s&&(s+=" "),s+=e);return s}var ix=Object.prototype.hasOwnProperty;function ax(r,e,t){for(t of r.keys())if(zi(t,e))return t}function zi(r,e){var t,s,n;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((s=r.length)===e.length)for(;s--&&zi(r[s],e[s]););return s===-1}if(t===Set){if(r.size!==e.size)return!1;for(s of r)if(n=s,n&&typeof n=="object"&&(n=ax(e,n),!n)||!e.has(n))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(s of r)if(n=s[0],n&&typeof n=="object"&&(n=ax(e,n),!n)||!zi(s[1],e.get(n)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((s=r.byteLength)===e.byteLength)for(;s--&&r.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(r)){if((s=r.byteLength)===e.byteLength)for(;s--&&r[s]===e[s];);return s===-1}if(!t||typeof r=="object"){s=0;for(t in r)if(ix.call(r,t)&&++s&&!ix.call(e,t)||!(t in e)||!zi(r[t],e[t]))return!1;return Object.keys(e).length===s}}return r!==r&&e!==e}function $o(r){let e=!1;return{promise:new Promise((s,n)=>{r.then(a=>!e&&s(a)).catch(a=>!e&&n(a))}),cancel(){e=!0}}}const OE=["onCopy","onCut","onPaste"],DE=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],IE=["onFocus","onBlur"],FE=["onInput","onInvalid","onReset","onSubmit"],BE=["onLoad","onError"],UE=["onKeyDown","onKeyPress","onKeyUp"],zE=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],$E=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],HE=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],VE=["onSelect"],WE=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],qE=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],GE=["onScroll"],KE=["onWheel"],XE=["onAnimationStart","onAnimationEnd","onAnimationIteration"],YE=["onTransitionEnd"],QE=["onToggle"],JE=["onChange"],ZE=[...OE,...DE,...IE,...FE,...BE,...UE,...zE,...$E,...HE,...VE,...WE,...qE,...GE,...KE,...XE,...YE,...JE,...QE];function Sb(r,e){const t={};for(const s of ZE){const n=r[s];n&&(e?t[s]=(a=>n(a,e(s))):t[s]=n)}return t}var ek="Invariant failed";function it(r,e){if(!r)throw new Error(ek)}var kh,ox;function tk(){if(ox)return kh;ox=1;var r=function(){};return kh=r,kh}var sk=tk();const is=$c(sk),Cb=H.createContext(null),nk="noopener noreferrer nofollow";class rk{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return it(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){it(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||nk,e.target=s?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{it(this.pdfDocument),it(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{it(Array.isArray(t));const s=t[0];new Promise(n=>{it(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(a=>{n(a)}).catch(()=>{it(!1)}):typeof s=="number"?n(s):it(!1)}).then(n=>{const a=n+1;it(this.pdfViewer),it(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:n,pageNumber:a})})})}goToPage(e){const t=e-1;it(this.pdfViewer),it(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function $i({children:r,type:e}){return c.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const lx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function ik(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function Ki(){return H.useReducer(ik,{value:void 0,error:void 0})}const cu=typeof window<"u",Ab=cu&&window.location.protocol==="file:";function ak(r){return typeof r<"u"}function zr(r){return ak(r)&&r!==null}function ok(r){return typeof r=="string"}function lk(r){return r instanceof ArrayBuffer}function ck(r){return it(cu),r instanceof Blob}function af(r){return ok(r)&&/^data:/.test(r)}function cx(r){it(af(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function uk(){return cu&&window.devicePixelRatio||1}const Nb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ux(){is(!Ab,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Nb}`)}function dk(){is(!Ab,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Nb}`)}function ti(r){r?.cancel&&r.cancel()}function of(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function hk(r){return r.name==="RenderingCancelledException"}function fk(r){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=n=>{if(!n.target)return t(new Error("Error while reading a file."));const{error:a}=n.target;if(!a)return t(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:pk}=ME,mk=(r,e)=>{switch(e){case lx.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case lx.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function dx(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const gk=H.forwardRef(function({children:e,className:t,error:s="Failed to load PDF file.",externalLinkRel:n,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:y,onLoadProgress:w,onLoadSuccess:C,onPassword:v=mk,onSourceError:A,onSourceSuccess:E,options:D,renderMode:O,rotate:T,scale:k,...j},R){const[I,M]=Ki(),{value:L,error:V}=I,[X,U]=Ki(),{value:K,error:J}=X,Q=H.useRef(new rk),b=H.useRef([]),q=H.useRef(void 0),F=H.useRef(void 0);l&&l!==q.current&&dx(l)&&(is(!zi(l,q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),q.current=l),D&&D!==F.current&&(is(!zi(D,F.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),F.current=D);const N=H.useRef({scrollPageIntoView:ye=>{const{dest:ve,pageNumber:_e,pageIndex:Be=_e-1}=ye;if(m){m({dest:ve,pageIndex:Be,pageNumber:_e});return}const Pe=b.current[Be];if(Pe){Pe.scrollIntoView();return}is(!1,`An internal link leading to page ${_e} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});H.useImperativeHandle(R,()=>({linkService:Q,pages:b,viewer:N}),[]);function _(){E&&E()}function B(){V&&(is(!1,V.toString()),A&&A(V))}function te(){M({type:"RESET"})}H.useEffect(te,[l,M]);const ee=H.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return af(l)?{data:cx(l)}:(ux(),{url:l});if(l instanceof pk)return{range:l};if(lk(l))return{data:l};if(cu&&ck(l))return{data:await fk(l)};if(it(typeof l=="object"),it(dx(l)),"url"in l&&typeof l.url=="string"){if(af(l.url)){const{url:ye,...ve}=l;return{data:cx(ye),...ve}}ux()}return l},[l]);H.useEffect(()=>{const ye=$o(ee());return ye.promise.then(ve=>{M({type:"RESOLVE",value:ve})}).catch(ve=>{M({type:"REJECT",error:ve})}),()=>{ti(ye)}},[ee,M]),H.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){B();return}_()}},[L]);function le(){K&&(C&&C(K),b.current=new Array(K.numPages),Q.current.setDocument(K))}function ae(){J&&(is(!1,J.toString()),y&&y(J))}H.useEffect(function(){U({type:"RESET"})},[U,L]),H.useEffect(function(){if(!L)return;const ve=D?{...L,...D}:L,_e=Ff(ve);w&&(_e.onProgress=w),v&&(_e.onPassword=v);const Be=_e,Pe=Be.promise.then(Qe=>{U({type:"RESOLVE",value:Qe})}).catch(Qe=>{Be.destroyed||U({type:"REJECT",error:Qe})});return()=>{Pe.finally(()=>Be.destroy())}},[D,U,L]),H.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){ae();return}le()}},[K]),H.useEffect(function(){Q.current.setViewer(N.current),Q.current.setExternalLinkRel(n),Q.current.setExternalLinkTarget(a)},[n,a]);const W=H.useCallback((ye,ve)=>{b.current[ye]=ve},[]),ne=H.useCallback(ye=>{delete b.current[ye]},[]),ce=H.useMemo(()=>({imageResourcesPath:d,linkService:Q.current,onItemClick:m,pdf:K,registerPage:W,renderMode:O,rotate:T,scale:k,unregisterPage:ne}),[d,m,K,W,O,T,k,ne]),me=H.useMemo(()=>Sb(j,()=>K),[j,K]);function Ie(){function ye(_e){return!!_e?.pdf}if(!ye(ce))throw new Error("pdf is undefined");const ve=typeof e=="function"?e(ce):e;return c.jsx(Cb.Provider,{value:ce,children:ve})}function Fe(){return l?K==null?c.jsx($i,{type:"loading",children:typeof f=="function"?f():f}):K===!1?c.jsx($i,{type:"error",children:typeof s=="function"?s():s}):Ie():c.jsx($i,{type:"no-data",children:typeof p=="function"?p():p})}return c.jsx("div",{className:lu("react-pdf__Document",t),ref:u,...me,children:Fe()})});function Eb(){return H.useContext(Cb)}function kb(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(a){for(var l=0,u=t;l<u.length;l++){var d=u[l];typeof d=="function"?d(a):d&&(d.current=a)}}}const _b=H.createContext(null);function uu(){return H.useContext(_b)}function yk(){const r=Eb(),e=uu();it(e);const t={...r,...e},{imageResourcesPath:s,linkService:n,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:m,rotate:y,scale:w=1}=t;it(p),it(f),it(n);const[C,v]=Ki(),{value:A,error:E}=C,D=H.useRef(null);is(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){A&&l&&l(A)}function T(){E&&(is(!1,E.toString()),a&&a(E))}H.useEffect(function(){v({type:"RESET"})},[v,f]),H.useEffect(function(){if(!f)return;const M=$o(f.getAnnotations()),L=M;return M.promise.then(V=>{v({type:"RESOLVE",value:V})}).catch(V=>{v({type:"REJECT",error:V})}),()=>{ti(L)}},[v,f]),H.useEffect(()=>{if(A!==void 0){if(A===!1){T();return}O()}},[A]);function k(){d&&d()}function j(I){is(!1,`${I}`),u&&u(I)}const R=H.useMemo(()=>f.getViewport({scale:w,rotation:y}),[f,y,w]);return H.useEffect(function(){if(!p||!f||!n||!A)return;const{current:M}=D;if(!M)return;const L=R.clone({dontFlip:!0}),V={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:M,l10n:null,linkService:n,page:f,structTreeLayer:null,viewport:L},X={annotations:A,annotationStorage:p.annotationStorage,div:M,imageResourcesPath:s,linkService:n,page:f,renderForms:m,viewport:L};M.innerHTML="";try{new Hf(V).render(X),k()}catch(U){j(U)}return()=>{}},[A,s,n,f,p,m,R]),c.jsx("div",{className:lu("react-pdf__Page__annotations","annotationLayer"),ref:D})}const jb={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},xk=/^H(\d+)$/;function vk(r){return r in jb}function du(r){return"children"in r}function Tb(r){return du(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function bk(r){const e={};if(du(r)){const{role:t}=r,s=t.match(xk);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(vk(t)){const n=jb[t];n&&(e.role=n)}}return e}function Pb(r){const e={};if(du(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),Tb(r)){const[t]=r.children;if(t){const s=Pb(t);return{...e,...s}}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function wk(r){return r?{...bk(r),...Pb(r)}:null}function Rb({className:r,node:e}){const t=H.useMemo(()=>wk(e),[e]),s=H.useMemo(()=>!du(e)||Tb(e)?null:e.children.map((n,a)=>c.jsx(Rb,{node:n},a)),[e]);return c.jsx("span",{className:r,...t,children:s})}function Sk(){const r=uu();it(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[s,n]=Ki(),{value:a,error:l}=s,{customTextRenderer:u,page:d}=r;function f(){a&&t&&t(a)}function p(){l&&(is(!1,l.toString()),e&&e(l))}return H.useEffect(function(){n({type:"RESET"})},[n,d]),H.useEffect(function(){if(u||!d)return;const y=$o(d.getStructTree()),w=y;return y.promise.then(C=>{n({type:"RESOLVE",value:C})}).catch(C=>{n({type:"REJECT",error:C})}),()=>ti(w)},[u,d,n]),H.useEffect(()=>{if(a!==void 0){if(a===!1){p();return}f()}},[a]),a?c.jsx(Rb,{className:"react-pdf__Page__structTree structTree",node:a}):null}const hx=bn;function Ck(r){const e=uu();it(e);const t={...e,...r},{_className:s,canvasBackground:n,devicePixelRatio:a=uk(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:m,scale:y}=t,{canvasRef:w}=r;it(d);const C=H.useRef(null);function v(){d&&u&&u(of(d,y))}function A(T){hk(T)||(is(!1,T.toString()),l&&l(T))}const E=H.useMemo(()=>d.getViewport({scale:y*a,rotation:m}),[a,d,m,y]),D=H.useMemo(()=>d.getViewport({scale:y,rotation:m}),[d,m,y]);H.useEffect(function(){if(!d)return;d.cleanup();const{current:k}=C;if(!k)return;k.width=E.width,k.height=E.height,k.style.width=`${Math.floor(D.width)}px`,k.style.height=`${Math.floor(D.height)}px`,k.style.visibility="hidden";const j={annotationMode:f?hx.ENABLE_FORMS:hx.ENABLE,canvas:k,canvasContext:k.getContext("2d",{alpha:!1}),viewport:E};n&&(j.background=n);const R=d.render(j),I=R;return R.promise.then(()=>{k.style.visibility="",v()}).catch(A),()=>ti(I)},[n,d,f,E,D]);const O=H.useCallback(()=>{const{current:T}=C;T&&(T.width=0,T.height=0)},[]);return H.useEffect(()=>O,[O]),c.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:kb(w,C),style:{display:"block",userSelect:"none"},children:p?c.jsx(Sk,{}):null})}function Ak(r){return"str"in r}function Nk(){const r=uu();it(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:n,onRenderTextLayerSuccess:a,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:p}=r;it(l);const[m,y]=Ki(),{value:w,error:C}=m,v=H.useRef(null);is(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){w&&s&&s(w)}function E(){C&&(is(!1,C.toString()),t&&t(C))}H.useEffect(function(){y({type:"RESET"})},[l,y]),H.useEffect(function(){if(!l)return;const I=$o(l.getTextContent()),M=I;return I.promise.then(L=>{y({type:"RESOLVE",value:L})}).catch(L=>{y({type:"REJECT",error:L})}),()=>ti(M)},[l,y]),H.useEffect(()=>{if(w!==void 0){if(w===!1){E();return}A()}},[w]);const D=H.useCallback(()=>{a&&a()},[a]),O=H.useCallback(R=>{is(!1,R.toString()),n&&n(R)},[n]);function T(){const R=v.current;R&&R.classList.add("selecting")}function k(){const R=v.current;R&&R.classList.remove("selecting")}const j=H.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return H.useLayoutEffect(function(){if(!l||!w)return;const{current:I}=v;if(!I)return;I.innerHTML="";const M=l.streamTextContent({includeMarkedContent:!0}),L={container:I,textContentSource:M,viewport:j},V=new wo(L),X=V;return V.render().then(()=>{const U=document.createElement("div");U.className="endOfContent",I.append(U);const K=I.querySelectorAll('[role="presentation"]');if(e){let J=0;w.items.forEach((Q,b)=>{if(!Ak(Q))return;const q=K[J];if(!q)return;const F=e({pageIndex:u,pageNumber:d,itemIndex:b,...Q});q.innerHTML=F,J+=Q.str&&Q.hasEOL?2:1})}D()}).catch(O),()=>ti(X)},[e,O,D,l,u,d,w,j]),c.jsx("div",{className:lu("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:T,ref:v})}const fx=1;function Ek(r){const t={...Eb(),...r},{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:n=!0,canvasBackground:a,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:m,error:y="Failed to load the page.",height:w,inputRef:C,loading:v="Loading page",noData:A="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:D,onGetStructTreeError:O,onGetStructTreeSuccess:T,onGetTextError:k,onGetTextSuccess:j,onLoadError:R,onLoadSuccess:I,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:L,onRenderError:V,onRenderSuccess:X,onRenderTextLayerError:U,onRenderTextLayerSuccess:K,pageIndex:J,pageNumber:Q,pdf:b,registerPage:q,renderAnnotationLayer:F=!0,renderForms:N=!1,renderMode:_="canvas",renderTextLayer:B=!0,rotate:te,scale:ee=fx,unregisterPage:le,width:ae,...W}=t,[ne,ce]=Ki(),{value:me,error:Ie}=ne,Fe=H.useRef(null);it(b);const ye=zr(Q)?Q-1:J??null,ve=Q??(zr(J)?J+1:null),_e=te??(me?me.rotate:null),Be=H.useMemo(()=>{if(!me)return null;let ot=1;const Ct=ee??fx;if(ae||w){const Qt=me.getViewport({scale:1,rotation:_e});ae?ot=ae/Qt.width:w&&(ot=w/Qt.height)}return Ct*ot},[w,me,_e,ee,ae]);H.useEffect(function(){return()=>{zr(ye)&&n&&le&&le(ye)}},[n,b,ye,le]);function Pe(){if(I){if(!me||!Be)return;I(of(me,Be))}if(n&&q){if(!zr(ye)||!Fe.current)return;q(ye,Fe.current)}}function Qe(){Ie&&(is(!1,Ie.toString()),R&&R(Ie))}H.useEffect(function(){ce({type:"RESET"})},[ce,b,ye]),H.useEffect(function(){if(!b||!ve)return;const Ct=$o(b.getPage(ve)),Qt=Ct;return Ct.promise.then(fs=>{ce({type:"RESOLVE",value:fs})}).catch(fs=>{ce({type:"REJECT",error:fs})}),()=>ti(Qt)},[ce,b,ve]),H.useEffect(()=>{if(me!==void 0){if(me===!1){Qe();return}Pe()}},[me,Be]);const et=H.useMemo(()=>zr(ye)&&ve&&zr(_e)&&zr(Be)?{_className:s,canvasBackground:a,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:E,onGetAnnotationsSuccess:D,onGetStructTreeError:O,onGetStructTreeSuccess:T,onGetTextError:k,onGetTextSuccess:j,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:L,onRenderError:V,onRenderSuccess:X,onRenderTextLayerError:U,onRenderTextLayerSuccess:K,page:me,pageIndex:ye,pageNumber:ve,renderForms:N,renderTextLayer:B,rotate:_e,scale:Be}:null,[s,a,p,m,E,D,O,T,k,j,M,L,V,X,U,K,me,ye,ve,N,B,_e,Be]),nt=H.useMemo(()=>Sb(W,()=>me&&(Be?of(me,Be):void 0)),[W,me,Be]),tt=`${ye}@${Be}/${_e}`;function Ht(){switch(_){case"custom":return it(f),c.jsx(f,{},`${tt}_custom`);case"none":return null;case"canvas":default:return c.jsx(Ck,{canvasRef:l},`${tt}_canvas`)}}function Ns(){return B?c.jsx(Nk,{},`${tt}_text`):null}function Ws(){return F?c.jsx(yk,{},`${tt}_annotations`):null}function os(){function ot(Qt){return!!Qt?.page}if(!ot(et))throw new Error("page is undefined");const Ct=typeof u=="function"?u(et):u;return c.jsxs(_b.Provider,{value:et,children:[Ht(),Ns(),Ws(),Ct]})}function qs(){return ve?b===null||me===void 0||me===null?c.jsx($i,{type:"loading",children:typeof v=="function"?v():v}):b===!1||me===!1?c.jsx($i,{type:"error",children:typeof y=="function"?y():y}):os():c.jsx($i,{type:"no-data",children:typeof A=="function"?A():A})}return c.jsx("div",{className:lu(s,d),"data-page-number":ve,ref:kb(C,Fe),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Be}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...nt,children:qs()})}dk();Sn.workerSrc="pdf.worker.mjs";const kk=()=>{console.log("Configuring PDF.js worker for react-pdf version:",So);const r="/pdf.worker.min.js";console.log("Setting PDF.js worker source to:",r);try{Sn.workerSrc=r,console.log("PDF.js worker configured successfully")}catch(e){console.error("Failed to configure PDF.js worker:",e);try{Sn.workerSrc=`https://unpkg.com/pdfjs-dist@${So}/build/pdf.worker.min.js`,console.log("Fallback PDF.js worker configured from CDN")}catch(t){console.error("Fallback PDF.js worker configuration also failed:",t)}}};kk();const _k=()=>{const{t:r}=yt(),{user:e}=Cr(),{createBook:t,updateBook:s,deleteBook:n,books:a,creatingBook:l,updatingBook:u}=eu(),[d,f]=H.useState([]),p=a||d,[m,y]=H.useState(null),[w,C]=H.useState(!1),[v,A]=H.useState(!1),[E,D]=H.useState(null),[O,T]=H.useState(1),[k,j]=H.useState(!1),[R,I]=H.useState(null),[M,L]=H.useState(null),[V,X]=H.useState(!1),[U,K]=H.useState({title:"",author:"",description:"",genre:"",cover_image:null,pdf_file:null,publication_year:""});H.useEffect(()=>{a||fetch(vf+je.COMMUNICATION.BOOKS).then(W=>W.json()).then(W=>f(W)).catch(W=>console.error("Error fetching books:",W))},[a]);const J=async(W,ne=null)=>{try{if(ne&&(ne.cover_image||ne.pdf_file)){const ce=new FormData;ce.append("title",W.title||""),ce.append("author",W.author||""),ce.append("description",W.description||""),ce.append("genre",W.genre||""),ce.append("publication_year",W.publication_year||""),ne.cover_image&&ce.append("cover_image",ne.cover_image),ne.pdf_file&&ce.append("pdf_file",ne.pdf_file),W.id?(await s({id:W.id,data:ce}),alert("Book updated successfully!")):(await t(ce),alert("Book created successfully!"))}else W.id?(await s({id:W.id,data:W}),alert("Book updated successfully!")):(await t(W),alert("Book created successfully!"));L(null),X(!1),K({title:"",author:"",description:"",genre:"",cover_image:null,pdf_file:null,publication_year:""})}catch(ce){console.error("Error saving book:",ce),alert("Failed to save book")}},Q=async W=>{if(window.confirm("Are you sure you want to delete this book?"))try{await n(W),alert("Book deleted successfully!")}catch(ne){console.error("Error deleting book:",ne),alert("Failed to delete book")}},b=W=>{y(W),C(!0)},q=()=>{C(!1),y(null),A(!1),T(1)},F=()=>{A(!0),j(!0),I(null),T(1),D(null)},N=({numPages:W})=>{D(W),j(!1),I(null),console.log("PDF loaded successfully with",W,"pages")},_=W=>{console.group("PDF Loading Error Analysis"),console.error("Error details:",{error:W,message:W?.message,name:W?.name,stack:W?.stack,selectedBook:m,fileType:m?.pdf_file?.type||"unknown",fileSize:m?.pdf_file?.size||"unknown",workerSrc:Sn.workerSrc,reactPdfVersion:So}),console.groupEnd();let ne="Failed to load PDF file. ",ce=!1;if(W?.name==="InvalidPDFException"?ne+="The file appears to be corrupted or is not a valid PDF. Please check if the file is not password-protected or corrupted.":W?.name==="MissingPDFException"?ne+="PDF content could not be found in the file. The file may be incomplete or corrupted.":W?.name==="UnexpectedServerResponse"?(ne+="Server returned an unexpected response. Please check if the file exists and the server is accessible.",ce=!0):W?.message?.includes("CORS")?ne+="Cross-origin access is blocked. This might be due to server CORS settings or an inaccessible URL.":W?.message?.includes("404")?ne+="The PDF file could not be found. Please check if the URL is correct.":W?.message?.includes("Worker")?(ne+="There seems to be an issue with the PDF processing worker. This might be a temporary issue.",ce=!0):W?.message?.includes("Failed to fetch")||W?.message?.includes("Network Error")?(ne+="Network error occurred while loading the PDF. Please check your internet connection.",ce=!0):m?.pdf_file?.type&&m?.pdf_file?.type!=="application/pdf"?ne+=`Invalid file type: ${m.pdf_file.type}. Please ensure you have selected a valid PDF file.`:m?.pdf_file?.size>50*1024*1024?ne+="The PDF file is too large. Maximum size allowed is 50MB.":(ne+="Please try again or contact support if the problem persists.",ce=!0),ce&&m){if(window.confirm(ne+`

Would you like to try loading the PDF again?`)){console.log("Retrying PDF load for book:",m.title),setTimeout(()=>{T(1)},500);return}}else alert(ne)},B=W=>{console.log("Getting PDF file for book:",W.title,"ID:",W.id);try{if(W.id==="local-temp"){const ne=W.pdf_file;return console.log("Local file detected:",ne?.name,ne?.size,ne?.type),ne?ne.type!=="application/pdf"&&!ne.name?.toLowerCase().endsWith(".pdf")?(console.error("Invalid file type for local PDF"),null):ne:(console.error("No local file provided"),null)}else if(typeof W.pdf_file=="string"){const ne=W.pdf_file.trim();return console.log("Remote URL detected:",ne),ne||(console.error("Empty URL provided"),null)}else if(W.pdf_file&&typeof W.pdf_file=="object"){if(W.pdf_file instanceof File)return console.log("File object detected"),W.pdf_file;if(W.pdf_file.url&&typeof W.pdf_file.url=="string")return console.log("URL property found:",W.pdf_file.url),W.pdf_file.url}return console.error("No valid PDF file found in book object"),null}catch(ne){return console.error("Error in getPdfFile:",ne),null}},te=W=>{T(ne=>ne+W)},ee=()=>te(-1),le=()=>te(1),ae=W=>{const ne=W.target.files[0];if(!ne){alert("Please select a file.");return}if(ne.type!=="application/pdf"){alert("Please select a valid PDF file. Current file type: "+ne.type);return}const ce=50*1024*1024;if(ne.size>ce){alert(`File is too large. Maximum size allowed is 50MB. Current file size: ${(ne.size/1024/1024).toFixed(2)}MB`);return}if(!ne.name.toLowerCase().endsWith(".pdf")){alert("File must have a .pdf extension.");return}console.log("Processing local PDF file:",{name:ne.name,size:ne.size,type:ne.type,lastModified:ne.lastModified}),y({id:"local-temp",title:ne.name.replace(".pdf",""),author:"Local Document",description:r("digitalBookshelf.uploadSubtitle"),pdf_file:ne,cover_image:null,fileName:ne.name,fileSize:ne.size}),A(!0),C(!0),T(1),D(null),j(!0),I(null),W.target.value=""};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(tu,{}),c.jsx("section",{className:"bg-primary text-white py-12 sm:py-16 lg:py-20",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h1",{className:"text-2xl xs:text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4",children:r("digitalBookshelf.title")}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-200 max-w-2xl mx-auto",children:r("digitalBookshelf.subtitle")})]})}),c.jsx("section",{className:"py-8 bg-white border-b",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8 flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm border border-gray-100",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:r("digitalBookshelf.uploadTitle")}),c.jsx("p",{className:"text-gray-600",children:r("digitalBookshelf.uploadSubtitle")})]}),c.jsx("div",{children:c.jsxs("label",{className:"flex items-center gap-2 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary-dark transition-colors cursor-pointer shadow-md",children:[c.jsx(uv,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:r("digitalBookshelf.selectFile")}),c.jsx("input",{type:"file",accept:"application/pdf",onChange:ae,className:"hidden"})]})})]})})}),e?.role==="admin"&&c.jsx("section",{className:"py-8 bg-white border-b",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Book Management"}),c.jsxs("button",{onClick:()=>X(!0),className:"bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",disabled:V,children:[c.jsx(io,{className:"w-4 h-4"}),"Add New Book"]})]}),(V||M)&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:M?"Edit Book":"Add New Book"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),c.jsx("input",{type:"text",value:M?M.title:U.title,onChange:W=>{M?L({...M,title:W.target.value}):K({...U,title:W.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"Enter book title"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Author"}),c.jsx("input",{type:"text",value:M?M.author:U.author,onChange:W=>{M?L({...M,author:W.target.value}):K({...U,author:W.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"Enter author name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Genre"}),c.jsx("input",{type:"text",value:M?M.genre:U.genre,onChange:W=>{M?L({...M,genre:W.target.value}):K({...U,genre:W.target.value})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"Enter genre"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Publication Year"}),c.jsx("input",{type:"number",value:M?M.publication_year:U.publication_year,onChange:W=>{const ne=parseInt(W.target.value)||"";M?L({...M,publication_year:ne}):K({...U,publication_year:ne})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"2024",min:"1000",max:"2030"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cover Image"}),c.jsx("input",{type:"file",accept:"image/*",onChange:W=>{const ne=W.target.files[0];M?L({...M,cover_image:ne}):K({...U,cover_image:ne})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all"}),(M?.cover_image||U.cover_image)&&typeof(M?.cover_image||U.cover_image)=="object"&&c.jsxs("p",{className:"text-sm mt-1 text-gray-600",children:["Selected: ",(M?.cover_image||U.cover_image).name]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"PDF File"}),c.jsx("input",{type:"file",accept:".pdf",onChange:W=>{const ne=W.target.files[0];M?L({...M,pdf_file:ne}):K({...U,pdf_file:ne})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all"}),(M?.pdf_file||U.pdf_file)&&typeof(M?.pdf_file||U.pdf_file)=="object"&&c.jsxs("p",{className:"text-sm mt-1 text-gray-600",children:["Selected: ",(M?.pdf_file||U.pdf_file).name]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),c.jsx("textarea",{value:M?M.description:U.description,onChange:W=>{M?L({...M,description:W.target.value}):K({...U,description:W.target.value})},rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:border-transparent transition-all",placeholder:"Enter book description"})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsxs("button",{onClick:()=>{M?J(M,M):J(U,U)},disabled:l||u,className:"bg-success text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:[c.jsx($r,{className:"w-4 h-4"}),l||u?"Saving...":"Save Book"]}),c.jsxs("button",{onClick:()=>{L(null),X(!1),K({title:"",author:"",description:"",genre:"",cover_image:null,pdf_file:null,publication_year:""})},className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[c.jsx(en,{className:"w-4 h-4"}),"Cancel"]})]})]})]})}),c.jsx("section",{className:"py-8 sm:py-12 lg:py-16",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:p.map(W=>c.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 group relative",children:[c.jsxs("div",{onClick:()=>b(W),className:"cursor-pointer",children:[c.jsx("img",{src:W.cover_image,alt:W.title,className:"w-full h-48 object-cover",onError:ne=>{ne.target.src="/images/placeholder-book.jpg"}}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:W.title}),c.jsx("p",{className:"text-gray-600 text-sm",children:W.author})]})]}),e?.role==="admin"&&c.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("button",{onClick:ne=>{ne.stopPropagation(),L(W),X(!1)},className:"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-colors",title:"Edit Book",children:c.jsx(YC,{className:"w-4 h-4"})}),c.jsx("button",{onClick:ne=>{ne.stopPropagation(),Q(W.id)},className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",title:"Delete Book",children:c.jsx(en,{className:"w-4 h-4"})})]})})]},W.id))})})}),w&&m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:v?c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:m.title}),c.jsx("button",{onClick:q,className:"text-gray-500 hover:text-gray-700 text-2xl",children:r("digitalBookshelf.closeModal")})]}),c.jsxs("div",{className:"flex justify-center mb-4",children:[c.jsx("button",{onClick:ee,disabled:O<=1,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded mr-2 disabled:opacity-50",children:r("digitalBookshelf.previous")}),c.jsx("span",{className:"px-4 py-2",children:r("digitalBookshelf.pageIndicator",{current:O,total:E||0})}),c.jsx("button",{onClick:le,disabled:O>=E,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded ml-2 disabled:opacity-50",children:r("digitalBookshelf.next")})]}),c.jsxs("div",{className:"flex justify-center",children:[k&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading PDF..."})]}),R&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),c.jsx("p",{className:"text-red-600 font-medium mb-2",children:"Failed to load PDF"}),c.jsx("p",{className:"text-gray-600 text-sm max-w-md",children:R}),c.jsx("button",{onClick:()=>{j(!0),I(null),T(1)},className:"mt-4 bg-primary text-white px-4 py-2 rounded hover:bg-primary-dark transition-colors",children:"Try Again"})]}),!k&&!R&&c.jsx(gk,{file:B(m),onLoadSuccess:N,onLoadError:_,className:"border",children:c.jsx(Ek,{pageNumber:O})})]})]}):c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold",children:m.title}),c.jsx("button",{onClick:q,className:"text-gray-500 hover:text-gray-700 text-2xl",children:r("digitalBookshelf.closeModal")})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsx("img",{src:m.cover_image,alt:m.title,className:"w-full md:w-48 h-64 object-cover rounded",onError:W=>{W.target.src="/images/placeholder-book.jpg"}}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:"text-lg font-semibold mb-2",children:[r("digitalBookshelf.author")," ",m.author]}),c.jsx("p",{className:"text-gray-700 mb-4",children:m.description}),c.jsx("button",{onClick:F,className:"bg-primary text-white px-6 py-2 rounded hover:bg-primary-dark transition-colors",children:r("digitalBookshelf.readBook")})]})]})]})})}),c.jsx(ta,{})]})};function Pi({children:r,allowedRoles:e=null}){const{user:t}=Cr();if(!t)return c.jsx(hr,{to:"/login"});if(e&&!e.includes(t.role))switch(t.role){case"admin":return c.jsx(hr,{to:"/admin/dashboard"});case"student":return c.jsx(hr,{to:"/student/dashboard"});case"tutor":return c.jsx(hr,{to:"/tutor/dashboard"});case"alumni":return c.jsx(hr,{to:"/alumni/dashboard"});default:return c.jsx(hr,{to:"/login"})}return r}const jk=()=>{const{user:r}=Cr();if(!r)return c.jsx(hr,{to:"/login"});switch(r.role){case"admin":return c.jsx(qh,{});case"student":return c.jsx(Rc,{});case"tutor":return c.jsx(Dv,{});case"alumni":return c.jsx(Rc,{});default:return c.jsx(hr,{to:"/login"})}};function Tk(){return c.jsxs(v1,{children:[c.jsx(us,{path:"/",element:c.jsx(GA,{})}),c.jsx(us,{path:"/about",element:c.jsx(W2,{})}),c.jsx(us,{path:"/academics",element:c.jsx(q2,{})}),c.jsx(us,{path:"/admissions",element:c.jsx(G2,{})}),c.jsx(us,{path:"/library",element:c.jsx(_k,{})}),c.jsx(us,{path:"/login",element:c.jsx(KA,{})}),c.jsx(us,{path:"/signup",element:c.jsx(XA,{})}),c.jsx(us,{path:"/student/dashboard",element:c.jsx(Pi,{allowedRoles:["student"],children:c.jsx(Rc,{})})}),c.jsx(us,{path:"/admin/dashboard",element:c.jsx(Pi,{allowedRoles:["admin"],children:c.jsx(qh,{})})}),c.jsx(us,{path:"/tutor/dashboard",element:c.jsx(Pi,{allowedRoles:["tutor"],children:c.jsx(Dv,{})})}),c.jsx(us,{path:"/admin/dashboard",element:c.jsx(Pi,{allowedRoles:["admin"],children:c.jsx(qh,{})})}),c.jsx(us,{path:"/alumni/dashboard",element:c.jsx(Pi,{allowedRoles:["alumni"],children:c.jsx(Rc,{})})}),c.jsx(us,{path:"/dashboard",element:c.jsx(Pi,{children:c.jsx(jk,{})})}),c.jsx(us,{path:"*",element:c.jsx($2,{})})]})}const ze=r=>typeof r=="string",no=()=>{let r,e;const t=new Promise((s,n)=>{r=s,e=n});return t.resolve=r,t.reject=e,t},px=r=>r==null?"":""+r,Pk=(r,e,t)=>{r.forEach(s=>{e[s]&&(t[s]=e[s])})},Rk=/###/g,mx=r=>r&&r.indexOf("###")>-1?r.replace(Rk,"."):r,gx=r=>!r||ze(r),fo=(r,e,t)=>{const s=ze(e)?e.split("."):e;let n=0;for(;n<s.length-1;){if(gx(r))return{};const a=mx(s[n]);!r[a]&&t&&(r[a]=new t),Object.prototype.hasOwnProperty.call(r,a)?r=r[a]:r={},++n}return gx(r)?{}:{obj:r,k:mx(s[n])}},yx=(r,e,t)=>{const{obj:s,k:n}=fo(r,e,Object);if(s!==void 0||e.length===1){s[n]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),u=fo(r,l,Object);for(;u.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),u=fo(r,l,Object),u&&u.obj&&typeof u.obj[`${u.k}.${a}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${a}`]=t},Lk=(r,e,t,s)=>{const{obj:n,k:a}=fo(r,e,Object);n[a]=n[a]||[],n[a].push(t)},Ic=(r,e)=>{const{obj:t,k:s}=fo(r,e);if(t)return t[s]},Mk=(r,e,t)=>{const s=Ic(r,t);return s!==void 0?s:Ic(e,t)},Lb=(r,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in r?ze(r[s])||r[s]instanceof String||ze(e[s])||e[s]instanceof String?t&&(r[s]=e[s]):Lb(r[s],e[s],t):r[s]=e[s]);return r},Ri=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ok={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Dk=r=>ze(r)?r.replace(/[&<>"'\/]/g,e=>Ok[e]):r;class Ik{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Fk=[" ",",","?","!",";"],Bk=new Ik(20),Uk=(r,e,t)=>{e=e||"",t=t||"";const s=Fk.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(s.length===0)return!0;const n=Bk.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!n.test(r);if(!a){const l=r.indexOf(t);l>0&&!n.test(r.substring(0,l))&&(a=!0)}return a},lf=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[e])return r[e];const s=e.split(t);let n=r;for(let a=0;a<s.length;){if(!n||typeof n!="object")return;let l,u="";for(let d=a;d<s.length;++d)if(d!==a&&(u+=t),u+=s[d],l=n[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<s.length-1)continue;a+=d-a+1;break}n=l}return n},Fc=r=>r&&r.replace("_","-"),zk={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){console&&console[r]&&console[r].apply(console,e)}};class Bc{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||zk,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,n){return n&&!this.debug?null:(ze(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Bc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Bc(this.logger,e)}}var wn=new Bc;class hu{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const n=this.observers[s].get(t)||0;this.observers[s].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(l=>{let[u,d]=l;for(let f=0;f<d;f++)u(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(l=>{let[u,d]=l;for(let f=0;f<d;f++)u.apply(u,[e,...s])})}}class xx extends hu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],s&&(Array.isArray(s)?u.push(...s):ze(s)&&a?u.push(...s.split(a)):u.push(s)));const d=Ic(this.data,u);return!d&&!t&&!s&&e.indexOf(".")>-1&&(e=u[0],t=u[1],s=u.slice(2).join(".")),d||!l||!ze(s)?d:lf(this.data&&this.data[e]&&this.data[e][t],s,a)}addResource(e,t,s,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let u=[e,t];s&&(u=u.concat(l?s.split(l):s)),e.indexOf(".")>-1&&(u=e.split("."),n=t,t=u[1]),this.addNamespaces(t),yx(this.data,u,n),a.silent||this.emit("added",e,t,s,n)}addResources(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in s)(ze(s[a])||Array.isArray(s[a]))&&this.addResource(e,t,a,s[a],{silent:!0});n.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,n,a){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),n=s,s=t,t=u[1]),this.addNamespaces(t);let d=Ic(this.data,u)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),n?Lb(d,s,a):d={...d,...s},yx(this.data,u,d),l.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}}var Mb={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,s,n){return r.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,t,s,n))}),e}};const vx={};class Uc extends hu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Pk(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=wn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const s=this.resolve(e,t);return s&&s.res!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=s&&e.indexOf(s)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Uk(e,s,n);if(l&&!u){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:ze(a)?[a]:a};const f=e.split(s);(s!==n||s===n&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(n)}return{key:e,namespaces:ze(a)?[a]:a}}translate(e,t,s){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],t),d=u[u.length-1],f=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(p){const T=t.nsSeparator||this.options.nsSeparator;return n?{res:`${d}${T}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(t)}:`${d}${T}${l}`}return n?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(t)}:l}const m=this.resolve(e,t);let y=m&&m.res;const w=m&&m.usedKey||l,C=m&&m.exactUsedKey||l,v=Object.prototype.toString.apply(y),A=["[object Number]","[object Function]","[object RegExp]"],E=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,O=!ze(y)&&typeof y!="boolean"&&typeof y!="number";if(D&&y&&O&&A.indexOf(v)<0&&!(ze(E)&&Array.isArray(y))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,y,{...t,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return n?(m.res=T,m.usedParams=this.getUsedParamsDetails(t),m):T}if(a){const T=Array.isArray(y),k=T?[]:{},j=T?C:w;for(const R in y)if(Object.prototype.hasOwnProperty.call(y,R)){const I=`${j}${a}${R}`;k[R]=this.translate(I,{...t,joinArrays:!1,ns:u}),k[R]===I&&(k[R]=y[R])}y=k}}else if(D&&ze(E)&&Array.isArray(y))y=y.join(E),y&&(y=this.extendTranslation(y,e,t,s));else{let T=!1,k=!1;const j=t.count!==void 0&&!ze(t.count),R=Uc.hasDefaultValue(t),I=j?this.pluralResolver.getSuffix(f,t.count,t):"",M=t.ordinal&&j?this.pluralResolver.getSuffix(f,t.count,{ordinal:!1}):"",L=j&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),V=L&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${I}`]||t[`defaultValue${M}`]||t.defaultValue;!this.isValidLookup(y)&&R&&(T=!0,y=V),this.isValidLookup(y)||(k=!0,y=l);const U=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:y,K=R&&V!==y&&this.options.updateMissing;if(k||T||K){if(this.logger.log(K?"updateKey":"missingKey",f,d,l,K?V:y),a){const q=this.resolve(l,{...t,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let q=0;q<Q.length;q++)J.push(Q[q]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(t.lng||this.language):J.push(t.lng||this.language);const b=(q,F,N)=>{const _=R&&N!==y?N:U;this.options.missingKeyHandler?this.options.missingKeyHandler(q,d,F,_,K,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(q,d,F,_,K,t),this.emit("missingKey",q,d,F,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?J.forEach(q=>{const F=this.pluralResolver.getSuffixes(q,t);L&&t[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(N=>{b([q],l+N,t[`defaultValue${N}`]||V)})}):b(J,l,V))}y=this.extendTranslation(y,e,t,m,s),k&&y===l&&this.options.appendNamespaceToMissingKey&&(y=`${d}:${l}`),(k||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}:${l}`:l,T?y:void 0):y=this.options.parseMissingKeyHandler(y))}return n?(m.res=y,m.usedParams=this.getUsedParamsDetails(t),m):y}extendTranslation(e,t,s,n,a){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const f=ze(e)&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const y=e.match(this.interpolator.nestingRegexp);p=y&&y.length}let m=s.replace&&!ze(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,s.lng||this.language||n.usedLng,s),f){const y=e.match(this.interpolator.nestingRegexp),w=y&&y.length;p<w&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(s.lng=this.language||n.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var y=arguments.length,w=new Array(y),C=0;C<y;C++)w[C]=arguments[C];return a&&a[0]===w[0]&&!s.context?(l.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${t[0]}`),null):l.translate(...w,t)},s)),s.interpolation&&this.interpolator.reset()}const u=s.postProcess||this.options.postProcess,d=ze(u)?[u]:u;return e!=null&&d&&d.length&&s.applyPostProcessor!==!1&&(e=Mb.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,n,a,l,u;return ze(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(s))return;const f=this.extractFromKey(d,t),p=f.key;n=p;let m=f.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const y=t.count!==void 0&&!ze(t.count),w=y&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),C=t.context!==void 0&&(ze(t.context)||typeof t.context=="number")&&t.context!=="",v=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(A=>{this.isValidLookup(s)||(u=A,!vx[`${v[0]}-${A}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(vx[`${v[0]}-${A}`]=!0,this.logger.warn(`key "${n}" for languages "${v.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(E=>{if(this.isValidLookup(s))return;l=E;const D=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(D,p,E,A,t);else{let T;y&&(T=this.pluralResolver.getSuffix(E,t.count,t));const k=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(D.push(p+T),t.ordinal&&T.indexOf(j)===0&&D.push(p+T.replace(j,this.options.pluralSeparator)),w&&D.push(p+k)),C){const R=`${p}${this.options.contextSeparator}${t.context}`;D.push(R),y&&(D.push(R+T),t.ordinal&&T.indexOf(j)===0&&D.push(R+T.replace(j,this.options.pluralSeparator)),w&&D.push(R+k))}}let O;for(;O=D.pop();)this.isValidLookup(s)||(a=O,s=this.getResource(E,A,O,t))}))})}),{res:s,usedKey:n,exactUsedKey:a,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,s,n):this.resourceStore.getResource(e,t,s,n)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!ze(e.replace);let n=s?e.replace:e;if(s&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!s){n={...n};for(const a of t)delete n[a]}return n}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}const _h=r=>r.charAt(0).toUpperCase()+r.slice(1);class bx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wn.create("languageUtils")}getScriptPartFromCode(e){if(e=Fc(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Fc(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ze(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let n=Intl.getCanonicalLocales(e)[0];if(n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n)return n}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let s=e.split("-");return this.options.lowerCaseLng?s=s.map(n=>n.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=_h(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=_h(s[1].toLowerCase())),t.indexOf(s[2].toLowerCase())>-1&&(s[2]=_h(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const n=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const n=this.getLanguagePartFromCode(s);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(a=>{if(a===n)return a;if(!(a.indexOf("-")<0&&n.indexOf("-")<0)&&(a.indexOf("-")>0&&n.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===n||a.indexOf(n)===0&&n.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),ze(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],a=l=>{l&&(this.isSupportedCode(l)?n.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return ze(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):ze(e)&&a(this.formatLanguageCode(e)),s.forEach(l=>{n.indexOf(l)<0&&a(this.formatLanguageCode(l))}),n}}let $k=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Hk={1:r=>+(r>1),2:r=>+(r!=1),3:r=>0,4:r=>r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,5:r=>r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5,6:r=>r==1?0:r>=2&&r<=4?1:2,7:r=>r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,8:r=>r==1?0:r==2?1:r!=8&&r!=11?2:3,9:r=>+(r>=2),10:r=>r==1?0:r==2?1:r<7?2:r<11?3:4,11:r=>r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3,12:r=>+(r%10!=1||r%100==11),13:r=>+(r!==0),14:r=>r==1?0:r==2?1:r==3?2:3,15:r=>r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2,16:r=>r%10==1&&r%100!=11?0:r!==0?1:2,17:r=>r==1||r%10==1&&r%100!=11?0:1,18:r=>r==0?0:r==1?1:2,19:r=>r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3,20:r=>r==1?0:r==0||r%100>0&&r%100<20?1:2,21:r=>r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0,22:r=>r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3};const Vk=["v1","v2","v3"],Wk=["v4"],wx={zero:0,one:1,two:2,few:3,many:4,other:5},qk=()=>{const r={};return $k.forEach(e=>{e.lngs.forEach(t=>{r[t]={numbers:e.nr,plurals:Hk[e.fc]}})}),r};class Gk{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=wn.create("pluralResolver"),(!this.options.compatibilityJSON||Wk.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=qk(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const s=Fc(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:n});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(s,{type:n})}catch{if(!e.match(/-|_/))return;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[a]=l,l}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,t);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,s).map(n=>`${t}${n}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,t);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((n,a)=>wx[n]-wx[a]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):s.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const s=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let n=e.numbers[s];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const a=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!Vk.includes(this.options.compatibilityJSON)}}const Sx=function(r,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Mk(r,e,t);return!a&&n&&ze(t)&&(a=lf(r,t,s),a===void 0&&(a=lf(e,t,s))),a},jh=r=>r.replace(/\$/g,"$$$$");class Kk{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=wn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:n,prefix:a,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:f,unescapeSuffix:p,unescapePrefix:m,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:C,nestingSuffixEscaped:v,nestingOptionsSeparator:A,maxReplaces:E,alwaysFormat:D}=e.interpolation;this.escape=t!==void 0?t:Dk,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=a?Ri(a):l||"{{",this.suffix=u?Ri(u):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?Ri(y):w||Ri("$t("),this.nestingSuffix=C?Ri(C):v||Ri(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=E||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t&&t.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,s,n){let a,l,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=w=>{if(w.indexOf(this.formatSeparator)<0){const E=Sx(t,d,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,s,{...n,...t,interpolationkey:w}):E}const C=w.split(this.formatSeparator),v=C.shift().trim(),A=C.join(this.formatSeparator).trim();return this.format(Sx(t,d,v,this.options.keySeparator,this.options.ignoreJSONStructure),A,s,{...n,...t,interpolationkey:v})};this.resetRegExp();const p=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,m=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>jh(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?jh(this.escape(w)):jh(w)}].forEach(w=>{for(u=0;a=w.regex.exec(e);){const C=a[1].trim();if(l=f(C),l===void 0)if(typeof p=="function"){const A=p(e,a,n);l=ze(A)?A:""}else if(n&&Object.prototype.hasOwnProperty.call(n,C))l="";else if(m){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),l="";else!ze(l)&&!this.useRawValueToEscape&&(l=px(l));const v=w.safeValue(l);if(e=e.replace(a[0],v),m?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a,l;const u=(d,f)=>{const p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;const m=d.split(new RegExp(`${p}[ ]*{`));let y=`{${m[1]}`;d=m[0],y=this.interpolate(y,l);const w=y.match(/'/g),C=y.match(/"/g);(w&&w.length%2===0&&!C||C.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),f&&(l={...f,...l})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,v),`${d}${p}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;n=this.nestingRegexp.exec(e);){let d=[];l={...s},l=l.replace&&!ze(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let f=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const p=n[1].split(this.formatSeparator).map(m=>m.trim());n[1]=p.shift(),d=p,f=!0}if(a=t(u.call(this,n[1].trim(),l),l),a&&n[0]===e&&!ze(a))return a;ze(a)||(a=px(a)),a||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),a=""),f&&(a=d.reduce((p,m)=>this.format(p,m,s.lng,{...s,interpolationkey:n[1].trim()}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const Xk=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const s=r.split("(");e=s[0].toLowerCase().trim();const n=s[1].substring(0,s[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(l=>{if(l){const[u,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),p=u.trim();t[p]||(t[p]=f),f==="false"&&(t[p]=!1),f==="true"&&(t[p]=!0),isNaN(f)||(t[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:t}},Li=r=>{const e={};return(t,s,n)=>{let a=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(a={...a,[n.interpolationkey]:void 0});const l=s+JSON.stringify(a);let u=e[l];return u||(u=r(Fc(s),n),e[l]=u),u(t)}};class Yk{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=wn.create("formatter"),this.options=e,this.formats={number:Li((t,s)=>{const n=new Intl.NumberFormat(t,{...s});return a=>n.format(a)}),currency:Li((t,s)=>{const n=new Intl.NumberFormat(t,{...s,style:"currency"});return a=>n.format(a)}),datetime:Li((t,s)=>{const n=new Intl.DateTimeFormat(t,{...s});return a=>n.format(a)}),relativetime:Li((t,s)=>{const n=new Intl.RelativeTimeFormat(t,{...s});return a=>n.format(a,s.range||"day")}),list:Li((t,s)=>{const n=new Intl.ListFormat(t,{...s});return a=>n.format(a)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Li(t)}format(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(u=>u.indexOf(")")>-1)){const u=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,u)].join(this.formatSeparator)}return a.reduce((u,d)=>{const{formatName:f,formatOptions:p}=Xk(d);if(this.formats[f]){let m=u;try{const y=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},w=y.locale||y.lng||n.locale||n.lng||s;m=this.formats[f](u,w,{...p,...n,...y})}catch(y){this.logger.warn(y)}return m}else this.logger.warn(`there was no format function for ${f}`);return u},e)}}const Qk=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class Jk extends hu{constructor(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=n,this.logger=wn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,n.backend,n)}queueLoad(e,t,s,n){const a={},l={},u={},d={};return e.forEach(f=>{let p=!0;t.forEach(m=>{const y=`${f}|${m}`;!s.reload&&this.store.hasResourceBundle(f,m)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,p=!1,l[y]===void 0&&(l[y]=!0),a[y]===void 0&&(a[y]=!0),d[m]===void 0&&(d[m]=!0)))}),p||(u[f]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,t,s){const n=e.split("|"),a=n[0],l=n[1];t&&this.emit("failedLoading",a,l,t),!t&&s&&this.store.addResourceBundle(a,l,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const u={};this.queue.forEach(d=>{Lk(d.loaded,[a],l),Qk(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{u[f]||(u[f]={});const p=d.loaded[f];p.length&&p.forEach(m=>{u[f][m]===void 0&&(u[f][m]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:n,wait:a,callback:l});return}this.readingCalls++;const u=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(f&&p&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,n+1,a*2,l)},a);return}l(f,p)},d=this.backend[s].bind(this.backend);if(d.length===2){try{const f=d(e,t);f&&typeof f.then=="function"?f.then(p=>u(null,p)).catch(u):u(null,f)}catch(f){u(f)}return}return d(e,t,u)}prepareLoading(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();ze(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ze(t)&&(t=[t]);const a=this.queueLoad(e,t,s,n);if(!a.toLoad.length)return a.pending.length||n(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=e.split("|"),n=s[0],a=s[1];this.read(n,a,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${n} failed`,l),!l&&u&&this.logger.log(`${t}loaded namespace ${a} for language ${n}`,u),this.loaded(e,l,u)})}saveMissing(e,t,s,n,a){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const d={...l,isUpdate:a},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,t,s,n,d):p=f(e,t,s,n),p&&typeof p.then=="function"?p.then(m=>u(null,m)).catch(u):u(null,p)}catch(p){u(p)}else f(e,t,s,n,u,d)}!e||!e[0]||this.store.addResource(e[0],t,s,n)}}}const Cx=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),ze(r[1])&&(e.defaultValue=r[1]),ze(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ax=r=>(ze(r.ns)&&(r.ns=[r.ns]),ze(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),ze(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs&&r.supportedLngs.indexOf("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),r),gc=()=>{},Zk=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class No extends hu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ax(e),this.services={},this.logger=wn,this.modules={external:[]},Zk(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(ze(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=Cx();this.options={...n,...this.options,...Ax(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?wn.init(a(this.modules.logger),this.options):wn.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=Yk);const m=new bx(this.options);this.store=new xx(this.options.resources,this.options);const y=this.services;y.logger=wn,y.resourceStore=this.store,y.languageUtils=m,y.pluralResolver=new Gk(m,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(y.formatter=a(p),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new Kk(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new Jk(a(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",function(w){for(var C=arguments.length,v=new Array(C>1?C-1:0),A=1;A<C;A++)v[A-1]=arguments[A];e.emit(w,...v)}),this.modules.languageDetector&&(y.languageDetector=a(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=a(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Uc(this.services,this.options),this.translator.on("*",function(w){for(var C=arguments.length,v=new Array(C>1?C-1:0),A=1;A<C;A++)v[A-1]=arguments[A];e.emit(w,...v)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,s||(s=gc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return e.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return e.store[p](...arguments),e}});const d=no(),f=()=>{const p=(m,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(y),s(m,y)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),d}loadResources(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gc;const n=ze(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};n?l(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload&&this.options.preload.forEach(u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(u)})}else s(null)}reloadResources(e,t,s){const n=no();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=gc),this.services.backendConnector.reload(e,t,a=>{n.resolve(),s(a)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Mb.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(e,t){var s=this;this.isLanguageChangingTo=e;const n=no();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,f)=>{f?(a(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,n.resolve(function(){return s.t(...arguments)}),t&&t(d,function(){return s.t(...arguments)})},u=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const f=ze(d)?d:this.services.languageUtils.getBestMatchFromCodes(d);f&&(this.language||a(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,p=>{l(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),n}getFixedT(e,t,s){var n=this;const a=function(l,u){let d;if(typeof u!="object"){for(var f=arguments.length,p=new Array(f>2?f-2:0),m=2;m<f;m++)p[m-2]=arguments[m];d=n.options.overloadTranslationOptionHandler([l,u].concat(p))}else d={...u};d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||s||a.keyPrefix);const y=n.options.keySeparator||".";let w;return d.keyPrefix&&Array.isArray(l)?w=l.map(C=>`${d.keyPrefix}${y}${C}`):w=d.keyPrefix?`${d.keyPrefix}${y}${l}`:l,n.t(w,d)};return ze(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=s,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const f=this.services.backendConnector.state[`${u}|${d}`];return f===-1||f===0||f===2};if(t.precheck){const u=t.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!n||l(a,e)))}loadNamespaces(e,t){const s=no();return this.options.ns?(ze(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{s.resolve(),t&&t(n)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=no();ze(e)&&(e=[e]);const n=this.options.preload||[],a=e.filter(l=>n.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=n.concat(a),this.loadResources(l=>{s.resolve(),t&&t(l)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new bx(Cx());return t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new No(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gc;const s=e.forkResourceStore;s&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},a=new No(n);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(u=>{a[u]=this[u]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s&&(a.store=new xx(this.store.data,n),a.services.resourceStore=a.store),a.translator=new Uc(a.services,n),a.translator.on("*",function(u){for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];a.emit(u,...f)}),a.init(n,t),a.translator.options=n,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const as=No.createInstance();as.createInstance=No.createInstance;as.createInstance;as.dir;as.init;as.loadResources;as.reloadResources;as.use;as.changeLanguage;as.getFixedT;as.t;as.exists;as.setDefaultNamespace;as.hasLoadedNamespace;as.loadNamespaces;as.loadLanguages;as.use(D2).init({resources:{en:{translation:go.en},ar:{translation:go.ar}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const e_=new f2;kw.createRoot(document.getElementById("root")).render(c.jsx(Hc.StrictMode,{children:c.jsx(y2,{client:e_,children:c.jsx(E1,{children:c.jsx(aC,{children:c.jsx(iC,{children:c.jsx(A2,{children:c.jsx(Tk,{})})})})})})}));
